import{s as kl,n as dl,d as a,i as e,b as p,l as i,p as k,c as n,e as d,g as o,m as c,f as hl,h as t,j as r,t as Dl}from"../chunks/DKxUfWwW.js";import{S as vl,i as Cl,d as $,t as L,a as b,m as M,c as T,b as H}from"../chunks/CawLo_VD.js";import{P as El}from"../chunks/DX9j8rWB.js";import"../chunks/Bec6aiiV.js";import{L as yl}from"../chunks/Nlc_SxAn.js";import{C as zs}from"../chunks/Di025hs3.js";import{b as Bl}from"../chunks/CjC168z7.js";import{C as fl}from"../chunks/cr0E6DoL.js";function ul(Ss){let h,w,D,V='<a href="#v2-to-v3-資料庫遷移" class="svp-title-anchor" aria-label="v2 to v3 資料庫遷移"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>v2 to v3 資料庫遷移',O,I,R,wa='<span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 11 11"><path d="M6.62 8.5l3.11 1.55l-.45.89L5.5 9.06l-3.78 1.89l-.45-.89L4.38 8.5l-3.1-1.55l.45-.89L5.5 7.94l3.78-1.89l.44.9l-3.1 1.55zM8.5 3.21v.29l-1 1v1l-2 1l-2-1v-1l-1-1V3a2.9 2.9 0 0 1 3-3a3.09 3.09 0 0 1 3 3.21zm-3.79-.5a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79zM5 4.5h-.5v1H5v-1zm1.5 0H6v1h.5v-1zm1.36-1.79a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79z" fill="currentColor"></path></svg></span>注意事項',xs,A,_s,Aa="在進行遷移之前，請務必先備份資料庫",ka,Fs,$a="在進行遷移之前，請務必先備份資料庫",da,ws,ha,P,qs,j,Vs,U,La='<a href="#本地遷移步驟" class="svp-title-anchor" aria-label="本地遷移步驟"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>本地遷移步驟',Os,N,ba="<li>以下是使用 v2.4.1 版本的資料庫進行遷移的過程</li>",Rs,z,Ma='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 8 8"><path fill="currentColor" d="M5 0c-.55 0-1 .45-1 1s.45 1 1 1s1-.45 1-1s-.45-1-1-1zM3.5 2.5C2.67 2.5 2 3.17 2 4h1c0-.28.22-.5.5-.5s.5.22.5.5s-1 1.64-1 2.5C3 7.36 3.67 8 4.5 8S6 7.33 6 6.5H5c0 .28-.22.5-.5.5S4 6.78 4 6.5C4 6.14 5 4.66 5 4c0-.81-.67-1.5-1.5-1.5z"></path></svg></span>INFO</div><div class="admonition-content"><p>以下所有步驟請記得先進到 raccoon 專案內，在執行指令</p></div>',Ps,G,Ta="<li>先進到 raccoon 更改 dotenv 內 SQL 連接的資訊，請更改成要被遷移的資料庫資訊</li>",js,Q,u,v,Ha=`<code><span class="line"><span style="color:#B07D48;--shiki-dark:#C5E478">SQL_HOST</span><span style="color:#999999;--shiki-dark:#D6DEEB">=</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">127.0.0.1</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#C5E478">SQL_PORT</span><span style="color:#999999;--shiki-dark:#D6DEEB">=</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">5432</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#C5E478">SQL_DB</span><span style="color:#999999;--shiki-dark:#D6DEEB">=</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">raccoon_lun</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#C5E478">SQL_TYPE</span><span style="color:#999999;--shiki-dark:#D6DEEB">=</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">postgres</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#C5E478">SQL_USERNAME</span><span style="color:#999999;--shiki-dark:#D6DEEB">=</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">postgres</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#C5E478">SQL_PASSWORD</span><span style="color:#999999;--shiki-dark:#D6DEEB">=</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">postgres</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#B07D48;--shiki-dark:#C5E478">SQL_LOGGING</span><span style="color:#999999;--shiki-dark:#D6DEEB">=</span><span style="color:#1E754F;--shiki-dark:#FF5874">false</span></span></code>`,Da,W,Ia="toml",va,Z,Us,Y,za="<li>運行以下指令運行遷移腳本</li>",Ns,J,m,C,Sa='<code><span class="line"><span style="color:#59873A;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">node</span><span style="color:#B56959;--shiki-dark:#ECC48D"> models/sql-migrations/v2-to-v3/index.js</span><span style="color:#393A34;--shiki-dark:#D6DEEB"> </span></span></code>',Ca,K,qa="bash",Ea,X,Gs,As,ss,Qs,as,Ws,ls,Va='<a href="#Docker-遷移步驟" class="svp-title-anchor" aria-label="Docker 遷移步驟"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Docker 遷移步驟',Zs,es,Oa="<li>以下是使用 v2.4.1 版本的資料庫進行遷移的過程</li>",Ys,S,Ra='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 11 11"><path d="M6.62 8.5l3.11 1.55l-.45.89L5.5 9.06l-3.78 1.89l-.45-.89L4.38 8.5l-3.1-1.55l.45-.89L5.5 7.94l3.78-1.89l.44.9l-3.1 1.55zM8.5 3.21v.29l-1 1v1l-2 1l-2-1v-1l-1-1V3a2.9 2.9 0 0 1 3-3a3.09 3.09 0 0 1 3 3.21zm-3.79-.5a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79zM5 4.5h-.5v1H5v-1zm1.5 0H6v1h.5v-1zm1.36-1.79a.79.79 0 1 0-.79.79a.79.79 0 0 0 .79-.79z" fill="currentColor"></path></svg></span>WARNING</div><div class="admonition-content"><ul><li>請先關閉 raccoon 的 docker 服務再進行以下操作</li></ul></div>',Js,ns,Ks,ts,Pa='<a href="#Docker-compose" class="svp-title-anchor" aria-label="Docker compose"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>Docker compose',Xs,is,ja="以下是演示用的 v2.4.1 docker compose 檔案",sa,os,g,E,Ua=`<code><span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">x-logging</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#999999;--shiki-dark:#C792EA"> &amp;</span><span style="color:#2E8F82;--shiki-dark:#D6DEEB">a1</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">  driver</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> json-file</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">  options</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    max-size</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> 50m</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    max-file</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 3</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">configs</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">  raccoon-plugins</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    file</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> ./raccoon-plugins.config.js</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">  raccoon-allowed-ae</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    file</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> ./allowAEs.js</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">services</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">  raccoon-dicom</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    image</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> gitlab-registry.dicom.tw/a5566qq123/raccoon-dicom:2.4.1</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    env_file</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">      -</span><span style="color:#B56959;--shiki-dark:#ECC48D"> ./raccoon.env</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    configs</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">      -</span><span style="color:#998418;--shiki-dark:#7FDBCA"> source</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> raccoon-plugins</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">        target</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> /nodejs/raccoon/plugins/config.js</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">      -</span><span style="color:#998418;--shiki-dark:#7FDBCA"> source</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> raccoon-allowed-ae</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">        target</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> /nodejs/raccoon/config/allowAEs.js</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    volumes</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">      -</span><span style="color:#B56959;--shiki-dark:#ECC48D"> ./raccoon-stroage:/dicomFiles</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    depends_on</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      postgres</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">        condition</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> service_healthy</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    restart</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> unless-stopped</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    logging</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#999999;--shiki-dark:#C792EA"> *</span><span style="color:#B07D48;--shiki-dark:#C5E478">a1</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">  fluentd-mongo</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    image</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> mongo:7.0</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    container_name</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> fluentd-mongo</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    volumes</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">      -</span><span style="color:#B56959;--shiki-dark:#ECC48D"> ./raccoon-fluentd-mongo:/data/db</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    restart</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> unless-stopped</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    environment</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      TZ</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> Asia/Taipei</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      MONGO_INITDB_ROOT_USERNAME</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> \${FLUENT_MONGODB_USER:-root}</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      MONGO_INITDB_ROOT_PASSWORD</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> \${FLUENT_MONGODB_PASSWORD:-root}</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    logging</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#999999;--shiki-dark:#C792EA"> *</span><span style="color:#B07D48;--shiki-dark:#C5E478">a1</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">  postgres</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    image</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> postgres:16.4</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    restart</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> always</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    environment</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      POSTGRES_USER</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> postgres</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      POSTGRES_PASSWORD</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> postgres</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      POSTGRES_DB</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> \${POSTGRES_DB:-postgres}</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    ports</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">      -</span><span style="color:#B56959;--shiki-dark:#ECC48D"> 5432:5432</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    volumes</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">      -</span><span style="color:#B56959;--shiki-dark:#ECC48D"> ./postgres-data:/var/lib/postgresql/data</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    logging</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#999999;--shiki-dark:#C792EA"> *</span><span style="color:#B07D48;--shiki-dark:#C5E478">a1</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    healthcheck</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      test</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">        -</span><span style="color:#B56959;--shiki-dark:#ECC48D"> CMD-SHELL</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">        -</span><span style="color:#B56959;--shiki-dark:#ECC48D"> pg_isready -U postgres</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      interval</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> 5s</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      timeout</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> 5s</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">      retries</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 5</span></span></code>`,ya,rs,Na="yaml",Ba,ps,aa,cs,la,ks,Ga='<a href="#更新版本" class="svp-title-anchor" aria-label="更新版本"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>更新版本',ea,ds,Qa="<li>首先，將 docker compose 裡的 tag version 改成 <code>3.1.1</code></li>",na,q,Wa='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 12 12"><path fill="currentColor" d="M4.283 2.98a1.735 1.735 0 1 1 3.434 0l-.576 4.03a1.153 1.153 0 0 1-2.282 0l-.576-4.03Zm2.444-.142a.735.735 0 1 0-1.454 0l.576 4.03a.153.153 0 0 0 .303 0l.575-4.03ZM6 11a1 1 0 1 0 0-2a1 1 0 0 0 0 2Z"></path></svg></span>重要事項</div><div class="admonition-content"><p>請務必使用 <code>v3.1.1</code> 以上的版本，因為在這之前的版本遷移腳本有問題</p></div>',ta,hs,x,y,Za=`<code><span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">services</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">  raccoon-dicom</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#7FDBCA">    image</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B56959;--shiki-dark:#ECC48D"> gitlab-registry.dicom.tw/a5566qq123/raccoon-dicom:3.1.1</span></span></code>`,fa,Ds,Ya="yaml",ua,vs,ia,Cs,Ja="<li>執行指令，下載新版 image</li>",oa,Es,_,B,Ka='<code><span class="line"><span style="color:#59873A;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">sudo</span><span style="color:#B56959;--shiki-dark:#ECC48D"> docker</span><span style="color:#B56959;--shiki-dark:#ECC48D"> compose</span><span style="color:#B56959;--shiki-dark:#ECC48D"> pull</span><span style="color:#B56959;--shiki-dark:#ECC48D"> raccoon-dicom</span></span></code>',ma,ys,Xa="bash",ga,Bs,ra,fs,sl="<li>運行以下指令遷移新版本的資料庫</li>",pa,us,F,f,al='<code><span class="line"><span style="color:#59873A;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">docker</span><span style="color:#B56959;--shiki-dark:#ECC48D"> run</span><span style="color:#A65E2B;--shiki-dark:#82AAFF"> -it</span><span style="color:#A65E2B;--shiki-dark:#82AAFF"> -v</span><span style="color:#B56959;--shiki-dark:#ECC48D"> ./raccoon.env:/nodejs/raccoon/.env</span><span style="color:#A65E2B;--shiki-dark:#82AAFF"> --rm</span><span style="color:#B56959;--shiki-dark:#ECC48D"> gitlab-registry.dicom.tw/a5566qq123/raccoon-dicom:3.1.1</span><span style="color:#B56959;--shiki-dark:#ECC48D"> sh</span><span style="color:#A65E2B;--shiki-dark:#82AAFF"> -c</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">node /nodejs/raccoon/models/sql-migrations/v2-to-v3/index.js</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span></code>',xa,ms,ll="bash",_a,gs,ca;return P=new yl({props:{to:"/guide/developer/sql#資料庫備份與還原",label:"資料庫備份與還原"}}),Z=new zs({}),X=new zs({}),ss=new fl({props:{src:Bl+"/v2-to-v3-migration/exec-console.png",alt:"exec console print",title:"執行後的 console print"}}),ps=new zs({}),vs=new zs({}),Bs=new zs({}),gs=new zs({}),{c(){h=t("div"),w=r(),D=t("h1"),D.innerHTML=V,O=r(),I=t("div"),R=t("div"),R.innerHTML=wa,xs=t("div"),A=t("ul"),_s=t("li"),_s.textContent=Aa,ka=r(),Fs=t("li"),Fs.textContent=$a,da=r(),ws=t("li"),ha=Dl(`在進行遷移之前，請務必先備份資料庫\r
可參考 `),H(P.$$.fragment),qs=r(),j=t("div"),Vs=r(),U=t("h2"),U.innerHTML=La,Os=r(),N=t("ul"),N.innerHTML=ba,Rs=r(),z=t("div"),z.innerHTML=Ma,Ps=r(),G=t("ul"),G.innerHTML=Ta,js=r(),Q=t("div"),u=t("div"),v=t("pre"),v.innerHTML=Ha,Da=r(),W=t("div"),W.textContent=Ia,va=r(),H(Z.$$.fragment),Us=r(),Y=t("ul"),Y.innerHTML=za,Ns=r(),J=t("div"),m=t("div"),C=t("pre"),C.innerHTML=Sa,Ca=r(),K=t("div"),K.textContent=qa,Ea=r(),H(X.$$.fragment),Gs=r(),As=t("p"),H(ss.$$.fragment),Qs=r(),as=t("div"),Ws=r(),ls=t("h2"),ls.innerHTML=Va,Zs=r(),es=t("ul"),es.innerHTML=Oa,Ys=r(),S=t("div"),S.innerHTML=Ra,Js=r(),ns=t("div"),Ks=r(),ts=t("h3"),ts.innerHTML=Pa,Xs=r(),is=t("p"),is.textContent=ja,sa=r(),os=t("div"),g=t("div"),E=t("pre"),E.innerHTML=Ua,ya=r(),rs=t("div"),rs.textContent=Na,Ba=r(),H(ps.$$.fragment),aa=r(),cs=t("div"),la=r(),ks=t("h3"),ks.innerHTML=Ga,ea=r(),ds=t("ul"),ds.innerHTML=Qa,na=r(),q=t("div"),q.innerHTML=Wa,ta=r(),hs=t("div"),x=t("div"),y=t("pre"),y.innerHTML=Za,fa=r(),Ds=t("div"),Ds.textContent=Ya,ua=r(),H(vs.$$.fragment),ia=r(),Cs=t("ul"),Cs.innerHTML=Ja,oa=r(),Es=t("div"),_=t("div"),B=t("pre"),B.innerHTML=Ka,ma=r(),ys=t("div"),ys.textContent=Xa,ga=r(),H(Bs.$$.fragment),ra=r(),fs=t("ul"),fs.innerHTML=sl,pa=r(),us=t("div"),F=t("div"),f=t("pre"),f.innerHTML=al,xa=r(),ms=t("div"),ms.textContent=ll,_a=r(),H(gs.$$.fragment),this.h()},l(s){h=n(s,"DIV",{id:!0,class:!0}),d(h).forEach(a),w=o(s),D=n(s,"H1",{"data-svelte-h":!0}),c(D)!=="svelte-1r1lb0u"&&(D.innerHTML=V),O=o(s),I=n(s,"DIV",{class:!0});var l=d(I);R=n(l,"DIV",{class:!0,"data-svelte-h":!0}),c(R)!=="svelte-jhpx0l"&&(R.innerHTML=wa),xs=n(l,"DIV",{class:!0});var el=d(xs);A=n(el,"UL",{});var $s=d(A);_s=n($s,"LI",{"data-svelte-h":!0}),c(_s)!=="svelte-qiffsa"&&(_s.textContent=Aa),ka=o($s),Fs=n($s,"LI",{"data-svelte-h":!0}),c(Fs)!=="svelte-qiffsa"&&(Fs.textContent=$a),da=o($s),ws=n($s,"LI",{});var Fa=d(ws);ha=hl(Fa,`在進行遷移之前，請務必先備份資料庫\r
可參考 `),T(P.$$.fragment,Fa),Fa.forEach(a),$s.forEach(a),el.forEach(a),l.forEach(a),qs=o(s),j=n(s,"DIV",{id:!0,class:!0}),d(j).forEach(a),Vs=o(s),U=n(s,"H2",{"data-svelte-h":!0}),c(U)!=="svelte-1opcdns"&&(U.innerHTML=La),Os=o(s),N=n(s,"UL",{"data-svelte-h":!0}),c(N)!=="svelte-1yxb5is"&&(N.innerHTML=ba),Rs=o(s),z=n(s,"DIV",{class:!0,"data-svelte-h":!0}),c(z)!=="svelte-144s2dd"&&(z.innerHTML=Ma),Ps=o(s),G=n(s,"UL",{"data-svelte-h":!0}),c(G)!=="svelte-1robmuz"&&(G.innerHTML=Ta),js=o(s),Q=n(s,"DIV",{class:!0});var nl=d(Q);u=n(nl,"DIV",{class:!0});var Ls=d(u);v=n(Ls,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),c(v)!=="svelte-8kcrbw"&&(v.innerHTML=Ha),Da=o(Ls),W=n(Ls,"DIV",{class:!0,"data-svelte-h":!0}),c(W)!=="svelte-1c0a8wa"&&(W.textContent=Ia),va=o(Ls),T(Z.$$.fragment,Ls),Ls.forEach(a),nl.forEach(a),Us=o(s),Y=n(s,"UL",{"data-svelte-h":!0}),c(Y)!=="svelte-4zwwxx"&&(Y.innerHTML=za),Ns=o(s),J=n(s,"DIV",{class:!0});var tl=d(J);m=n(tl,"DIV",{class:!0});var bs=d(m);C=n(bs,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),c(C)!=="svelte-1hv6tc4"&&(C.innerHTML=Sa),Ca=o(bs),K=n(bs,"DIV",{class:!0,"data-svelte-h":!0}),c(K)!=="svelte-16f5xjs"&&(K.textContent=qa),Ea=o(bs),T(X.$$.fragment,bs),bs.forEach(a),tl.forEach(a),Gs=o(s),As=n(s,"P",{});var il=d(As);T(ss.$$.fragment,il),il.forEach(a),Qs=o(s),as=n(s,"DIV",{id:!0,class:!0}),d(as).forEach(a),Ws=o(s),ls=n(s,"H2",{"data-svelte-h":!0}),c(ls)!=="svelte-byqzal"&&(ls.innerHTML=Va),Zs=o(s),es=n(s,"UL",{"data-svelte-h":!0}),c(es)!=="svelte-1yxb5is"&&(es.innerHTML=Oa),Ys=o(s),S=n(s,"DIV",{class:!0,"data-svelte-h":!0}),c(S)!=="svelte-qj0zse"&&(S.innerHTML=Ra),Js=o(s),ns=n(s,"DIV",{id:!0,class:!0}),d(ns).forEach(a),Ks=o(s),ts=n(s,"H3",{"data-svelte-h":!0}),c(ts)!=="svelte-1bf9yfz"&&(ts.innerHTML=Pa),Xs=o(s),is=n(s,"P",{"data-svelte-h":!0}),c(is)!=="svelte-1lrv7pm"&&(is.textContent=ja),sa=o(s),os=n(s,"DIV",{class:!0});var ol=d(os);g=n(ol,"DIV",{class:!0});var Ms=d(g);E=n(Ms,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),c(E)!=="svelte-158gapl"&&(E.innerHTML=Ua),ya=o(Ms),rs=n(Ms,"DIV",{class:!0,"data-svelte-h":!0}),c(rs)!=="svelte-19nouzz"&&(rs.textContent=Na),Ba=o(Ms),T(ps.$$.fragment,Ms),Ms.forEach(a),ol.forEach(a),aa=o(s),cs=n(s,"DIV",{id:!0,class:!0}),d(cs).forEach(a),la=o(s),ks=n(s,"H3",{"data-svelte-h":!0}),c(ks)!=="svelte-7hpng2"&&(ks.innerHTML=Ga),ea=o(s),ds=n(s,"UL",{"data-svelte-h":!0}),c(ds)!=="svelte-1fu52zg"&&(ds.innerHTML=Qa),na=o(s),q=n(s,"DIV",{class:!0,"data-svelte-h":!0}),c(q)!=="svelte-1qetnn0"&&(q.innerHTML=Wa),ta=o(s),hs=n(s,"DIV",{class:!0});var rl=d(hs);x=n(rl,"DIV",{class:!0});var Ts=d(x);y=n(Ts,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),c(y)!=="svelte-1swv3yq"&&(y.innerHTML=Za),fa=o(Ts),Ds=n(Ts,"DIV",{class:!0,"data-svelte-h":!0}),c(Ds)!=="svelte-19nouzz"&&(Ds.textContent=Ya),ua=o(Ts),T(vs.$$.fragment,Ts),Ts.forEach(a),rl.forEach(a),ia=o(s),Cs=n(s,"UL",{"data-svelte-h":!0}),c(Cs)!=="svelte-1rl0k3g"&&(Cs.innerHTML=Ja),oa=o(s),Es=n(s,"DIV",{class:!0});var pl=d(Es);_=n(pl,"DIV",{class:!0});var Hs=d(_);B=n(Hs,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),c(B)!=="svelte-a4sbt6"&&(B.innerHTML=Ka),ma=o(Hs),ys=n(Hs,"DIV",{class:!0,"data-svelte-h":!0}),c(ys)!=="svelte-16f5xjs"&&(ys.textContent=Xa),ga=o(Hs),T(Bs.$$.fragment,Hs),Hs.forEach(a),pl.forEach(a),ra=o(s),fs=n(s,"UL",{"data-svelte-h":!0}),c(fs)!=="svelte-aghwma"&&(fs.innerHTML=sl),pa=o(s),us=n(s,"DIV",{class:!0});var cl=d(us);F=n(cl,"DIV",{class:!0});var Is=d(F);f=n(Is,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),c(f)!=="svelte-1osimvl"&&(f.innerHTML=al),xa=o(Is),ms=n(Is,"DIV",{class:!0,"data-svelte-h":!0}),c(ms)!=="svelte-16f5xjs"&&(ms.textContent=ll),_a=o(Is),T(gs.$$.fragment,Is),Is.forEach(a),cl.forEach(a),this.h()},h(){i(h,"id","v2-to-v3-資料庫遷移"),i(h,"class","svp-anchor-item"),i(R,"class","admonition-heading"),i(xs,"class","admonition-content"),i(I,"class","admonition admonition-warning"),i(j,"id","本地遷移步驟"),i(j,"class","svp-anchor-item"),i(z,"class","admonition admonition-info"),i(v,"class","shiki shiki-themes vitesse-light night-owl"),k(v,"background-color","#ffffff"),k(v,"--shiki-dark-bg","#011627"),k(v,"color","#393a34"),k(v,"--shiki-dark","#d6deeb"),i(v,"tabindex","0"),i(W,"class","svp-code-block--lang"),i(u,"class","svp-code-block"),i(Q,"class","svp-code-block-wrapper"),i(C,"class","shiki shiki-themes vitesse-light night-owl"),k(C,"background-color","#ffffff"),k(C,"--shiki-dark-bg","#011627"),k(C,"color","#393a34"),k(C,"--shiki-dark","#d6deeb"),i(C,"tabindex","0"),i(K,"class","svp-code-block--lang"),i(m,"class","svp-code-block"),i(J,"class","svp-code-block-wrapper"),i(as,"id","Docker-遷移步驟"),i(as,"class","svp-anchor-item"),i(S,"class","admonition admonition-warning"),i(ns,"id","Docker-compose"),i(ns,"class","svp-anchor-item"),i(E,"class","shiki shiki-themes vitesse-light night-owl"),k(E,"background-color","#ffffff"),k(E,"--shiki-dark-bg","#011627"),k(E,"color","#393a34"),k(E,"--shiki-dark","#d6deeb"),i(E,"tabindex","0"),i(rs,"class","svp-code-block--lang"),i(g,"class","svp-code-block"),i(os,"class","svp-code-block-wrapper"),i(cs,"id","更新版本"),i(cs,"class","svp-anchor-item"),i(q,"class","admonition admonition-important"),i(y,"class","shiki shiki-themes vitesse-light night-owl"),k(y,"background-color","#ffffff"),k(y,"--shiki-dark-bg","#011627"),k(y,"color","#393a34"),k(y,"--shiki-dark","#d6deeb"),i(y,"tabindex","0"),i(Ds,"class","svp-code-block--lang"),i(x,"class","svp-code-block"),i(hs,"class","svp-code-block-wrapper"),i(B,"class","shiki shiki-themes vitesse-light night-owl"),k(B,"background-color","#ffffff"),k(B,"--shiki-dark-bg","#011627"),k(B,"color","#393a34"),k(B,"--shiki-dark","#d6deeb"),i(B,"tabindex","0"),i(ys,"class","svp-code-block--lang"),i(_,"class","svp-code-block"),i(Es,"class","svp-code-block-wrapper"),i(f,"class","shiki shiki-themes vitesse-light night-owl"),k(f,"background-color","#ffffff"),k(f,"--shiki-dark-bg","#011627"),k(f,"color","#393a34"),k(f,"--shiki-dark","#d6deeb"),i(f,"tabindex","0"),i(ms,"class","svp-code-block--lang"),i(F,"class","svp-code-block"),i(us,"class","svp-code-block-wrapper")},m(s,l){e(s,h,l),e(s,w,l),e(s,D,l),e(s,O,l),e(s,I,l),p(I,R),p(I,xs),p(xs,A),p(A,_s),p(A,ka),p(A,Fs),p(A,da),p(A,ws),p(ws,ha),M(P,ws,null),e(s,qs,l),e(s,j,l),e(s,Vs,l),e(s,U,l),e(s,Os,l),e(s,N,l),e(s,Rs,l),e(s,z,l),e(s,Ps,l),e(s,G,l),e(s,js,l),e(s,Q,l),p(Q,u),p(u,v),p(u,Da),p(u,W),p(u,va),M(Z,u,null),e(s,Us,l),e(s,Y,l),e(s,Ns,l),e(s,J,l),p(J,m),p(m,C),p(m,Ca),p(m,K),p(m,Ea),M(X,m,null),e(s,Gs,l),e(s,As,l),M(ss,As,null),e(s,Qs,l),e(s,as,l),e(s,Ws,l),e(s,ls,l),e(s,Zs,l),e(s,es,l),e(s,Ys,l),e(s,S,l),e(s,Js,l),e(s,ns,l),e(s,Ks,l),e(s,ts,l),e(s,Xs,l),e(s,is,l),e(s,sa,l),e(s,os,l),p(os,g),p(g,E),p(g,ya),p(g,rs),p(g,Ba),M(ps,g,null),e(s,aa,l),e(s,cs,l),e(s,la,l),e(s,ks,l),e(s,ea,l),e(s,ds,l),e(s,na,l),e(s,q,l),e(s,ta,l),e(s,hs,l),p(hs,x),p(x,y),p(x,fa),p(x,Ds),p(x,ua),M(vs,x,null),e(s,ia,l),e(s,Cs,l),e(s,oa,l),e(s,Es,l),p(Es,_),p(_,B),p(_,ma),p(_,ys),p(_,ga),M(Bs,_,null),e(s,ra,l),e(s,fs,l),e(s,pa,l),e(s,us,l),p(us,F),p(F,f),p(F,xa),p(F,ms),p(F,_a),M(gs,F,null),ca=!0},p:dl,i(s){ca||(b(P.$$.fragment,s),b(Z.$$.fragment,s),b(X.$$.fragment,s),b(ss.$$.fragment,s),b(ps.$$.fragment,s),b(vs.$$.fragment,s),b(Bs.$$.fragment,s),b(gs.$$.fragment,s),ca=!0)},o(s){L(P.$$.fragment,s),L(Z.$$.fragment,s),L(X.$$.fragment,s),L(ss.$$.fragment,s),L(ps.$$.fragment,s),L(vs.$$.fragment,s),L(Bs.$$.fragment,s),L(gs.$$.fragment,s),ca=!1},d(s){s&&(a(h),a(w),a(D),a(O),a(I),a(qs),a(j),a(Vs),a(U),a(Os),a(N),a(Rs),a(z),a(Ps),a(G),a(js),a(Q),a(Us),a(Y),a(Ns),a(J),a(Gs),a(As),a(Qs),a(as),a(Ws),a(ls),a(Zs),a(es),a(Ys),a(S),a(Js),a(ns),a(Ks),a(ts),a(Xs),a(is),a(sa),a(os),a(aa),a(cs),a(la),a(ks),a(ea),a(ds),a(na),a(q),a(ta),a(hs),a(ia),a(Cs),a(oa),a(Es),a(ra),a(fs),a(pa),a(us)),$(P),$(Z),$(X),$(ss),$(ps),$(vs),$(Bs),$(gs)}}}function ml(Ss){let h,w;return h=new El({props:{fm:Ss[0],$$slots:{default:[ul]},$$scope:{ctx:Ss}}}),{c(){H(h.$$.fragment)},l(D){T(h.$$.fragment,D)},m(D,V){M(h,D,V),w=!0},p(D,[V]){const O={};V&2&&(O.$$scope={dirty:V,ctx:D}),h.$set(O)},i(D){w||(b(h.$$.fragment,D),w=!0)},o(D){L(h.$$.fragment,D),w=!1},d(D){$(h,D)}}}function gl(Ss){return[{pageType:"md",lastUpdate:"2025/05/13 16:15:55",anchors:[{slugId:"v2-to-v3-資料庫遷移",title:"v2 to v3 資料庫遷移",depth:1},{slugId:"本地遷移步驟",title:"本地遷移步驟",depth:2},{slugId:"Docker-遷移步驟",title:"Docker 遷移步驟",depth:2},{slugId:"Docker-compose",title:"Docker compose",depth:3},{slugId:"更新版本",title:"更新版本",depth:3}]}]}class Ml extends vl{constructor(h){super(),Cl(this,h,gl,ml,kl,{})}}export{Ml as component};
