import{s as k1,n as D1,d as s,i as l,b as r,l as D,p as Tt,c as a,e as u,g as i,m as h,f as it,h as n,j as o,t as ot}from"../chunks/DKxUfWwW.js";import{S as u1,i as m1,d as v,t as C,a as B,m as $,c as g,b as x}from"../chunks/CawLo_VD.js";import{P as E1}from"../chunks/CK9xmOXC.js";import"../chunks/BgmU2yRB.js";import{L as Gt}from"../chunks/BhAZjWah.js";import{C as f1}from"../chunks/MJIB3euW.js";import{b as Kt}from"../chunks/IB1w94-t.js";import{C as Nt}from"../chunks/DfrytmHp.js";function y1(rt){let p,f,c,w='<a href="#OAuth-插件" class="svp-title-anchor" aria-label="OAuth 插件"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>OAuth 插件',L,_,Jt="此插件會為 Raccoon 加入 middleware，在進到主要程序前，會至指定的驗證伺服器驗證使用者提供的 Token 是否有效",pt,y,Qt='<div class="admonition-heading"><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M14.5 9.5C14.5 6.47 12.03 4 9 4S3.5 6.47 3.5 9.5c0 2.47 1.49 3.89 2.35 4.5h6.3c.86-.61 2.35-2.03 2.35-4.5z" opacity=".3"></path><path fill="currentColor" d="M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2zm-2-1h8v-2H5v2zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5zm-2 0C14.5 6.47 12.03 4 9 4S3.5 6.47 3.5 9.5c0 2.47 1.49 3.89 2.35 4.5h6.3c.86-.61 2.35-2.03 2.35-4.5zm6.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6l-.63 1.37zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94L19 6z"></path></svg></span>小知識</div><div class="admonition-content"><p>此功能在 v2.6.0 後針對 role 使用 acl (access control list)設定</p></div>',ct,T,dt,b,Wt='<a href="#設定檔" class="svp-title-anchor" aria-label="設定檔"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>設定檔',ht,M,Xt="<li>請修改 <code>plugins/config.js</code></li>",kt,H,E,m,Yt=`<code><span class="line"><span style="color:#998418;--shiki-dark:#C5E478">module</span><span style="color:#999999;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">.</span><span style="color:#998418;--shiki-dark:#C5E478">exports</span><span style="color:#999999;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">.</span><span style="color:#B07D48;--shiki-dark:#BAEBE2">pluginsConfig</span><span style="color:#999999;--shiki-dark:#C792EA"> =</span><span style="color:#999999;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="color:#A0ADA0;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 省略...</span></span>
<span class="line"><span style="color:#A0ADA0;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 加入以下內容</span></span>
<span class="line"><span style="color:#B5695977;--shiki-dark:#D9F5DD">    &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">oauth</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#999999;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">        enable</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#1E754F;--shiki-dark:#FF5874"> true</span><span style="color:#999999;--shiki-dark:#D6DEEB">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">        before</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#1E754F;--shiki-dark:#FF5874"> true</span><span style="color:#999999;--shiki-dark:#D6DEEB">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">        routers</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#999999;--shiki-dark:#D6DEEB"> [</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">            {</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">                path</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">*</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#D6DEEB">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">                method</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">get</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">        ],</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">        server</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#999999;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">            url</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">http://keycloak.example.com</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#D6DEEB">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">            realm</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">raccoon</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#D6DEEB">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">            clientId</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">account</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#D6DEEB">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">            clientSecret</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">clientSecret</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">        },</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">        adminRouters</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#999999;--shiki-dark:#D6DEEB"> [</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">            {</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">                path</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">audit-log</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span><span style="color:#999999;--shiki-dark:#D6DEEB">,</span></span>
<span class="line"><span style="color:#998418;--shiki-dark:#D6DEEB">                method</span><span style="color:#999999;--shiki-dark:#D6DEEB">:</span><span style="color:#B5695977;--shiki-dark:#D9F5DD"> &quot;</span><span style="color:#B56959;--shiki-dark:#ECC48D">get</span><span style="color:#B5695977;--shiki-dark:#D9F5DD">&quot;</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">        ]</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#D6DEEB">};</span></span></code>`,Mt,I,Zt="js",Ht,A,Dt,F,ut,q,t1='<a href="#設定值說明" class="svp-title-anchor" aria-label="設定值說明"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>設定值說明',mt,z,s1="<thead><tr><th>Key</th> <th>Description</th></tr></thead> <tbody><tr><td><code>routers[x].path</code></td> <td>The path pattern that matches all routes.</td></tr> <tr><td><code>routers[x].method</code></td> <td>The HTTP method to be used for the route.</td></tr> <tr><td><code>server.url</code></td> <td>The URL of the server.</td></tr> <tr><td><code>server.realm</code></td> <td>The realm for authentication.</td></tr> <tr><td><code>server.clientId</code></td> <td>The client ID for authentication.</td></tr> <tr><td><code>server.clientSecret</code></td> <td>The client secret for authentication.</td></tr> <tr><td><code>acl.enable</code></td> <td>Enable access control</td></tr> <tr><td><code>acl.roles[x].name</code></td> <td>The name of the role.</td></tr> <tr><td><code>acl.roles[x].routers[x].path</code></td> <td>The path pattern.</td></tr> <tr><td><code>acl.roles[x].routers[x].method</code></td> <td>The HTTP method to be used for the route. can use wildcard</td></tr></tbody>",Et,U,ft,P,e1='<a href="#測試案例" class="svp-title-anchor" aria-label="測試案例"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><path d="M280 341.1l-1.2.1c-3.6.4-7 2-9.6 4.5l-64.6 64.6c-13.7 13.7-32 21.2-51.5 21.2s-37.8-7.5-51.5-21.2c-13.7-13.7-21.2-32-21.2-51.5s7.5-37.8 21.2-51.5l68.6-68.6c3.5-3.5 7.3-6.6 11.4-9.3 4.6-3 9.6-5.6 14.8-7.5 4.8-1.8 9.9-3 15-3.7 3.4-.5 6.9-.7 10.2-.7 1.4 0 2.8.1 4.6.2 17.7 1.1 34.4 8.6 46.8 21 7.7 7.7 13.6 17.1 17.1 27.3 2.8 8 11.2 12.5 19.3 10.1.1 0 .2-.1.3-.1.1 0 .2 0 .2-.1 8.1-2.5 12.8-11 10.5-19.1-4.4-15.6-12.2-28.7-24.6-41-15.6-15.6-35.9-25.8-57.6-29.3-1.9-.3-3.8-.6-5.7-.8-3.7-.4-7.4-.6-11.1-.6-2.6 0-5.2.1-7.7.3-5.4.4-10.8 1.2-16.2 2.5-1.1.2-2.1.5-3.2.8-6.7 1.8-13.3 4.2-19.5 7.3-10.3 5.1-19.6 11.7-27.7 19.9l-68.6 68.6C58.9 304.4 48 330.8 48 359c0 28.2 10.9 54.6 30.7 74.4C98.5 453.1 124.9 464 153 464c28.2 0 54.6-10.9 74.4-30.7l65.3-65.3c10.4-10.5 2-28.3-12.7-26.9z" fill="currentColor"></path><path d="M433.3 78.7C413.5 58.9 387.1 48 359 48s-54.6 10.9-74.4 30.7l-63.7 63.7c-9.7 9.7-3.6 26.3 10.1 27.4 4.7.4 9.3-1.3 12.7-4.6l63.8-63.6c13.7-13.7 32-21.2 51.5-21.2s37.8 7.5 51.5 21.2c13.7 13.7 21.2 32 21.2 51.5s-7.5 37.8-21.2 51.5l-68.6 68.6c-3.5 3.5-7.3 6.6-11.4 9.3-4.6 3-9.6 5.6-14.8 7.5-4.8 1.8-9.9 3-15 3.7-3.4.5-6.9.7-10.2.7-1.4 0-2.9-.1-4.6-.2-17.7-1.1-34.4-8.6-46.8-21-7.3-7.3-12.8-16-16.4-25.5-2.9-7.7-11.1-11.9-19.1-9.8-8.9 2.3-14.1 11.7-11.3 20.5 4.5 14 12.1 25.9 23.7 37.5l.2.2c16.9 16.9 39.4 27.6 63.3 30.1 3.7.4 7.4.6 11.1.6 2.6 0 5.2-.1 7.8-.3 6.5-.5 13-1.6 19.3-3.2 6.7-1.8 13.3-4.2 19.5-7.3 10.3-5.1 19.6-11.7 27.7-19.9l68.6-68.6c19.8-19.8 30.7-46.2 30.7-74.4s-11.1-54.6-30.9-74.4z" fill="currentColor"></path></svg></a>測試案例',yt,W,R,It,S,At,vt,X,V,Ct,d,Y,l1="postman 切換到 Auth 頁面",Ft,Z,a1="選擇 OAuth 2.0",qt,O,zt,j,Ut,Pt,G,Rt,K,St,Vt,tt,n1="輸入 Client ID",Ot,st,i1="輸入 Client Secret",jt,et,o1="輸入 scope (必須要有 openid)",Bt,lt,N,$t,J,r1="<li>設定完畢後，點擊最下方的 <code>Generate New Access Token</code> 按鈕</li> <li>登入帳號密碼</li> <li>成功會跳回 postman，並點擊 process 按鈕</li> <li>點擊 use token 按鈕</li> <li>再重新呼叫 API，就可以成功拿到資料了！</li>",gt,at,Q,xt;return A=new f1({}),S=new Gt({props:{to:"http://127.0.0.1:8081/dicom-web/studies/，若設定成功，會出現",label:"http://127.0.0.1:8081/dicom-web/studies/，若設定成功，會出現"}}),V=new Nt({props:{src:Kt+"/plugin-list/oauth/postman-401.png",alt:"postman first request 401",title:"postman 第一次呼叫回傳401"}}),j=new Gt({props:{to:"https://keycloak.example.com/realms/"+bt+"/protocol/openid-connect/auth",label:"https://keycloak.example.com/realms/"+bt+"/protocol/openid-connect/auth"}}),K=new Gt({props:{to:"https://keycloak.dicom.tw/realms/"+bt+"/protocol/openid-connect/token",label:"https://keycloak.dicom.tw/realms/"+bt+"/protocol/openid-connect/token"}}),N=new Nt({props:{src:Kt+"/plugin-list/oauth/postman-oauth-settings.png",alt:"postman oauth settings",title:"postman oauth 設定"}}),Q=new Nt({props:{src:Kt+"/plugin-list/oauth/postman-token-200.png",alt:"postman token 200",title:"postman 使用 token 後成功取得資料"}}),{c(){p=n("div"),f=o(),c=n("h1"),c.innerHTML=w,L=o(),_=n("p"),_.textContent=Jt,pt=o(),y=n("div"),y.innerHTML=Qt,ct=o(),T=n("div"),dt=o(),b=n("h2"),b.innerHTML=Wt,ht=o(),M=n("ul"),M.innerHTML=Xt,kt=o(),H=n("div"),E=n("div"),m=n("pre"),m.innerHTML=Yt,Mt=o(),I=n("div"),I.textContent=Zt,Ht=o(),x(A.$$.fragment),Dt=o(),F=n("div"),ut=o(),q=n("h3"),q.innerHTML=t1,mt=o(),z=n("table"),z.innerHTML=s1,Et=o(),U=n("div"),ft=o(),P=n("h2"),P.innerHTML=e1,yt=o(),W=n("ul"),R=n("li"),It=ot("使用 postman 呼叫 GET "),x(S.$$.fragment),At=ot(" 401 Unauthorized 的錯誤"),vt=o(),X=n("p"),x(V.$$.fragment),Ct=o(),d=n("ul"),Y=n("li"),Y.textContent=l1,Ft=o(),Z=n("li"),Z.textContent=a1,qt=o(),O=n("li"),zt=ot("輸入 Auth URL (keycloak 正常為: "),x(j.$$.fragment),Ut=ot(")"),Pt=o(),G=n("li"),Rt=ot("輸入 Access Token URL (keycloak 正常為: "),x(K.$$.fragment),St=ot(")"),Vt=o(),tt=n("li"),tt.textContent=n1,Ot=o(),st=n("li"),st.textContent=i1,jt=o(),et=n("li"),et.textContent=o1,Bt=o(),lt=n("p"),x(N.$$.fragment),$t=o(),J=n("ul"),J.innerHTML=r1,gt=o(),at=n("p"),x(Q.$$.fragment),this.h()},l(t){p=a(t,"DIV",{id:!0,class:!0}),u(p).forEach(s),f=i(t),c=a(t,"H1",{"data-svelte-h":!0}),h(c)!=="svelte-c3keu8"&&(c.innerHTML=w),L=i(t),_=a(t,"P",{"data-svelte-h":!0}),h(_)!=="svelte-18b2auo"&&(_.textContent=Jt),pt=i(t),y=a(t,"DIV",{class:!0,"data-svelte-h":!0}),h(y)!=="svelte-ukpas0"&&(y.innerHTML=Qt),ct=i(t),T=a(t,"DIV",{id:!0,class:!0}),u(T).forEach(s),dt=i(t),b=a(t,"H2",{"data-svelte-h":!0}),h(b)!=="svelte-19p58ib"&&(b.innerHTML=Wt),ht=i(t),M=a(t,"UL",{"data-svelte-h":!0}),h(M)!=="svelte-1kvt6hy"&&(M.innerHTML=Xt),kt=i(t),H=a(t,"DIV",{class:!0});var e=u(H);E=a(e,"DIV",{class:!0});var nt=u(E);m=a(nt,"PRE",{class:!0,style:!0,tabindex:!0,"data-svelte-h":!0}),h(m)!=="svelte-i0ejxk"&&(m.innerHTML=Yt),Mt=i(nt),I=a(nt,"DIV",{class:!0,"data-svelte-h":!0}),h(I)!=="svelte-1dc28vj"&&(I.textContent=Zt),Ht=i(nt),g(A.$$.fragment,nt),nt.forEach(s),e.forEach(s),Dt=i(t),F=a(t,"DIV",{id:!0,class:!0}),u(F).forEach(s),ut=i(t),q=a(t,"H3",{"data-svelte-h":!0}),h(q)!=="svelte-1ldvomh"&&(q.innerHTML=t1),mt=i(t),z=a(t,"TABLE",{"data-svelte-h":!0}),h(z)!=="svelte-1vg36ql"&&(z.innerHTML=s1),Et=i(t),U=a(t,"DIV",{id:!0,class:!0}),u(U).forEach(s),ft=i(t),P=a(t,"H2",{"data-svelte-h":!0}),h(P)!=="svelte-dr0ay9"&&(P.innerHTML=e1),yt=i(t),W=a(t,"UL",{});var p1=u(W);R=a(p1,"LI",{});var wt=u(R);It=it(wt,"使用 postman 呼叫 GET "),g(S.$$.fragment,wt),At=it(wt," 401 Unauthorized 的錯誤"),wt.forEach(s),p1.forEach(s),vt=i(t),X=a(t,"P",{});var c1=u(X);g(V.$$.fragment,c1),c1.forEach(s),Ct=i(t),d=a(t,"UL",{});var k=u(d);Y=a(k,"LI",{"data-svelte-h":!0}),h(Y)!=="svelte-e3j2yh"&&(Y.textContent=l1),Ft=i(k),Z=a(k,"LI",{"data-svelte-h":!0}),h(Z)!=="svelte-pmbxf2"&&(Z.textContent=a1),qt=i(k),O=a(k,"LI",{});var Lt=u(O);zt=it(Lt,"輸入 Auth URL (keycloak 正常為: "),g(j.$$.fragment,Lt),Ut=it(Lt,")"),Lt.forEach(s),Pt=i(k),G=a(k,"LI",{});var _t=u(G);Rt=it(_t,"輸入 Access Token URL (keycloak 正常為: "),g(K.$$.fragment,_t),St=it(_t,")"),_t.forEach(s),Vt=i(k),tt=a(k,"LI",{"data-svelte-h":!0}),h(tt)!=="svelte-6g1sv7"&&(tt.textContent=n1),Ot=i(k),st=a(k,"LI",{"data-svelte-h":!0}),h(st)!=="svelte-196pwdm"&&(st.textContent=i1),jt=i(k),et=a(k,"LI",{"data-svelte-h":!0}),h(et)!=="svelte-b2iadw"&&(et.textContent=o1),k.forEach(s),Bt=i(t),lt=a(t,"P",{});var d1=u(lt);g(N.$$.fragment,d1),d1.forEach(s),$t=i(t),J=a(t,"UL",{"data-svelte-h":!0}),h(J)!=="svelte-as96nu"&&(J.innerHTML=r1),gt=i(t),at=a(t,"P",{});var h1=u(at);g(Q.$$.fragment,h1),h1.forEach(s),this.h()},h(){D(p,"id","OAuth-插件"),D(p,"class","svp-anchor-item"),D(y,"class","admonition admonition-tip"),D(T,"id","設定檔"),D(T,"class","svp-anchor-item"),D(m,"class","shiki shiki-themes vitesse-light night-owl"),Tt(m,"background-color","#ffffff"),Tt(m,"--shiki-dark-bg","#011627"),Tt(m,"color","#393a34"),Tt(m,"--shiki-dark","#d6deeb"),D(m,"tabindex","0"),D(I,"class","svp-code-block--lang"),D(E,"class","svp-code-block"),D(H,"class","svp-code-block-wrapper"),D(F,"id","設定值說明"),D(F,"class","svp-anchor-item"),D(U,"id","測試案例"),D(U,"class","svp-anchor-item")},m(t,e){l(t,p,e),l(t,f,e),l(t,c,e),l(t,L,e),l(t,_,e),l(t,pt,e),l(t,y,e),l(t,ct,e),l(t,T,e),l(t,dt,e),l(t,b,e),l(t,ht,e),l(t,M,e),l(t,kt,e),l(t,H,e),r(H,E),r(E,m),r(E,Mt),r(E,I),r(E,Ht),$(A,E,null),l(t,Dt,e),l(t,F,e),l(t,ut,e),l(t,q,e),l(t,mt,e),l(t,z,e),l(t,Et,e),l(t,U,e),l(t,ft,e),l(t,P,e),l(t,yt,e),l(t,W,e),r(W,R),r(R,It),$(S,R,null),r(R,At),l(t,vt,e),l(t,X,e),$(V,X,null),l(t,Ct,e),l(t,d,e),r(d,Y),r(d,Ft),r(d,Z),r(d,qt),r(d,O),r(O,zt),$(j,O,null),r(O,Ut),r(d,Pt),r(d,G),r(G,Rt),$(K,G,null),r(G,St),r(d,Vt),r(d,tt),r(d,Ot),r(d,st),r(d,jt),r(d,et),l(t,Bt,e),l(t,lt,e),$(N,lt,null),l(t,$t,e),l(t,J,e),l(t,gt,e),l(t,at,e),$(Q,at,null),xt=!0},p:D1,i(t){xt||(B(A.$$.fragment,t),B(S.$$.fragment,t),B(V.$$.fragment,t),B(j.$$.fragment,t),B(K.$$.fragment,t),B(N.$$.fragment,t),B(Q.$$.fragment,t),xt=!0)},o(t){C(A.$$.fragment,t),C(S.$$.fragment,t),C(V.$$.fragment,t),C(j.$$.fragment,t),C(K.$$.fragment,t),C(N.$$.fragment,t),C(Q.$$.fragment,t),xt=!1},d(t){t&&(s(p),s(f),s(c),s(L),s(_),s(pt),s(y),s(ct),s(T),s(dt),s(b),s(ht),s(M),s(kt),s(H),s(Dt),s(F),s(ut),s(q),s(mt),s(z),s(Et),s(U),s(ft),s(P),s(yt),s(W),s(vt),s(X),s(Ct),s(d),s(Bt),s(lt),s($t),s(J),s(gt),s(at)),v(A),v(S),v(V),v(j),v(K),v(N),v(Q)}}}function v1(rt){let p,f;return p=new E1({props:{fm:rt[0],$$slots:{default:[y1]},$$scope:{ctx:rt}}}),{c(){x(p.$$.fragment)},l(c){g(p.$$.fragment,c)},m(c,w){$(p,c,w),f=!0},p(c,[w]){const L={};w&2&&(L.$$scope={dirty:w,ctx:c}),p.$set(L)},i(c){f||(B(p.$$.fragment,c),f=!0)},o(c){C(p.$$.fragment,c),f=!1},d(c){v(p,c)}}}let bt="{realm}";function C1(rt){return[{pageType:"md",lastUpdate:"2024/11/21 16:10:08",anchors:[{slugId:"OAuth-插件",title:"OAuth 插件",depth:1},{slugId:"設定檔",title:"設定檔",depth:2},{slugId:"設定值說明",title:"設定值說明",depth:3},{slugId:"測試案例",title:"測試案例",depth:2}]}]}class b1 extends u1{constructor(p){super(),m1(this,p,C1,v1,k1,{})}}export{b1 as component};
