<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:234,&quot;tests&quot;:603,&quot;passes&quot;:603,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-10-18T07:27:35.849Z&quot;,&quot;end&quot;:&quot;2024-10-18T07:29:01.835Z&quot;,&quot;duration&quot;:85986,&quot;testsRegistered&quot;:603,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;9229b9e2-0faa-4e54-be65-a96e05953b6e&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: beforeAll in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook: beforeAll in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;console.log(\&quot;run before all hook\&quot;);\nif (!process.env.TEST_DB_TYPE) process.env.TEST_DB_TYPE = \&quot;sql\&quot;;\nif (process.env.TEST_DB_TYPE === \&quot;sql\&quot;) {\n    require(\&quot;../models/sql/init\&quot;).then(() =&gt; {\n        done();\n    });\n} else if (process.env.TEST_DB_TYPE === \&quot;mongodb\&quot;) {\n    const mongoose = require(\&quot;mongoose\&quot;);\n    mongoose.connection.on(\&quot;connected\&quot;, () =&gt; {\n        console.log(\&quot;connected to mongodb\&quot;);\n        done();\n    });\n    require(\&quot;../models/mongodb/index\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;090a1895-5031-491b-86e8-aba02a2209d6&quot;,&quot;parentUUID&quot;:&quot;9229b9e2-0faa-4e54-be65-a96e05953b6e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;title&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\convert-image\\convertInstanceImage.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\convert-image\\convertInstanceImage.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; \&quot;before all\&quot; hook in \&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:331,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/dicomFiles/jpeg2000/example-jpeg-2000.dcm\&quot;)\n);\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/forStore/PDF/pdf.dcm\&quot;)\n);\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/forStore/PDF/pdf2.dcm\&quot;)\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcca9720-2da1-4dca-ad4f-866f3fcb66bf&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should convert instance to type: JPEG (image/jpeg)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: JPEG (image/jpeg)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:246,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a919560-f4e1-48eb-8240-08c467321e77&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: GIF (image/gif)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: GIF (image/gif)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:957,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dea924c4-bc8c-46e8-b9c1-b1bc1be4dc9f&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: BMP (image/bmp)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: BMP (image/bmp)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:284,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e0f9f13-4b82-4463-8467-1d66f802b8ba&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: JPG (image/jp2)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: JPG (image/jp2)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95e23ba5-1566-4591-afa1-ccd248f006f9&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: PNG (image/png)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: PNG (image/png)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:207,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa875569-116c-433e-ac2f-8417d6183101&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: TIFF (image/tiff)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: TIFF (image/tiff)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:365,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d591ff76-42c3-4e56-973d-ff6f5c892e1e&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: MP4 (video/mp4)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: MP4 (video/mp4)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:277,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19611b7e-225d-4119-834b-6b2541ce163d&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: AVI (video/x-msvideo)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: AVI (video/x-msvideo)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:258,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56203456-f2bc-4bcf-979a-7a6cf6909267&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: MPG (video/mpeg)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: MPG (video/mpeg)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c10ad92-2e61-4db9-9181-fd602dea3022&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert instance to type: H265 (video/H265)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should convert instance to type: H265 (video/H265)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:401,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7120824a-6f4b-4bbe-bc40-51e45a105ee5&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should covert instance to PDF&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should covert instance to PDF&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${PDF_STUDY_UID}/series/${PDF_SERIES_UID}/instances/${PDF_INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/pdf\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5f5c8bb-e80a-445a-b1ac-aa2a0c54732a&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when using invalid media type in accept header&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should raise 400 (Bad Request) when using invalid media type in accept header&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4f7ae9a-9ce8-4550-9011-6f641df20110&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when instance not exist&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert instance &#x27;/dicom-web/:studyUID/series/:seriesUID/instances/:instanceUID/convert-image&#x27; Should raise 404 (Not Found) when instance not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}2486/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/pdf\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61f88485-2cc3-4a43-97f7-c713503e4125&quot;,&quot;parentUUID&quot;:&quot;80b8a650-d182-41ca-95a5-d5826badfe38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2a919560-f4e1-48eb-8240-08c467321e77&quot;,&quot;dea924c4-bc8c-46e8-b9c1-b1bc1be4dc9f&quot;,&quot;4e0f9f13-4b82-4463-8467-1d66f802b8ba&quot;,&quot;95e23ba5-1566-4591-afa1-ccd248f006f9&quot;,&quot;aa875569-116c-433e-ac2f-8417d6183101&quot;,&quot;d591ff76-42c3-4e56-973d-ff6f5c892e1e&quot;,&quot;19611b7e-225d-4119-834b-6b2541ce163d&quot;,&quot;56203456-f2bc-4bcf-979a-7a6cf6909267&quot;,&quot;3c10ad92-2e61-4db9-9181-fd602dea3022&quot;,&quot;7120824a-6f4b-4bbe-bc40-51e45a105ee5&quot;,&quot;f5f5c8bb-e80a-445a-b1ac-aa2a0c54732a&quot;,&quot;e4f7ae9a-9ce8-4550-9011-6f641df20110&quot;,&quot;61f88485-2cc3-4a43-97f7-c713503e4125&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3316,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;title&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\convert-image\\convertSeriesImages.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\convert-image\\convertSeriesImages.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; \&quot;before all\&quot; hook in \&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:142,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/dicomFiles/jpeg2000/example-jpeg-2000.dcm\&quot;)\n);\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/forStore/PDF/pdf.dcm\&quot;)\n);\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/forStore/PDF/pdf2.dcm\&quot;)\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfca59d0-858f-4ed2-aa19-5c8902151ca7&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: JPEG (image/jpeg)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: JPEG (image/jpeg)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cde220a2-a018-4a68-ad55-92f0c925e32a&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: GIF (image/gif)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: GIF (image/gif)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74ba033a-b750-49f7-8979-107ad1639e6e&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: BMP (image/bmp)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: BMP (image/bmp)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:299,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c8ef9bc-7ce3-48c7-83a2-06aec85037ea&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: JPG (image/jp2)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: JPG (image/jp2)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44b36634-13b0-4e4a-9735-f4b2207c5e47&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: PNG (image/png)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: PNG (image/png)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:182,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c75fa80-2bd2-46ad-b031-123505428cfb&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: TIFF (image/tiff)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: TIFF (image/tiff)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:288,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cc8f20e-cb89-46c5-ba3c-c63d1d8e4add&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: MP4 (video/mp4)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: MP4 (video/mp4)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:292,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f197c329-7e33-4dad-b928-4238f12c5749&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: AVI (video/x-msvideo)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: AVI (video/x-msvideo)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:256,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35a51348-6bef-4ae8-9efb-a6f191716dc6&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: MPG (video/mpeg)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: MPG (video/mpeg)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:246,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7ed5e3b-834e-4a11-b8f0-1d7a9b7fd3dd&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert series&#x27; instances to type: H265 (video/H265)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should convert series&#x27; instances to type: H265 (video/H265)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:378,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77cc1b46-0a6c-46ec-9b79-f6e4150a13d2&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should covert series&#x27; instances to PDF&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should covert series&#x27; instances to PDF&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${PDF_STUDY_UID}/series/${PDF_SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/pdf\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;320d9112-e3d0-4165-a040-3e77a56d43c4&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when using invalid media type in accept header&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should raise 400 (Bad Request) when using invalid media type in accept header&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb264346-0a24-49e3-9c33-9100e77bf70c&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when series not exist&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert series&#x27; instances &#x27;/dicom-web/:studyUID/series/:seriesUID/convert-image&#x27; Should raise 404 (Not Found) when series not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}2486/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/pdf\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dd1efab-2458-4b28-97ce-16aea53db34d&quot;,&quot;parentUUID&quot;:&quot;ad769c1f-c567-4930-b80a-bafd68353b4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cde220a2-a018-4a68-ad55-92f0c925e32a&quot;,&quot;74ba033a-b750-49f7-8979-107ad1639e6e&quot;,&quot;5c8ef9bc-7ce3-48c7-83a2-06aec85037ea&quot;,&quot;44b36634-13b0-4e4a-9735-f4b2207c5e47&quot;,&quot;4c75fa80-2bd2-46ad-b031-123505428cfb&quot;,&quot;9cc8f20e-cb89-46c5-ba3c-c63d1d8e4add&quot;,&quot;f197c329-7e33-4dad-b928-4238f12c5749&quot;,&quot;35a51348-6bef-4ae8-9efb-a6f191716dc6&quot;,&quot;f7ed5e3b-834e-4a11-b8f0-1d7a9b7fd3dd&quot;,&quot;77cc1b46-0a6c-46ec-9b79-f6e4150a13d2&quot;,&quot;320d9112-e3d0-4165-a040-3e77a56d43c4&quot;,&quot;eb264346-0a24-49e3-9c33-9100e77bf70c&quot;,&quot;1dd1efab-2458-4b28-97ce-16aea53db34d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2391,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;title&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\convert-image\\convetStudyImages.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\convert-image\\convetStudyImages.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; \&quot;before all\&quot; hook in \&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:160,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/dicomFiles/jpeg2000/example-jpeg-2000.dcm\&quot;)\n);\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/forStore/PDF/pdf.dcm\&quot;)\n);\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/forStore/PDF/pdf2.dcm\&quot;)\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3497b2b-ecfc-4e59-a33e-4b71d9e31a5c&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: JPEG (image/jpeg)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: JPEG (image/jpeg)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:144,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;782c664a-2b25-4486-8b62-826bbf70db4d&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: GIF (image/gif)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: GIF (image/gif)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:254,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d48f628e-dd86-4087-bea1-36fca70399e5&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: BMP (image/bmp)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: BMP (image/bmp)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:382,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c69e0165-72ff-4626-8f36-85d3f850118b&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: JPG (image/jp2)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: JPG (image/jp2)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:50,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ec17dee-6878-4e75-b171-7c520ffebd49&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: PNG (image/png)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: PNG (image/png)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:221,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7976e987-4298-49e3-b029-f97947d34802&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: TIFF (image/tiff)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: TIFF (image/tiff)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:296,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86670f81-8c10-4a2f-a66e-b513dbd09c01&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: MP4 (video/mp4)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: MP4 (video/mp4)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:295,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d429014-897d-433e-93b4-d653f78ed16b&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: AVI (video/x-msvideo)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: AVI (video/x-msvideo)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:244,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07f80b82-c551-4de2-bfea-ea552e3c9d0d&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: MPG (video/mpeg)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: MPG (video/mpeg)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:252,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;671d5d6b-fe97-43e8-9b2f-925262cca707&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should convert study&#x27;s instances to type: H265 (video/H265)&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should convert study&#x27;s instances to type: H265 (video/H265)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:378,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: value\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86489d79-3c18-4b16-bed6-8911f2b13732&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should covert study&#x27;s instances to PDF&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should covert study&#x27;s instances to PDF&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${PDF_STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/pdf\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dacd30fd-2857-4291-807d-2243b8a99965&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when using invalid media type in accept header&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should raise 400 (Bad Request) when using invalid media type in accept header&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e899238b-84f5-4eb5-8d6d-dfbc7ee40000&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when study not exist&quot;,&quot;fullTitle&quot;:&quot;Convert Images convert study&#x27;s instances &#x27;/dicom-web/:studyUID/convert-image&#x27; Should raise 404 (Not Found) when study not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}2486/convert-image`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/pdf\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfa62cee-0c72-40af-a8f3-12b0fbaa4486&quot;,&quot;parentUUID&quot;:&quot;f1403cfd-89b7-4719-96ae-aa6c8f394578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;782c664a-2b25-4486-8b62-826bbf70db4d&quot;,&quot;d48f628e-dd86-4087-bea1-36fca70399e5&quot;,&quot;c69e0165-72ff-4626-8f36-85d3f850118b&quot;,&quot;3ec17dee-6878-4e75-b171-7c520ffebd49&quot;,&quot;7976e987-4298-49e3-b029-f97947d34802&quot;,&quot;86670f81-8c10-4a2f-a66e-b513dbd09c01&quot;,&quot;3d429014-897d-433e-93b4-d653f78ed16b&quot;,&quot;07f80b82-c551-4de2-bfea-ea552e3c9d0d&quot;,&quot;671d5d6b-fe97-43e8-9b2f-925262cca707&quot;,&quot;86489d79-3c18-4b16-bed6-8911f2b13732&quot;,&quot;dacd30fd-2857-4291-807d-2243b8a99965&quot;,&quot;e899238b-84f5-4eb5-8d6d-dfbc7ee40000&quot;,&quot;bfa62cee-0c72-40af-a8f3-12b0fbaa4486&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2538,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;00351404-2ae3-449f-b98d-0af82acb3b41&quot;,&quot;title&quot;:&quot;delete dicom with reason&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\deleteWithReason.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\deleteWithReason.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;delete dicom with reason\&quot;&quot;,&quot;fullTitle&quot;:&quot;delete dicom with reason \&quot;before each\&quot; hook in \&quot;delete dicom with reason\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1089,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.truncate();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d38ed18-7483-4a8e-9dce-3f529312b3b2&quot;,&quot;parentUUID&quot;:&quot;00351404-2ae3-449f-b98d-0af82acb3b41&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3a4773f5-37a2-4915-bfca-4ce663c99964&quot;,&quot;title&quot;:&quot;instance level&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\deleteWithReason.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\deleteWithReason.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should delete instance with reason and expect 4 instances in series&quot;,&quot;fullTitle&quot;:&quot;delete dicom with reason instance level Should delete instance with reason and expect 4 instances in series&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/delete-with-reason`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify({ reason: \&quot;test\&quot; })\n});\nexpect(res.statusCode).to.equal(200);\nlet getReasonRes = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/delete-reason/${INSTANCE_UID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(getReasonRes.statusCode).to.equal(200);\n\nlet reason = await getReasonRes.json();\nexpect(reason).have.property(\&quot;uid\&quot;).to.be.equal(INSTANCE_UID);\nexpect(reason).have.property(\&quot;reason\&quot;).to.be.equal(\&quot;test\&quot;);\nexpect(reason).have.property(\&quot;deleteBy\&quot;).to.be.equal(\&quot;NONE\&quot;);\nlet queryRes = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(queryRes.statusCode).to.equal(200);\nlet instances = await queryRes.json();\nexpect(instances).to.be.an(\&quot;array\&quot;).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73d1190d-23db-465f-9c97-dd4e3c66d5f6&quot;,&quot;parentUUID&quot;:&quot;3a4773f5-37a2-4915-bfca-4ce663c99964&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;73d1190d-23db-465f-9c97-dd4e3c66d5f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;0cb1f7c1-b4c7-4a07-a0ed-2750f58f8bbb&quot;,&quot;title&quot;:&quot;series level&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\deleteWithReason.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\deleteWithReason.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should delete series with reason and expect 2 series in study&quot;,&quot;fullTitle&quot;:&quot;delete dicom with reason series level Should delete series with reason and expect 2 series in study&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/delete-with-reason`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify({ reason: \&quot;test\&quot; })\n});\nexpect(res.statusCode).to.equal(200);\nlet getReasonRes = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/delete-reason/${SERIES_UID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(getReasonRes.statusCode).to.equal(200);\nlet reason = await getReasonRes.json();\nexpect(reason).have.property(\&quot;uid\&quot;).to.be.equal(SERIES_UID);\nexpect(reason).have.property(\&quot;reason\&quot;).to.be.equal(\&quot;test\&quot;);\nexpect(reason).have.property(\&quot;deleteBy\&quot;).to.be.equal(\&quot;NONE\&quot;);\nlet queryRes = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(queryRes.statusCode).to.equal(200);\nlet series = await queryRes.json();\nexpect(series).to.be.an(\&quot;array\&quot;).have.lengthOf(2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49d16222-7e75-44fb-870d-82e1c96a32e9&quot;,&quot;parentUUID&quot;:&quot;0cb1f7c1-b4c7-4a07-a0ed-2750f58f8bbb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;49d16222-7e75-44fb-870d-82e1c96a32e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;4abb0094-1ec0-4229-9608-a493beb713c8&quot;,&quot;title&quot;:&quot;study level&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\deleteWithReason.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\deleteWithReason.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should delete study with reason and expect 3 studies&quot;,&quot;fullTitle&quot;:&quot;delete dicom with reason study level Should delete study with reason and expect 3 studies&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/delete-with-reason`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify({ reason: \&quot;test\&quot; })\n});\nexpect(res.statusCode).to.equal(200);\nlet getReasonRes = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/delete-reason/${STUDY_UID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(getReasonRes.statusCode).to.equal(200);\nlet reason = await getReasonRes.json();\nexpect(reason).have.property(\&quot;uid\&quot;).to.be.equal(STUDY_UID);\nexpect(reason).have.property(\&quot;reason\&quot;).to.be.equal(\&quot;test\&quot;);\nexpect(reason).have.property(\&quot;deleteBy\&quot;).to.be.equal(\&quot;NONE\&quot;);\nlet queryRes = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(queryRes.statusCode).to.equal(200);\nlet series = await queryRes.json();\nexpect(series).to.be.an(\&quot;array\&quot;).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a74748e-d423-458d-ba70-1f31fd106fc1&quot;,&quot;parentUUID&quot;:&quot;4abb0094-1ec0-4229-9608-a493beb713c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0a74748e-d423-458d-ba70-1f31fd106fc1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3c4c46e6-e685-42a5-87ea-d93b8ab3a736&quot;,&quot;title&quot;:&quot;MWL-RS change filtered modality worklist status&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\changeFilteredMWLStatus.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\changeFilteredMWLStatus.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;MWL-RS change filtered modality worklist status\&quot;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change filtered modality worklist status \&quot;before all\&quot; hook in \&quot;MWL-RS change filtered modality worklist status\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1022,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: [testMwlItem]\n});\nlet clonedMwlItem = structuredClone(testMwlItem);\nclonedMwlItem[dictionary.keyword.StudyInstanceUID][\&quot;Value\&quot;][0] = await UIDUtils.createUID();\nclonedMwlItem[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0][dictionary.keyword.ScheduledProcedureStepID][\&quot;Value\&quot;][0] = \&quot;SPS-USA\&quot;;\nclonedMwlItem[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0][dictionary.keyword.ScheduledStationName][\&quot;Value\&quot;][0] = \&quot;USA\&quot;;\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: [clonedMwlItem]\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86e35cfd-6c18-4df8-b7aa-f99fb0abc235&quot;,&quot;parentUUID&quot;:&quot;3c4c46e6-e685-42a5-87ea-d93b8ab3a736&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should change filtered modality worklist status&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change filtered modality worklist status Should change filtered modality worklist status&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems/status/READY?ScheduledProcedureStepSequence.ScheduledStationName=USA\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nlet response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nlet mwlItems = await response.json();\nexpect(mwlItems).to.be.a(\&quot;array\&quot;);\nexpect(mwlItems).have.lengthOf(2);\nlet usaMwlItem = mwlItems.find(mwlItem =&gt; mwlItem[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0][dictionary.keyword.ScheduledStationName][\&quot;Value\&quot;][0] === \&quot;USA\&quot;);\nexpect(usaMwlItem)\n.have.property(dictionary.keyword.ScheduledProcedureStepSequence)\n.have.property(\&quot;Value\&quot;)\n.have.property(\&quot;0\&quot;)\n.have.property(dictionary.keyword.ScheduledProcedureStepStatus)\n.have.property(\&quot;Value\&quot;)\n.have.property(\&quot;0\&quot;)\n.to.be.equal(\&quot;READY\&quot;);\nlet ggMwlItem = mwlItems.find(mwlItem =&gt; mwlItem[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0][dictionary.keyword.ScheduledStationName][\&quot;Value\&quot;][0] === \&quot;GG\&quot;);\nexpect(ggMwlItem)\n.have.property(dictionary.keyword.ScheduledProcedureStepSequence)\n.have.property(\&quot;Value\&quot;)\n.have.property(\&quot;0\&quot;)\n.have.property(dictionary.keyword.ScheduledProcedureStepStatus)\n.have.property(\&quot;Value\&quot;)\n.have.property(\&quot;0\&quot;)\n.to.be.equal(\&quot;SCHEDULED\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bea26571-f508-4378-b622-4d7da3685990&quot;,&quot;parentUUID&quot;:&quot;3c4c46e6-e685-42a5-87ea-d93b8ab3a736&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bea26571-f508-4378-b622-4d7da3685990&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;fc131e0e-c3da-4388-acb5-c5f11da17921&quot;,&quot;title&quot;:&quot;MWL-RS change MWL status&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\changeMWLStatus.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\changeMWLStatus.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;MWL-RS change MWL status\&quot;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change MWL status \&quot;before all\&quot; hook in \&quot;MWL-RS change MWL status\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:960,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: [testMwlItem]\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2990683d-9d3f-4625-9050-b7da1354d5f5&quot;,&quot;parentUUID&quot;:&quot;fc131e0e-c3da-4388-acb5-c5f11da17921&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should change MWL status SCHEDULED to READY&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change MWL status Should change MWL status SCHEDULED to READY&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/mwlitems/${mwlUID}/${spsID}/status/READY`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.a(\&quot;object\&quot;);\nexpect(data).to.have.property(\&quot;0020000D\&quot;).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;).to.be.equal(mwlUID);\nexpect(data).to.have.property(dictionary.keyword.ScheduledProcedureStepSequence)\n.have.property(\&quot;Value\&quot;)\n.have.property(\&quot;0\&quot;)\n.have.property(dictionary.keyword.ScheduledProcedureStepStatus)\n.have.property(\&quot;Value\&quot;)\n.have.property(\&quot;0\&quot;)\n.to.be.equal(\&quot;READY\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17774b2f-619d-4d9c-a816-2a3afc928148&quot;,&quot;parentUUID&quot;:&quot;fc131e0e-c3da-4388-acb5-c5f11da17921&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when mwl not exist&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change MWL status Should raise 404 (Not Found) when mwl not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/mwlitems/1/1/status/READY`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a5f17f9-3c11-44e9-81fb-4d6351481cc5&quot;,&quot;parentUUID&quot;:&quot;fc131e0e-c3da-4388-acb5-c5f11da17921&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;17774b2f-619d-4d9c-a816-2a3afc928148&quot;,&quot;3a5f17f9-3c11-44e9-81fb-4d6351481cc5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;30f640bf-d105-4268-ba84-347d73fa812b&quot;,&quot;title&quot;:&quot;MWL-RS change filtered modality worklist status&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\countMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\countMWL.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;MWL-RS change filtered modality worklist status\&quot;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change filtered modality worklist status \&quot;before all\&quot; hook in \&quot;MWL-RS change filtered modality worklist status\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1480,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: [testMwlItem]\n});\nlet clonedMwlItem = structuredClone(testMwlItem);\nclonedMwlItem[dictionary.keyword.StudyInstanceUID][\&quot;Value\&quot;][0] = await UIDUtils.createUID();\nclonedMwlItem[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0][dictionary.keyword.ScheduledProcedureStepID][\&quot;Value\&quot;][0] = \&quot;SPS-USA\&quot;\nclonedMwlItem[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0][dictionary.keyword.ScheduledStationName][\&quot;Value\&quot;][0] = \&quot;USA\&quot;;\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: [clonedMwlItem]\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;156c1cae-7b7a-4db0-85ac-0ab91590218a&quot;,&quot;parentUUID&quot;:&quot;30f640bf-d105-4268-ba84-347d73fa812b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should count modality worklist and expect 2&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change filtered modality worklist status Should count modality worklist and expect 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: \&quot;/dicom-web/mwlitems/count\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.have.property(\&quot;count\&quot;).to.be.equal(2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;841a3861-0f9a-4b7c-b0c3-76516e70432a&quot;,&quot;parentUUID&quot;:&quot;30f640bf-d105-4268-ba84-347d73fa812b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;841a3861-0f9a-4b7c-b0c3-76516e70432a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;title&quot;:&quot;MWL-RS create modality worklist&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\createMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\createMWL.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;MWL-RS create modality worklist\&quot;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist \&quot;before all\&quot; hook in \&quot;MWL-RS create modality worklist\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:882,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07e103bf-ed28-4e5d-bdf2-66a01313adfb&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should create modality worklist&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should create modality worklist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([testMwlItem])\n});\nexpect(response.statusCode).to.equal(201);\nlet data = await response.json();\nexpect(data).to.have.property(dictionary.keyword.PatientID).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;).to.be.a(\&quot;string\&quot;);\nexpect(data).to.have.property(dictionary.keyword.PatientName).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;).to.be.a(\&quot;object\&quot;);\nexpect(data).to.have.property(dictionary.keyword.ScheduledProcedureStepSequence).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;).to.be.an(\&quot;object\&quot;);\nexpect(data[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0])\n    .to.have.property(dictionary.keyword.ScheduledStationAETitle)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;).to.be.a(\&quot;string\&quot;);\nexpect(data[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0])\n    .to.have.property(dictionary.keyword.ScheduledProcedureStepStartDate)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;).to.be.a(\&quot;string\&quot;);\nexpect(data[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0])\n    .to.have.property(dictionary.keyword.ScheduledProcedureStepStartTime)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;).to.be.a(\&quot;string\&quot;);\nexpect(data[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0])\n    .to.have.property(dictionary.keyword.Modality)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;).to.be.a(\&quot;string\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5450c1c7-57c9-4c20-91bd-901116aa69d9&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should update modality worklist&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should update modality worklist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedMwlItem = structuredClone(testMwlItem);\nclonedMwlItem[\&quot;00401001\&quot;][\&quot;Value\&quot;][0] = \&quot;U-RPI\&quot;;\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([clonedMwlItem])\n});\nexpect(response.statusCode).to.equal(201);\nlet data = await response.json();\nexpect(data)\n    .to.have.property(dictionary.keyword.RequestedProcedureID)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;)\n    .to.be.equal(\&quot;U-RPI\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac663e26-9a2d-449a-bd9f-d57b1d70f43b&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should assign default &#x27;ScheduledProcedureStepStatus&#x27;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should assign default &#x27;ScheduledProcedureStepStatus&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedMwlItem = structuredClone(testMwlItem);\ndelete clonedMwlItem[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0][dictionary.keyword.ScheduledProcedureStepStatus];\nclonedMwlItem[dictionary.keyword.StudyInstanceUID][\&quot;Value\&quot;][0] = await UIDUtils.createUID();\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([clonedMwlItem])\n});\nexpect(response.statusCode).to.equal(201);\nlet data = await response.json();\nexpect(data)\n    .to.have.property(dictionary.keyword.ScheduledProcedureStepSequence)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;)\n    .have.property(dictionary.keyword.ScheduledProcedureStepStatus)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;)\n    .to.be.equal(\&quot;SCHEDULED\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04a099d7-a81f-4d68-9a84-daacadd02e1b&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should assign default &#x27;ScheduledProcedureStepID&#x27;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should assign default &#x27;ScheduledProcedureStepID&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedMwlItem = structuredClone(testMwlItem);\ndelete clonedMwlItem[dictionary.keyword.ScheduledProcedureStepSequence][\&quot;Value\&quot;][0][dictionary.keyword.ScheduledProcedureStepID];\nclonedMwlItem[dictionary.keyword.StudyInstanceUID][\&quot;Value\&quot;][0] = await UIDUtils.createUID();\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([clonedMwlItem])\n});\nexpect(response.statusCode).to.equal(201);\nlet data = await response.json();\nexpect(data)\n    .to.have.property(dictionary.keyword.ScheduledProcedureStepSequence)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;)\n    .have.property(dictionary.keyword.ScheduledProcedureStepID)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;)\n    .to.include(\&quot;SPS\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a59cf3a8-c137-41fd-a1e3-40cd58cfa04e&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should assign default &#x27;ScheduledProcedureStepID&#x27;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should assign default &#x27;ScheduledProcedureStepID&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedMwlItem = structuredClone(testMwlItem);\ndelete clonedMwlItem[dictionary.keyword.RequestedProcedureID];\nclonedMwlItem[dictionary.keyword.StudyInstanceUID][\&quot;Value\&quot;][0] = await UIDUtils.createUID();\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([clonedMwlItem])\n});\nexpect(response.statusCode).to.equal(201);\nlet data = await response.json();\nexpect(data)\n    .to.have.property(dictionary.keyword.RequestedProcedureID)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;)\n    .to.include(\&quot;RP\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd29e19c-1f1f-4376-b08a-5d4a30f731af&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should assign default &#x27;StudyInstanceUID&#x27;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should assign default &#x27;StudyInstanceUID&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedMwlItem = structuredClone(testMwlItem);\ndelete clonedMwlItem[dictionary.keyword.StudyInstanceUID];\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([clonedMwlItem])\n});\nexpect(response.statusCode).to.equal(201);\nlet data = await response.json();\nexpect(data)\n    .to.have.property(dictionary.keyword.StudyInstanceUID)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24ecea7c-c844-4a0b-84f9-c4d9c33022d6&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should assign default &#x27;AccessionNumber&#x27;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should assign default &#x27;AccessionNumber&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedMwlItem = structuredClone(testMwlItem);\ndelete clonedMwlItem[dictionary.keyword.AccessionNumber];\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([clonedMwlItem])\n});\nexpect(response.statusCode).to.equal(201);\nlet data = await response.json();\nexpect(data)\n    .to.have.property(dictionary.keyword.AccessionNumber)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;661322a1-f8c5-4c26-ace4-52fbd466222f&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should using 00080060 when sps.00080060 is empty&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should using 00080060 when sps.00080060 is empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedMwlItem = structuredClone(testMwlItem);\ndelete clonedMwlItem[\&quot;00400100\&quot;][\&quot;Value\&quot;][0][\&quot;00080060\&quot;];\nclonedMwlItem[\&quot;00080060\&quot;][\&quot;Value\&quot;][0] = \&quot;OT\&quot;;\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([clonedMwlItem])\n});\nexpect(response.statusCode).to.equal(201);\nlet data = await response.json();\nexpect(data)\n    .have.property(\&quot;00400100\&quot;)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;)\n    .have.property(\&quot;00080060\&quot;)\n    .have.property(\&quot;Value\&quot;)\n    .have.property(\&quot;0\&quot;)\n    .to.be.equal(\&quot;OT\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;740981b3-30c5-4091-8886-0fab1adfb624&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when patient not exist&quot;,&quot;fullTitle&quot;:&quot;MWL-RS create modality worklist Should raise 404 (Not Found) when patient not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([testMwlItem])\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c92b6b4-0ae5-48ec-af51-0da5bf9c6611&quot;,&quot;parentUUID&quot;:&quot;c185c6e1-1f7f-402b-ae83-0ef03a6a7597&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5450c1c7-57c9-4c20-91bd-901116aa69d9&quot;,&quot;ac663e26-9a2d-449a-bd9f-d57b1d70f43b&quot;,&quot;04a099d7-a81f-4d68-9a84-daacadd02e1b&quot;,&quot;a59cf3a8-c137-41fd-a1e3-40cd58cfa04e&quot;,&quot;dd29e19c-1f1f-4376-b08a-5d4a30f731af&quot;,&quot;24ecea7c-c844-4a0b-84f9-c4d9c33022d6&quot;,&quot;661322a1-f8c5-4c26-ace4-52fbd466222f&quot;,&quot;740981b3-30c5-4091-8886-0fab1adfb624&quot;,&quot;4c92b6b4-0ae5-48ec-af51-0da5bf9c6611&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:61,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;ec9b6250-f610-4ca5-a7b6-efcdd5500d48&quot;,&quot;title&quot;:&quot;MWL-RS change filtered modality worklist status&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\deleteMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\deleteMWL.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;MWL-RS change filtered modality worklist status\&quot;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change filtered modality worklist status \&quot;before all\&quot; hook in \&quot;MWL-RS change filtered modality worklist status\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:917,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: [testMwlItem]\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0312954-b451-4088-b25a-cf1a880c3972&quot;,&quot;parentUUID&quot;:&quot;ec9b6250-f610-4ca5-a7b6-efcdd5500d48&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete mwlitem&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change filtered modality worklist status should delete mwlitem&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let beforeDeletingFetchMwlRes = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(beforeDeletingFetchMwlRes.statusCode).to.equal(200);\nlet beforeDeletingFetchMwlData = await beforeDeletingFetchMwlRes.json();\nexpect(beforeDeletingFetchMwlData).to.be.an(\&quot;array\&quot;);\nexpect(beforeDeletingFetchMwlData).have.lengthOf(1);\nconst deleteRes = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/mwlitems/${studyUID}/${spsID}`\n});\nexpect(deleteRes.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10e8271a-3554-4395-a397-94cf98e37b29&quot;,&quot;parentUUID&quot;:&quot;ec9b6250-f610-4ca5-a7b6-efcdd5500d48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should raise 404 when mwlitem not exist&quot;,&quot;fullTitle&quot;:&quot;MWL-RS change filtered modality worklist status should raise 404 when mwlitem not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deleteRes = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/mwlitems/${studyUID}/${spsID}`\n});\nexpect(deleteRes.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c347abcf-4ec4-402c-b151-c2d0ea849709&quot;,&quot;parentUUID&quot;:&quot;ec9b6250-f610-4ca5-a7b6-efcdd5500d48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;10e8271a-3554-4395-a397-94cf98e37b29&quot;,&quot;c347abcf-4ec4-402c-b151-c2d0ea849709&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;cae3226c-e115-421c-8c69-365d1b040c81&quot;,&quot;title&quot;:&quot;MWL-RS search modality worklist&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;MWL-RS search modality worklist\&quot;&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist \&quot;before all\&quot; hook in \&quot;MWL-RS search modality worklist\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:919,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([testMwlItem])\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a92137bb-e4db-4c8f-8df4-02602b7a594b&quot;,&quot;parentUUID&quot;:&quot;cae3226c-e115-421c-8c69-365d1b040c81&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should get modality worklist&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist Should get modality worklist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n            method: \&quot;GET\&quot;,\n            url: \&quot;/dicom-web/mwlitems\&quot;,\n            headers: {\n                \&quot;Accept\&quot;: \&quot;application/dicom+json\&quot;\n            }\n        });\n        expect(response.statusCode).to.be.equal(200);\n        let data = await response.json();\n        expect(data).to.be.an(\&quot;array\&quot;);\n        expect(data).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdc4c6ed-49a1-4ab8-ae1a-3e190971fbd3&quot;,&quot;parentUUID&quot;:&quot;cae3226c-e115-421c-8c69-365d1b040c81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4dbf90e8-0db7-4923-8689-9335c0971bea&quot;,&quot;title&quot;:&quot;query parameters&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;76c0eb7a-fe47-461b-be17-74e9391842fa&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;StudyInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;StudyInstanceUID=1.2.276.0.7230010.3.2.102&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;StudyInstanceUID&#x27; Should query modality worklist with param &#x27;StudyInstanceUID=1.2.276.0.7230010.3.2.102&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea448119-a57f-4d1b-9057-ce8c499e38c5&quot;,&quot;parentUUID&quot;:&quot;76c0eb7a-fe47-461b-be17-74e9391842fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;StudyInstanceUID=1.2.3.4&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;StudyInstanceUID&#x27; Should query modality worklist with param &#x27;StudyInstanceUID=1.2.3.4&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d703762-70fd-4579-9895-9d8c4026c8a1&quot;,&quot;parentUUID&quot;:&quot;76c0eb7a-fe47-461b-be17-74e9391842fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ea448119-a57f-4d1b-9057-ce8c499e38c5&quot;,&quot;1d703762-70fd-4579-9895-9d8c4026c8a1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;1d45a28f-3d94-4a2d-b818-fe9eda7a0c56&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;StudyDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;StudyDate=19870714&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;StudyDate&#x27; Should query modality worklist with param &#x27;StudyDate=19870714&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34853e75-8ce5-4e9a-add7-b9425b03beb1&quot;,&quot;parentUUID&quot;:&quot;1d45a28f-3d94-4a2d-b818-fe9eda7a0c56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;StudyDate=19900101&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;StudyDate&#x27; Should query modality worklist with param &#x27;StudyDate=19900101&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d2acdc3-fe2b-4a9b-b770-42cb1e45a2fd&quot;,&quot;parentUUID&quot;:&quot;1d45a28f-3d94-4a2d-b818-fe9eda7a0c56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;34853e75-8ce5-4e9a-add7-b9425b03beb1&quot;,&quot;9d2acdc3-fe2b-4a9b-b770-42cb1e45a2fd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;d778c8b6-3966-4eac-8f7f-ac7176551bcb&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;AccessionNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;AccessionNumber=acc-123456&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;AccessionNumber&#x27; Should query modality worklist with param &#x27;AccessionNumber=acc-123456&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06a6ed32-e278-406e-acc9-3aecb7c7bb78&quot;,&quot;parentUUID&quot;:&quot;d778c8b6-3966-4eac-8f7f-ac7176551bcb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;AccessionNumber=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;AccessionNumber&#x27; Should query modality worklist with param &#x27;AccessionNumber=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fc24e59-8070-4008-988c-888766934897&quot;,&quot;parentUUID&quot;:&quot;d778c8b6-3966-4eac-8f7f-ac7176551bcb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;06a6ed32-e278-406e-acc9-3aecb7c7bb78&quot;,&quot;7fc24e59-8070-4008-988c-888766934897&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;9428a716-8c70-40ab-a186-064e4c1014a9&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;RequestedProcedureID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;RequestedProcedureID=RP488M9439&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;RequestedProcedureID&#x27; Should query modality worklist with param &#x27;RequestedProcedureID=RP488M9439&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d81ff50-0e7b-4d12-b2cc-9f888c8956f3&quot;,&quot;parentUUID&quot;:&quot;9428a716-8c70-40ab-a186-064e4c1014a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;RequestedProcedureID=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;RequestedProcedureID&#x27; Should query modality worklist with param &#x27;RequestedProcedureID=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42009122-fccd-4c96-8efc-4882fa8a7137&quot;,&quot;parentUUID&quot;:&quot;9428a716-8c70-40ab-a186-064e4c1014a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d81ff50-0e7b-4d12-b2cc-9f888c8956f3&quot;,&quot;42009122-fccd-4c96-8efc-4882fa8a7137&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;7931948d-6abc-4752-9e10-ee09ae19e2eb&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;AdmissionID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;AdmissionID=A-987&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;AdmissionID&#x27; Should query modality worklist with param &#x27;AdmissionID=A-987&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;430b2951-a754-42f5-a7c4-f04901c65534&quot;,&quot;parentUUID&quot;:&quot;7931948d-6abc-4752-9e10-ee09ae19e2eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;AdmissionID=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;AdmissionID&#x27; Should query modality worklist with param &#x27;AdmissionID=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef856708-5f40-4e49-ab9c-bcbcba76b617&quot;,&quot;parentUUID&quot;:&quot;7931948d-6abc-4752-9e10-ee09ae19e2eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;430b2951-a754-42f5-a7c4-f04901c65534&quot;,&quot;ef856708-5f40-4e49-ab9c-bcbcba76b617&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;1f0c146e-0a3f-42a4-b187-772c459b208e&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;InstitutionName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;InstitutionName=HELL&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;InstitutionName&#x27; Should query modality worklist with param &#x27;InstitutionName=HELL&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f1a7f6e-91eb-421a-9655-36cff2416d18&quot;,&quot;parentUUID&quot;:&quot;1f0c146e-0a3f-42a4-b187-772c459b208e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;InstitutionName=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;InstitutionName&#x27; Should query modality worklist with param &#x27;InstitutionName=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;477513ea-9c30-4a8c-b709-13b08e2b8a92&quot;,&quot;parentUUID&quot;:&quot;1f0c146e-0a3f-42a4-b187-772c459b208e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1f1a7f6e-91eb-421a-9655-36cff2416d18&quot;,&quot;477513ea-9c30-4a8c-b709-13b08e2b8a92&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;15be7878-3389-4a84-bc22-fda946c3a37e&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;InstitutionalDepartmentName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;InstitutionalDepartmentName=FLOOR18&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;InstitutionalDepartmentName&#x27; Should query modality worklist with param &#x27;InstitutionalDepartmentName=FLOOR18&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8363283-298b-4f27-8b95-77d0cc7bb4e3&quot;,&quot;parentUUID&quot;:&quot;15be7878-3389-4a84-bc22-fda946c3a37e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;InstitutionalDepartmentName=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;InstitutionalDepartmentName&#x27; Should query modality worklist with param &#x27;InstitutionalDepartmentName=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bfc5d73-29ba-4073-8c14-fbffcc016e36&quot;,&quot;parentUUID&quot;:&quot;15be7878-3389-4a84-bc22-fda946c3a37e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8363283-298b-4f27-8b95-77d0cc7bb4e3&quot;,&quot;7bfc5d73-29ba-4073-8c14-fbffcc016e36&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;524bd3f3-fcbd-4626-9ea9-49e56c6c42ca&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.LocalNamespaceEntityID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.LocalNamespaceEntityID=123456789&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.LocalNamespaceEntityID&#x27; Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.LocalNamespaceEntityID=123456789&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2d9272b-ec2f-4595-9e2d-2790a6c4a580&quot;,&quot;parentUUID&quot;:&quot;524bd3f3-fcbd-4626-9ea9-49e56c6c42ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.LocalNamespaceEntityID=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.LocalNamespaceEntityID&#x27; Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.LocalNamespaceEntityID=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8bbf84d-6c8f-451c-a83f-4a278d4deb65&quot;,&quot;parentUUID&quot;:&quot;524bd3f3-fcbd-4626-9ea9-49e56c6c42ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d2d9272b-ec2f-4595-9e2d-2790a6c4a580&quot;,&quot;b8bbf84d-6c8f-451c-a83f-4a278d4deb65&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;43a965b7-f029-4164-900d-0eb784d4ee01&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityID=29c737e3-b739-4169-aca7-eea07a808643&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityID&#x27; Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityID=29c737e3-b739-4169-aca7-eea07a808643&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddf5a5c0-60bb-4293-8f00-6c7793320aa6&quot;,&quot;parentUUID&quot;:&quot;43a965b7-f029-4164-900d-0eb784d4ee01&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityID=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityID&#x27; Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityID=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5092110c-88df-40a4-a287-73527aa6f4b0&quot;,&quot;parentUUID&quot;:&quot;43a965b7-f029-4164-900d-0eb784d4ee01&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ddf5a5c0-60bb-4293-8f00-6c7793320aa6&quot;,&quot;5092110c-88df-40a4-a287-73527aa6f4b0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;7910854b-90b4-47cf-9255-d3daaf60ddac&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityIDType&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityIDType=UUID&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityIDType&#x27; Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityIDType=UUID&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4564c7a9-e113-444a-bec1-019512e0d891&quot;,&quot;parentUUID&quot;:&quot;7910854b-90b4-47cf-9255-d3daaf60ddac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityIDType=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityIDType&#x27; Should query modality worklist with param &#x27;IssuerOfAccessionNumberSequence.UniversalEntityIDType=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c20387af-da21-4150-9f06-8f8ad778bc69&quot;,&quot;parentUUID&quot;:&quot;7910854b-90b4-47cf-9255-d3daaf60ddac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4564c7a9-e113-444a-bec1-019512e0d891&quot;,&quot;c20387af-da21-4150-9f06-8f8ad778bc69&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;98cc4b51-4c84-4f42-b352-faea2b7f7c16&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID=987654321&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID&#x27; Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID=987654321&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27bc621b-305f-49fa-b9ad-f70af213ab70&quot;,&quot;parentUUID&quot;:&quot;98cc4b51-4c84-4f42-b352-faea2b7f7c16&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID&#x27; Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4907337d-2dc5-4a1a-8bf8-984ef1bb4e54&quot;,&quot;parentUUID&quot;:&quot;98cc4b51-4c84-4f42-b352-faea2b7f7c16&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;27bc621b-305f-49fa-b9ad-f70af213ab70&quot;,&quot;4907337d-2dc5-4a1a-8bf8-984ef1bb4e54&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;e065e613-6e84-4682-a141-5fb15b2ef76b&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID=a8f1bce0-efbf-4dea-a85b-84976b5020d0&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID&#x27; Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID=a8f1bce0-efbf-4dea-a85b-84976b5020d0&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cacfa5f5-2b0d-4395-817e-273b4f61b957&quot;,&quot;parentUUID&quot;:&quot;e065e613-6e84-4682-a141-5fb15b2ef76b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID&#x27; Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42a5b368-1183-4b28-9881-7d9fb6e20d48&quot;,&quot;parentUUID&quot;:&quot;e065e613-6e84-4682-a141-5fb15b2ef76b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cacfa5f5-2b0d-4395-817e-273b4f61b957&quot;,&quot;42a5b368-1183-4b28-9881-7d9fb6e20d48&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;79c14eac-08db-4973-a9ef-286777990ee7&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType=UUID&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType&#x27; Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType=UUID&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f37a6517-9be7-4592-b554-79e346eeb1c4&quot;,&quot;parentUUID&quot;:&quot;79c14eac-08db-4973-a9ef-286777990ee7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType&#x27; Should query modality worklist with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66535dd8-5a94-4e15-9118-e40615a5b931&quot;,&quot;parentUUID&quot;:&quot;79c14eac-08db-4973-a9ef-286777990ee7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f37a6517-9be7-4592-b554-79e346eeb1c4&quot;,&quot;66535dd8-5a94-4e15-9118-e40615a5b931&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;cbdd74cb-ccda-45a9-a641-6bd02ab5ab23&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationAETitle&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationAETitle=WORKLIST&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationAETitle&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationAETitle=WORKLIST&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d2e2724-3770-4340-ba04-8ee51fd34744&quot;,&quot;parentUUID&quot;:&quot;cbdd74cb-ccda-45a9-a641-6bd02ab5ab23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationAETitle=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationAETitle&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationAETitle=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dce0a61c-798b-4fc5-bb30-127e6db5d8ec&quot;,&quot;parentUUID&quot;:&quot;cbdd74cb-ccda-45a9-a641-6bd02ab5ab23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d2e2724-3770-4340-ba04-8ee51fd34744&quot;,&quot;dce0a61c-798b-4fc5-bb30-127e6db5d8ec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;81718333-6cfd-4ace-a416-ded74d9c2673&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationName=GG&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationName&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationName=GG&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;212b7311-1633-4bc2-bb01-1697fa851271&quot;,&quot;parentUUID&quot;:&quot;81718333-6cfd-4ace-a416-ded74d9c2673&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationName=foobar&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationName&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledStationName=foobar&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;709df71e-6d2e-4bf0-9027-a5fd5f5b506f&quot;,&quot;parentUUID&quot;:&quot;81718333-6cfd-4ace-a416-ded74d9c2673&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;212b7311-1633-4bc2-bb01-1697fa851271&quot;,&quot;709df71e-6d2e-4bf0-9027-a5fd5f5b506f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;afe4133e-8082-4ac7-bbbc-3fe0e7878d7d&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate=20231021&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate=20231021&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16a50ccf-7025-4d5f-b1ef-139ced92256d&quot;,&quot;parentUUID&quot;:&quot;afe4133e-8082-4ac7-bbbc-3fe0e7878d7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate=19990101&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartDate=19990101&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11f5d9a9-9eb2-44aa-81b1-96b4de088106&quot;,&quot;parentUUID&quot;:&quot;afe4133e-8082-4ac7-bbbc-3fe0e7878d7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;16a50ccf-7025-4d5f-b1ef-139ced92256d&quot;,&quot;11f5d9a9-9eb2-44aa-81b1-96b4de088106&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;b017e986-abfa-49c9-80b9-c3644d8bee9b&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndDate=20231212&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndDate&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndDate=20231212&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a15b64e9-fa33-4f38-b9c1-8841f0066219&quot;,&quot;parentUUID&quot;:&quot;b017e986-abfa-49c9-80b9-c3644d8bee9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndDate=19990101&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndDate&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndDate=19990101&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d81895a7-cd40-439a-a265-951ea86ba814&quot;,&quot;parentUUID&quot;:&quot;b017e986-abfa-49c9-80b9-c3644d8bee9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a15b64e9-fa33-4f38-b9c1-8841f0066219&quot;,&quot;d81895a7-cd40-439a-a265-951ea86ba814&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;c65c63df-a6b6-46c7-9149-134f2e6d367b&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime=003525.475&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime=003525.475&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e144d7a-5091-47cb-802c-944e54e36c2b&quot;,&quot;parentUUID&quot;:&quot;c65c63df-a6b6-46c7-9149-134f2e6d367b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime=003525&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStartTime=003525&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60cab08c-6465-4689-8305-ecfb1591aa28&quot;,&quot;parentUUID&quot;:&quot;c65c63df-a6b6-46c7-9149-134f2e6d367b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1e144d7a-5091-47cb-802c-944e54e36c2b&quot;,&quot;60cab08c-6465-4689-8305-ecfb1591aa28&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;21eb4629-f945-4d40-af79-74b28ddc03cd&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndTime=123525.475&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndTime&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndTime=123525.475&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35e5797c-f087-4a6c-b3ff-a67447a5a3c7&quot;,&quot;parentUUID&quot;:&quot;21eb4629-f945-4d40-af79-74b28ddc03cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndTime=003525&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndTime&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepEndTime=003525&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a6982fc-02d3-4077-8a59-4ca56ff6b918&quot;,&quot;parentUUID&quot;:&quot;21eb4629-f945-4d40-af79-74b28ddc03cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;35e5797c-f087-4a6c-b3ff-a67447a5a3c7&quot;,&quot;5a6982fc-02d3-4077-8a59-4ca56ff6b918&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;b58561b7-2af4-4e46-8929-447aa7c24ae6&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledPerformingPhysicianName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledPerformingPhysicianName=ENT00373&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledPerformingPhysicianName&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledPerformingPhysicianName=ENT00373&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcedf610-82d9-480c-8915-988db03d9150&quot;,&quot;parentUUID&quot;:&quot;b58561b7-2af4-4e46-8929-447aa7c24ae6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledPerformingPhysicianName=ENT123&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledPerformingPhysicianName&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledPerformingPhysicianName=ENT123&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bc33446-4eb8-4d96-aebe-f8d135167c26&quot;,&quot;parentUUID&quot;:&quot;b58561b7-2af4-4e46-8929-447aa7c24ae6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dcedf610-82d9-480c-8915-988db03d9150&quot;,&quot;9bc33446-4eb8-4d96-aebe-f8d135167c26&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;6f3360f4-5f51-4444-8b1d-f6a0612777c9&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepDescription&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepDescription=EXAM-DESC&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepDescription&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepDescription=EXAM-DESC&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21d64950-7d71-4af1-8366-9619d1e2f7ad&quot;,&quot;parentUUID&quot;:&quot;6f3360f4-5f51-4444-8b1d-f6a0612777c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepDescription=ENT123&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepDescription&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepDescription=ENT123&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9972c5fe-258f-4ca0-9a5d-7e980858e365&quot;,&quot;parentUUID&quot;:&quot;6f3360f4-5f51-4444-8b1d-f6a0612777c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;21d64950-7d71-4af1-8366-9619d1e2f7ad&quot;,&quot;9972c5fe-258f-4ca0-9a5d-7e980858e365&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;4508c037-2221-4384-929a-8df2c733ab37&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepID=SPS-00000002&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepID&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepID=SPS-00000002&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e922d42-8298-47d8-838b-c48bece91564&quot;,&quot;parentUUID&quot;:&quot;4508c037-2221-4384-929a-8df2c733ab37&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepID=ENT123&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepID&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepID=ENT123&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7aa104fe-581e-4310-87e9-9c80ad07dc7c&quot;,&quot;parentUUID&quot;:&quot;4508c037-2221-4384-929a-8df2c733ab37&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8e922d42-8298-47d8-838b-c48bece91564&quot;,&quot;7aa104fe-581e-4310-87e9-9c80ad07dc7c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3c9450ec-2f8a-4a37-a7e9-298df133c551&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStatus&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\MWL-RS\\searchMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStatus=SCHEDULED&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStatus&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStatus=SCHEDULED&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;480b3d34-99b1-453b-96e4-cfd122c758ea&quot;,&quot;parentUUID&quot;:&quot;3c9450ec-2f8a-4a37-a7e9-298df133c551&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStatus=COMPLETED&#x27; and get modality worklist successfully&quot;,&quot;fullTitle&quot;:&quot;MWL-RS search modality worklist query parameters query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStatus&#x27; Should query modality worklist with param &#x27;ScheduledProcedureStepSequence.ScheduledProcedureStepStatus=COMPLETED&#x27; and get modality worklist successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/mwlitems?${param}=${value}`\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81a74b8e-43fa-4f3c-9aa2-b8cb7db8aac3&quot;,&quot;parentUUID&quot;:&quot;3c9450ec-2f8a-4a37-a7e9-298df133c551&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;480b3d34-99b1-453b-96e4-cfd122c758ea&quot;,&quot;81a74b8e-43fa-4f3c-9aa2-b8cb7db8aac3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;cdc4c6ed-49a1-4ab8-ae1a-3e190971fbd3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;6e6c6d52-b340-4f22-ae41-5b79c11d2c5b&quot;,&quot;title&quot;:&quot;PAM-RS create patient &#x27;/dicom-web/patients&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\PAM-RS\\createPatient.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\PAM-RS\\createPatient.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;PAM-RS create patient &#x27;/dicom-web/patients&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;PAM-RS create patient &#x27;/dicom-web/patients&#x27; \&quot;before all\&quot; hook in \&quot;PAM-RS create patient &#x27;/dicom-web/patients&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d04bced-8bc3-4a14-9b9b-15ee364eae0d&quot;,&quot;parentUUID&quot;:&quot;6e6c6d52-b340-4f22-ae41-5b79c11d2c5b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should create patient&quot;,&quot;fullTitle&quot;:&quot;PAM-RS create patient &#x27;/dicom-web/patients&#x27; Should create patient&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/patients\&quot;,\n    body: testPatient\n});\nexpect(response.statusCode).to.equal(201);\nlet createdPatient = await response.json();\nexpect(createdPatient).to.be.a(\&quot;object\&quot;);\nexpect(createdPatient).have.property(\&quot;00100010\&quot;).to.be.deep.equal(testPatient[\&quot;00100010\&quot;]);\nexpect(createdPatient).have.property(\&quot;00100020\&quot;).to.be.deep.equal(testPatient[\&quot;00100020\&quot;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b832c10-ec40-4f10-97df-d03e88faf96f&quot;,&quot;parentUUID&quot;:&quot;6e6c6d52-b340-4f22-ae41-5b79c11d2c5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1b832c10-ec40-4f10-97df-d03e88faf96f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;d3536ebf-d882-47e7-82b4-8ba15d1077cf&quot;,&quot;title&quot;:&quot;PAM-RS update patient &#x27;/dicom-web/patients&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\PAM-RS\\updatePatient.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\PAM-RS\\updatePatient.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;PAM-RS update patient &#x27;/dicom-web/patients&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;PAM-RS update patient &#x27;/dicom-web/patients&#x27; \&quot;before all\&quot; hook in \&quot;PAM-RS update patient &#x27;/dicom-web/patients&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/patients\&quot;,\n    body: testPatient,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15040604-f552-46e7-9d66-664c8052abf8&quot;,&quot;parentUUID&quot;:&quot;d3536ebf-d882-47e7-82b4-8ba15d1077cf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should update patient&quot;,&quot;fullTitle&quot;:&quot;PAM-RS update patient &#x27;/dicom-web/patients&#x27; Should update patient&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedPatient = structuredClone(testPatient);\nclonedPatient[\&quot;00100010\&quot;][\&quot;Value\&quot;][0][\&quot;Alphabetic\&quot;] = \&quot;nobody\&quot;;\nlet response = await inject(app, {\n    method: \&quot;put\&quot;,\n    url: `/dicom-web/patients/${patientID}`,\n    body: clonedPatient,\n});\nexpect(response.statusCode).to.equal(200);\nlet updatedPatient = await response.json();\nexpect(updatedPatient).to.be.a(\&quot;object\&quot;);\nexpect(updatedPatient)\n.have.property(\&quot;00100010\&quot;)\n.have.property(\&quot;Value\&quot;)\n.to.be.deep.equal([{ \&quot;Alphabetic\&quot;: \&quot;nobody\&quot; }]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45f08bac-20fa-4d92-b5c3-25094752c30f&quot;,&quot;parentUUID&quot;:&quot;d3536ebf-d882-47e7-82b4-8ba15d1077cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;45f08bac-20fa-4d92-b5c3-25094752c30f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;f2e5b1c4-8c1e-4621-b210-c65f7ed11936&quot;,&quot;title&quot;:&quot;query instances&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;query instances\&quot;&quot;,&quot;fullTitle&quot;:&quot;query instances \&quot;before all\&quot; hook in \&quot;query instances\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:917,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f7c4f47-47d6-4df0-a567-ce0fd7592bd8&quot;,&quot;parentUUID&quot;:&quot;f2e5b1c4-8c1e-4621-b210-c65f7ed11936&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;query instances\&quot;&quot;,&quot;fullTitle&quot;:&quot;query instances \&quot;after all\&quot; hook in \&quot;query instances\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89ca0b7b-b419-46f2-a574-8148eaf65b9b&quot;,&quot;parentUUID&quot;:&quot;f2e5b1c4-8c1e-4621-b210-c65f7ed11936&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8d9ea2c7-e770-4308-a09e-c4693bc5f2c7&quot;,&quot;title&quot;:&quot;query instances with &#x27;SOPClassUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;SOPClassUID=1.2.840.10008.5.1.4.1.1.7&#x27; and get 5 instances successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;SOPClassUID&#x27; Should query instances with param &#x27;SOPClassUID=1.2.840.10008.5.1.4.1.1.7&#x27; and get 5 instances successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;902a8208-41e2-486d-a814-27a85801ca79&quot;,&quot;parentUUID&quot;:&quot;8d9ea2c7-e770-4308-a09e-c4693bc5f2c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;SOPClassUID=foobar&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;SOPClassUID&#x27; Should query instances with param &#x27;SOPClassUID=foobar&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4baeb981-f867-4ad2-b41e-bbf4fe84a532&quot;,&quot;parentUUID&quot;:&quot;8d9ea2c7-e770-4308-a09e-c4693bc5f2c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;902a8208-41e2-486d-a814-27a85801ca79&quot;,&quot;4baeb981-f867-4ad2-b41e-bbf4fe84a532&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;89d82434-5f7e-4f77-976c-6a7b43a46ca0&quot;,&quot;title&quot;:&quot;query instances with &#x27;SOPInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;SOPInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.146366877811836789535656349132&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;SOPInstanceUID&#x27; Should query instances with param &#x27;SOPInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.146366877811836789535656349132&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b17d316-ff4b-42fb-92f2-fc668113f916&quot;,&quot;parentUUID&quot;:&quot;89d82434-5f7e-4f77-976c-6a7b43a46ca0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;SOPInstanceUID=foobar&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;SOPInstanceUID&#x27; Should query instances with param &#x27;SOPInstanceUID=foobar&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c6d2529-b2a6-47fc-a91f-426746fca17e&quot;,&quot;parentUUID&quot;:&quot;89d82434-5f7e-4f77-976c-6a7b43a46ca0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6b17d316-ff4b-42fb-92f2-fc668113f916&quot;,&quot;7c6d2529-b2a6-47fc-a91f-426746fca17e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;d62e2ed0-3ccd-4f14-97d4-e2b694bbf36a&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentDate&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentDate=19990416&#x27; and get 9 instances successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;ContentDate Should query instances with param &#x27;ContentDate=19990416&#x27; and get 9 instances successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb35821f-d134-414b-8a12-45b47df87149&quot;,&quot;parentUUID&quot;:&quot;d62e2ed0-3ccd-4f14-97d4-e2b694bbf36a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentDate=19990909&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;ContentDate Should query instances with param &#x27;ContentDate=19990909&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a53ae3fb-6258-4687-9773-3c4ccf738bf8&quot;,&quot;parentUUID&quot;:&quot;d62e2ed0-3ccd-4f14-97d4-e2b694bbf36a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fb35821f-d134-414b-8a12-45b47df87149&quot;,&quot;a53ae3fb-6258-4687-9773-3c4ccf738bf8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;17f00d06-ff1b-4893-bb07-3985578eb2e1&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentTime=140241&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;ContentTime&#x27; Should query instances with param &#x27;ContentTime=140241&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9d49968-a4e4-4b3f-9dd1-2fe6264bec3b&quot;,&quot;parentUUID&quot;:&quot;17f00d06-ff1b-4893-bb07-3985578eb2e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentTime=140248&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;ContentTime&#x27; Should query instances with param &#x27;ContentTime=140248&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f202a1e-abf8-4153-9cb5-9775fd576c3f&quot;,&quot;parentUUID&quot;:&quot;17f00d06-ff1b-4893-bb07-3985578eb2e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c9d49968-a4e4-4b3f-9dd1-2fe6264bec3b&quot;,&quot;2f202a1e-abf8-4153-9cb5-9775fd576c3f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;1463acfc-0978-48db-9f51-304e27f1fb42&quot;,&quot;title&quot;:&quot;query instances with &#x27;InstanceNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;InstanceNumber=72&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;InstanceNumber&#x27; Should query instances with param &#x27;InstanceNumber=72&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a891fc2-7b92-4e04-82bf-6f1abba088bd&quot;,&quot;parentUUID&quot;:&quot;1463acfc-0978-48db-9f51-304e27f1fb42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;InstanceNumber=12345678910&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with &#x27;InstanceNumber&#x27; Should query instances with param &#x27;InstanceNumber=12345678910&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d180e2f-a730-4d4b-bbd7-b98aee2ddf98&quot;,&quot;parentUUID&quot;:&quot;1463acfc-0978-48db-9f51-304e27f1fb42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5a891fc2-7b92-4e04-82bf-6f1abba088bd&quot;,&quot;7d180e2f-a730-4d4b-bbd7-b98aee2ddf98&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;8e26e905-f29d-460d-8d41-8a7add44dea4&quot;,&quot;title&quot;:&quot;query instances with sequence parameters&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;query instances with sequence parameters\&quot;&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters \&quot;before all\&quot; hook in \&quot;query instances with sequence parameters\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await storeInstanceForTest(\n    resolve(\n        __dirname,\n        \&quot;../../../testData/dicomFiles/1-01-mod-vo\&quot;\n    )\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7b950d1-bb7c-4f10-8822-6ef0de80d1de&quot;,&quot;parentUUID&quot;:&quot;8e26e905-f29d-460d-8d41-8a7add44dea4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;66f1924d-029e-4639-bbec-cab4ffecd93c&quot;,&quot;title&quot;:&quot;query instances with &#x27;ConceptNameCodeSequence.CodeValue&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ConceptNameCodeSequence.CodeValue=Test&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ConceptNameCodeSequence.CodeValue&#x27; Should query instances with param &#x27;ConceptNameCodeSequence.CodeValue=Test&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1622861e-af93-4651-98cc-44697768be4d&quot;,&quot;parentUUID&quot;:&quot;66f1924d-029e-4639-bbec-cab4ffecd93c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ConceptNameCodeSequence.CodeValue=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ConceptNameCodeSequence.CodeValue&#x27; Should query instances with param &#x27;ConceptNameCodeSequence.CodeValue=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b7a3cef-c51b-4ed3-9785-85c260e93822&quot;,&quot;parentUUID&quot;:&quot;66f1924d-029e-4639-bbec-cab4ffecd93c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1622861e-af93-4651-98cc-44697768be4d&quot;,&quot;4b7a3cef-c51b-4ed3-9785-85c260e93822&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;aa3de3ba-def4-43ba-b2fd-fd397e6b48ed&quot;,&quot;title&quot;:&quot;query instances with &#x27;ConceptNameCodeSequence.CodingSchemeDesignator&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ConceptNameCodeSequence.CodingSchemeDesignator=LFUCK&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ConceptNameCodeSequence.CodingSchemeDesignator&#x27; Should query instances with param &#x27;ConceptNameCodeSequence.CodingSchemeDesignator=LFUCK&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d6cc6b2-93d5-4d38-b78c-011083dd9e0e&quot;,&quot;parentUUID&quot;:&quot;aa3de3ba-def4-43ba-b2fd-fd397e6b48ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ConceptNameCodeSequence.CodingSchemeDesignator=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ConceptNameCodeSequence.CodingSchemeDesignator&#x27; Should query instances with param &#x27;ConceptNameCodeSequence.CodingSchemeDesignator=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96effe63-a443-4efd-aece-f01c0eb2c067&quot;,&quot;parentUUID&quot;:&quot;aa3de3ba-def4-43ba-b2fd-fd397e6b48ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d6cc6b2-93d5-4d38-b78c-011083dd9e0e&quot;,&quot;96effe63-a443-4efd-aece-f01c0eb2c067&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;64da3281-70e0-4fdc-a0d5-9f7947ff8287&quot;,&quot;title&quot;:&quot;query instances with &#x27;ConceptNameCodeSequence.CodingSchemeVersion&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ConceptNameCodeSequence.CodingSchemeVersion=v1.0&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ConceptNameCodeSequence.CodingSchemeVersion&#x27; Should query instances with param &#x27;ConceptNameCodeSequence.CodingSchemeVersion=v1.0&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b28b01ce-4f16-4c90-a0e0-cc53a785e13e&quot;,&quot;parentUUID&quot;:&quot;64da3281-70e0-4fdc-a0d5-9f7947ff8287&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ConceptNameCodeSequence.CodingSchemeVersion=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ConceptNameCodeSequence.CodingSchemeVersion&#x27; Should query instances with param &#x27;ConceptNameCodeSequence.CodingSchemeVersion=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e962cd1-b561-4b04-8fa5-b9d6caf34c6d&quot;,&quot;parentUUID&quot;:&quot;64da3281-70e0-4fdc-a0d5-9f7947ff8287&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b28b01ce-4f16-4c90-a0e0-cc53a785e13e&quot;,&quot;1e962cd1-b561-4b04-8fa5-b9d6caf34c6d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;4aa6834a-b822-4622-b5c8-ee1f4bb40be2&quot;,&quot;title&quot;:&quot;query instances with &#x27;ConceptNameCodeSequence.CodeMeaning&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ConceptNameCodeSequence.CodeMeaning=For Test&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ConceptNameCodeSequence.CodeMeaning&#x27; Should query instances with param &#x27;ConceptNameCodeSequence.CodeMeaning=For Test&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b339c556-5f6f-49b5-882f-83abf3a77b6a&quot;,&quot;parentUUID&quot;:&quot;4aa6834a-b822-4622-b5c8-ee1f4bb40be2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ConceptNameCodeSequence.CodeMeaning=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ConceptNameCodeSequence.CodeMeaning&#x27; Should query instances with param &#x27;ConceptNameCodeSequence.CodeMeaning=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2632fb7c-ace2-4682-873c-ff08169e85a3&quot;,&quot;parentUUID&quot;:&quot;4aa6834a-b822-4622-b5c8-ee1f4bb40be2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b339c556-5f6f-49b5-882f-83abf3a77b6a&quot;,&quot;2632fb7c-ace2-4682-873c-ff08169e85a3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;042f7f47-9a3b-44d8-86b7-f4c58a601fde&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ValueType&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ValueType=TEXT&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ValueType&#x27; Should query instances with param &#x27;ContentSequence.ValueType=TEXT&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;891a738f-977e-4613-ac30-61acae62d081&quot;,&quot;parentUUID&quot;:&quot;042f7f47-9a3b-44d8-86b7-f4c58a601fde&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ValueType=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ValueType&#x27; Should query instances with param &#x27;ContentSequence.ValueType=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fac9d55-1de2-4c96-b8c6-20ff5a9d520d&quot;,&quot;parentUUID&quot;:&quot;042f7f47-9a3b-44d8-86b7-f4c58a601fde&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;891a738f-977e-4613-ac30-61acae62d081&quot;,&quot;5fac9d55-1de2-4c96-b8c6-20ff5a9d520d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;7a0d449a-2864-45fe-9cab-ada6f4c9bd6a&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.RelationshipType&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.RelationshipType=CONTAINS&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.RelationshipType&#x27; Should query instances with param &#x27;ContentSequence.RelationshipType=CONTAINS&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;991bcaa4-d1c4-4e8a-9797-5e1657acd8c3&quot;,&quot;parentUUID&quot;:&quot;7a0d449a-2864-45fe-9cab-ada6f4c9bd6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.RelationshipType=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.RelationshipType&#x27; Should query instances with param &#x27;ContentSequence.RelationshipType=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d49ba31a-638d-43d3-97cd-4411fa7d79e7&quot;,&quot;parentUUID&quot;:&quot;7a0d449a-2864-45fe-9cab-ada6f4c9bd6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;991bcaa4-d1c4-4e8a-9797-5e1657acd8c3&quot;,&quot;d49ba31a-638d-43d3-97cd-4411fa7d79e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;30805037-97fc-488b-be4c-1cbfe854cccf&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.TextValue&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.TextValue=Test&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.TextValue&#x27; Should query instances with param &#x27;ContentSequence.TextValue=Test&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38958039-a9c4-4725-a407-de079cd0e4d7&quot;,&quot;parentUUID&quot;:&quot;30805037-97fc-488b-be4c-1cbfe854cccf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.TextValue=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.TextValue&#x27; Should query instances with param &#x27;ContentSequence.TextValue=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e20f528b-5152-4fff-bc4e-6d100840d0f9&quot;,&quot;parentUUID&quot;:&quot;30805037-97fc-488b-be4c-1cbfe854cccf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;38958039-a9c4-4725-a407-de079cd0e4d7&quot;,&quot;e20f528b-5152-4fff-bc4e-6d100840d0f9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;945e18d2-5b7a-4edc-8579-9cca940197ab&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodeValue&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodeValue=Test 2&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodeValue&#x27; Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodeValue=Test 2&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ec58032-fbea-4d4e-99e2-7c11917f665e&quot;,&quot;parentUUID&quot;:&quot;945e18d2-5b7a-4edc-8579-9cca940197ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodeValue=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodeValue&#x27; Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodeValue=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3c977ed-f714-4e7c-9061-c7ad80ce7532&quot;,&quot;parentUUID&quot;:&quot;945e18d2-5b7a-4edc-8579-9cca940197ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8ec58032-fbea-4d4e-99e2-7c11917f665e&quot;,&quot;d3c977ed-f714-4e7c-9061-c7ad80ce7532&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;eb41cf1d-6100-44c6-9c94-ad95fe817eab&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeDesignator&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeDesignator=LFUCK2&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeDesignator&#x27; Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeDesignator=LFUCK2&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;059450eb-bb82-4126-8f76-567aac39ae3a&quot;,&quot;parentUUID&quot;:&quot;eb41cf1d-6100-44c6-9c94-ad95fe817eab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeDesignator=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeDesignator&#x27; Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeDesignator=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68935176-3ec2-4eab-8c52-0b2f0b7b2ccc&quot;,&quot;parentUUID&quot;:&quot;eb41cf1d-6100-44c6-9c94-ad95fe817eab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;059450eb-bb82-4126-8f76-567aac39ae3a&quot;,&quot;68935176-3ec2-4eab-8c52-0b2f0b7b2ccc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;7eeb8d92-4aa3-4b6f-822f-fddf66bef0cb&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeVersion&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeVersion=v2.0&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeVersion&#x27; Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeVersion=v2.0&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;316da089-26c4-4cf1-84c7-173fc62d3299&quot;,&quot;parentUUID&quot;:&quot;7eeb8d92-4aa3-4b6f-822f-fddf66bef0cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeVersion=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeVersion&#x27; Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodingSchemeVersion=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e427e4cd-0788-46b1-816f-b843932feb7d&quot;,&quot;parentUUID&quot;:&quot;7eeb8d92-4aa3-4b6f-822f-fddf66bef0cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;316da089-26c4-4cf1-84c7-173fc62d3299&quot;,&quot;e427e4cd-0788-46b1-816f-b843932feb7d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;09574d23-2495-43b9-af32-209ee72d80b2&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodeMeaning&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodeMeaning=For Test 2&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodeMeaning&#x27; Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodeMeaning=For Test 2&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c65ab52-1b60-4992-a85e-c87e6482e95f&quot;,&quot;parentUUID&quot;:&quot;09574d23-2495-43b9-af32-209ee72d80b2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodeMeaning=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptNameCodeSequence.CodeMeaning&#x27; Should query instances with param &#x27;ContentSequence.ConceptNameCodeSequence.CodeMeaning=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a73ff36d-360a-48f1-a915-7c2016133130&quot;,&quot;parentUUID&quot;:&quot;09574d23-2495-43b9-af32-209ee72d80b2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c65ab52-1b60-4992-a85e-c87e6482e95f&quot;,&quot;a73ff36d-360a-48f1-a915-7c2016133130&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;eb497cf4-4076-4c77-b8d7-8b16621969a2&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ConceptCodeSequence.CodeValue&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodeValue=Test 2&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptCodeSequence.CodeValue&#x27; Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodeValue=Test 2&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb1858ed-7c43-4beb-b99a-39c6e9dbc17b&quot;,&quot;parentUUID&quot;:&quot;eb497cf4-4076-4c77-b8d7-8b16621969a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodeValue=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptCodeSequence.CodeValue&#x27; Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodeValue=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40536894-facd-4670-a8da-acc1027059cc&quot;,&quot;parentUUID&quot;:&quot;eb497cf4-4076-4c77-b8d7-8b16621969a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fb1858ed-7c43-4beb-b99a-39c6e9dbc17b&quot;,&quot;40536894-facd-4670-a8da-acc1027059cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;1d0f95c1-cca8-4f26-9342-77f61ea14a78&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeDesignator&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeDesignator=LFUCK2&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeDesignator&#x27; Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeDesignator=LFUCK2&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efb9b5f0-b911-40ba-94fb-f9a17a15891c&quot;,&quot;parentUUID&quot;:&quot;1d0f95c1-cca8-4f26-9342-77f61ea14a78&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeDesignator=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeDesignator&#x27; Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeDesignator=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9be3a9d0-74fe-40ac-ba83-ca26f420e28c&quot;,&quot;parentUUID&quot;:&quot;1d0f95c1-cca8-4f26-9342-77f61ea14a78&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;efb9b5f0-b911-40ba-94fb-f9a17a15891c&quot;,&quot;9be3a9d0-74fe-40ac-ba83-ca26f420e28c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;bd159c33-5a11-4cb9-bd71-7cc7c1ba602d&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeVersion&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeVersion=v2.0&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeVersion&#x27; Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeVersion=v2.0&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18082b82-7a4a-40fb-8008-c8b7181867ca&quot;,&quot;parentUUID&quot;:&quot;bd159c33-5a11-4cb9-bd71-7cc7c1ba602d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeVersion=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeVersion&#x27; Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodingSchemeVersion=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1f0b3ef-7dad-4b06-b727-da5f76f8553e&quot;,&quot;parentUUID&quot;:&quot;bd159c33-5a11-4cb9-bd71-7cc7c1ba602d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;18082b82-7a4a-40fb-8008-c8b7181867ca&quot;,&quot;c1f0b3ef-7dad-4b06-b727-da5f76f8553e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;4721471f-963b-412f-b128-242107c368b6&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentSequence.ConceptCodeSequence.CodeMeaning&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodeMeaning=For Test 2&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptCodeSequence.CodeMeaning&#x27; Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodeMeaning=For Test 2&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d622fbf5-83c9-4c14-9d91-cd686d059fa7&quot;,&quot;parentUUID&quot;:&quot;4721471f-963b-412f-b128-242107c368b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodeMeaning=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;ContentSequence.ConceptCodeSequence.CodeMeaning&#x27; Should query instances with param &#x27;ContentSequence.ConceptCodeSequence.CodeMeaning=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7ebe154-1eac-4468-911f-1a6130393fe8&quot;,&quot;parentUUID&quot;:&quot;4721471f-963b-412f-b128-242107c368b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d622fbf5-83c9-4c14-9d91-cd686d059fa7&quot;,&quot;f7ebe154-1eac-4468-911f-1a6130393fe8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;eb212fd8-8c8f-480c-9337-b9e159afdc2d&quot;,&quot;title&quot;:&quot;query instances with &#x27;VerifyingObserverSequence.VerifyingObserverName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;VerifyingObserverSequence.VerifyingObserverName=fakeName&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;VerifyingObserverSequence.VerifyingObserverName&#x27; Should query instances with param &#x27;VerifyingObserverSequence.VerifyingObserverName=fakeName&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6571240-edfd-4ede-afcd-d57d725d7313&quot;,&quot;parentUUID&quot;:&quot;eb212fd8-8c8f-480c-9337-b9e159afdc2d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;VerifyingObserverSequence.VerifyingObserverName=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;VerifyingObserverSequence.VerifyingObserverName&#x27; Should query instances with param &#x27;VerifyingObserverSequence.VerifyingObserverName=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf458e36-b1c5-4a50-8836-03d98172a36c&quot;,&quot;parentUUID&quot;:&quot;eb212fd8-8c8f-480c-9337-b9e159afdc2d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a6571240-edfd-4ede-afcd-d57d725d7313&quot;,&quot;bf458e36-b1c5-4a50-8836-03d98172a36c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;08ab08b2-e884-4beb-bc5f-db1edfd4001e&quot;,&quot;title&quot;:&quot;query instances with &#x27;VerifyingObserverSequence.VerificationDateTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;VerifyingObserverSequence.VerificationDateTime=20200201-&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;VerifyingObserverSequence.VerificationDateTime&#x27; Should query instances with param &#x27;VerifyingObserverSequence.VerificationDateTime=20200201-&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f488342-5817-4a55-afaa-0d5560e7c2e9&quot;,&quot;parentUUID&quot;:&quot;08ab08b2-e884-4beb-bc5f-db1edfd4001e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;VerifyingObserverSequence.VerificationDateTime=19990101&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;VerifyingObserverSequence.VerificationDateTime&#x27; Should query instances with param &#x27;VerifyingObserverSequence.VerificationDateTime=19990101&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;509b4b68-b276-44c6-98e5-31740034308a&quot;,&quot;parentUUID&quot;:&quot;08ab08b2-e884-4beb-bc5f-db1edfd4001e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;VerifyingObserverSequence.VerificationDateTime=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;VerifyingObserverSequence.VerificationDateTime&#x27; Should query instances with param &#x27;VerifyingObserverSequence.VerificationDateTime=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c525a14e-0d46-44be-9508-33a64ef097ca&quot;,&quot;parentUUID&quot;:&quot;08ab08b2-e884-4beb-bc5f-db1edfd4001e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4f488342-5817-4a55-afaa-0d5560e7c2e9&quot;,&quot;509b4b68-b276-44c6-98e5-31740034308a&quot;,&quot;c525a14e-0d46-44be-9508-33a64ef097ca&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3e5b97ca-5b70-4679-8918-771dc33fb35e&quot;,&quot;title&quot;:&quot;query instances with &#x27;VerifyingObserverSequence.VerifyingOrganization&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query instances with param &#x27;VerifyingObserverSequence.VerifyingOrganization=Test Org&#x27; and get 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;VerifyingObserverSequence.VerifyingOrganization&#x27; Should query instances with param &#x27;VerifyingObserverSequence.VerifyingOrganization=Test Org&#x27; and get 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef6fd7d0-9279-4c0a-8cba-7c316911f8db&quot;,&quot;parentUUID&quot;:&quot;3e5b97ca-5b70-4679-8918-771dc33fb35e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query instances with param &#x27;VerifyingObserverSequence.VerifyingOrganization=aaa&#x27; and get 0 instance successfully&quot;,&quot;fullTitle&quot;:&quot;query instances query instances with sequence parameters query instances with &#x27;VerifyingObserverSequence.VerifyingOrganization&#x27; Should query instances with param &#x27;VerifyingObserverSequence.VerifyingOrganization=aaa&#x27; and get 0 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/instances?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (code) {\n    expect(response.statusCode).to.equal(code);\n    return;\n}\nif (expectCount === 0) {\n    if (response.statusCode === 200) {\n        let data = await response.json();\n        console.log(data);\n    }\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42484b4f-ea32-4e5d-8bfe-2e308da7c307&quot;,&quot;parentUUID&quot;:&quot;3e5b97ca-5b70-4679-8918-771dc33fb35e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ef6fd7d0-9279-4c0a-8cba-7c316911f8db&quot;,&quot;42484b4f-ea32-4e5d-8bfe-2e308da7c307&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;64f346f4-70c4-414f-88ad-a71569921f5e&quot;,&quot;title&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; \&quot;before all\&quot; hook in \&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/patients\&quot;,\n    body: testPatient,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2eff9f99-c709-4d83-99fb-69698ada1597&quot;,&quot;parentUUID&quot;:&quot;64f346f4-70c4-414f-88ad-a71569921f5e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should search patients&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; Should search patients&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: \&quot;/dicom-web/patients\&quot;,\n});\nexpect(response.statusCode).to.equal(200);\nlet patients = await response.json();\nexpect(patients).to.be.an(\&quot;array\&quot;);\nexpect(patients).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;638e4ba6-39dd-4147-a32f-ea5c14153d3a&quot;,&quot;parentUUID&quot;:&quot;64f346f4-70c4-414f-88ad-a71569921f5e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;735b0e77-5719-485b-b8ed-3deb31e6b9de&quot;,&quot;title&quot;:&quot;query with params&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7b6da826-03f4-418e-a99d-e67f84501f90&quot;,&quot;title&quot;:&quot;query with param &#x27;PatientName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query patients with param &#x27;PatientName=John^Doe&#x27; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;PatientName&#x27; Should query patients with param &#x27;PatientName=John^Doe&#x27; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84576582-8392-4c8b-86ee-84265d2d8aad&quot;,&quot;parentUUID&quot;:&quot;7b6da826-03f4-418e-a99d-e67f84501f90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query patients with param &#x27;PatientName=foo&#x27; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;PatientName&#x27; Should query patients with param &#x27;PatientName=foo&#x27; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d6ffab7-cdd0-46cb-8b7a-ebfddb8aac14&quot;,&quot;parentUUID&quot;:&quot;7b6da826-03f4-418e-a99d-e67f84501f90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query patients with param &#x27;PatientName=John*&amp;PatientName=*Doe&#x27; and get 1 patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;PatientName&#x27; Should query patients with param &#x27;PatientName=John*&amp;PatientName=*Doe&#x27; and get 1 patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?PatientName=John*&amp;PatientName=*Doe`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\n        \nexpect(response.statusCode).to.equal(200);\n        \nlet data = await response.json();\n        \nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f1b68b1-299f-4e20-b027-1f038739020c&quot;,&quot;parentUUID&quot;:&quot;7b6da826-03f4-418e-a99d-e67f84501f90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;84576582-8392-4c8b-86ee-84265d2d8aad&quot;,&quot;1d6ffab7-cdd0-46cb-8b7a-ebfddb8aac14&quot;,&quot;1f1b68b1-299f-4e20-b027-1f038739020c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;29fd8c0d-142a-4049-8f36-1358dfdc0691&quot;,&quot;title&quot;:&quot;query with param &#x27;PatientID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query patients with param &#x27;PatientID=12345&#x27; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;PatientID&#x27; Should query patients with param &#x27;PatientID=12345&#x27; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2ecf176-599d-4458-9107-17d36f4e4876&quot;,&quot;parentUUID&quot;:&quot;29fd8c0d-142a-4049-8f36-1358dfdc0691&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query patients with param &#x27;PatientID=foo&#x27; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;PatientID&#x27; Should query patients with param &#x27;PatientID=foo&#x27; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2f4319f-53ae-4f9a-ac62-c8ffa81770c5&quot;,&quot;parentUUID&quot;:&quot;29fd8c0d-142a-4049-8f36-1358dfdc0691&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d2ecf176-599d-4458-9107-17d36f4e4876&quot;,&quot;a2f4319f-53ae-4f9a-ac62-c8ffa81770c5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;347489e4-a716-4dd2-9f84-19f3d9f51170&quot;,&quot;title&quot;:&quot;query with param &#x27;PatientBirthDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query patients with param &#x27;PatientBirthDate=19800101&#x27; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;PatientBirthDate&#x27; Should query patients with param &#x27;PatientBirthDate=19800101&#x27; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c92526d9-61ed-4045-99bb-d763470b620c&quot;,&quot;parentUUID&quot;:&quot;347489e4-a716-4dd2-9f84-19f3d9f51170&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query patients with param &#x27;PatientBirthDate=19000101&#x27; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;PatientBirthDate&#x27; Should query patients with param &#x27;PatientBirthDate=19000101&#x27; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ce5dae5-c3f6-4227-a921-c5d3880592a0&quot;,&quot;parentUUID&quot;:&quot;347489e4-a716-4dd2-9f84-19f3d9f51170&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c92526d9-61ed-4045-99bb-d763470b620c&quot;,&quot;5ce5dae5-c3f6-4227-a921-c5d3880592a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;cddbc547-5f11-4716-a2e2-7e73fa1e0c79&quot;,&quot;title&quot;:&quot;query with param &#x27;IssuerOfPatientID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryPatients.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query patients with param &#x27;IssuerOfPatientID=Issuer ID&#x27; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;IssuerOfPatientID&#x27; Should query patients with param &#x27;IssuerOfPatientID=Issuer ID&#x27; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c0569f0-7a4b-4301-9cf7-743ea2c33334&quot;,&quot;parentUUID&quot;:&quot;cddbc547-5f11-4716-a2e2-7e73fa1e0c79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query patients with param &#x27;IssuerOfPatientID=foo&#x27; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;QIDOR-RS search patient &#x27;/dicom-web/patients&#x27; query with params query with param &#x27;IssuerOfPatientID&#x27; Should query patients with param &#x27;IssuerOfPatientID=foo&#x27; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/patients?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21645ad3-835c-47dd-b3b1-a7be04f96840&quot;,&quot;parentUUID&quot;:&quot;cddbc547-5f11-4716-a2e2-7e73fa1e0c79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5c0569f0-7a4b-4301-9cf7-743ea2c33334&quot;,&quot;21645ad3-835c-47dd-b3b1-a7be04f96840&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;638e4ba6-39dd-4147-a32f-ea5c14153d3a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a64b5a53-26ad-42c7-8a11-68d5e9780362&quot;,&quot;title&quot;:&quot;query series&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;query series\&quot;&quot;,&quot;fullTitle&quot;:&quot;query series \&quot;before all\&quot; hook in \&quot;query series\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:980,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../../testData/dicomFiles/1-01-mod-vo\&quot;)\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36e2af18-1d43-4f79-bf57-e707ef1c6805&quot;,&quot;parentUUID&quot;:&quot;a64b5a53-26ad-42c7-8a11-68d5e9780362&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;query series\&quot;&quot;,&quot;fullTitle&quot;:&quot;query series \&quot;after all\&quot; hook in \&quot;query series\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01624c70-f7d0-410e-8945-97f834eee38f&quot;,&quot;parentUUID&quot;:&quot;a64b5a53-26ad-42c7-8a11-68d5e9780362&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series successfully and get 9 series&quot;,&quot;fullTitle&quot;:&quot;query series Should query series successfully and get 9 series&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: \&quot;/dicom-web/series\&quot;,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(9);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6dc766f7-af4d-4a3f-9d87-def8360af5f6&quot;,&quot;parentUUID&quot;:&quot;a64b5a53-26ad-42c7-8a11-68d5e9780362&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;73e97fa4-0a3d-439f-b270-e86ac504307e&quot;,&quot;title&quot;:&quot;query series with param &#x27;PerformingPhysicianName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;PerformingPhysicianName=cName&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;PerformingPhysicianName&#x27; Should query series with param &#x27;PerformingPhysicianName=cName&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02264dc4-ad1d-449e-be3b-bde9bdc9d402&quot;,&quot;parentUUID&quot;:&quot;73e97fa4-0a3d-439f-b270-e86ac504307e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;PerformingPhysicianName=dName&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;PerformingPhysicianName&#x27; Should query series with param &#x27;PerformingPhysicianName=dName&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2030cfa-2329-47e9-8f1b-1762330d8186&quot;,&quot;parentUUID&quot;:&quot;73e97fa4-0a3d-439f-b270-e86ac504307e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;PerformingPhysicianName=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;PerformingPhysicianName&#x27; Should query series with param &#x27;PerformingPhysicianName=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a499234f-133c-4776-8d3a-afded2ebd386&quot;,&quot;parentUUID&quot;:&quot;73e97fa4-0a3d-439f-b270-e86ac504307e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;02264dc4-ad1d-449e-be3b-bde9bdc9d402&quot;,&quot;d2030cfa-2329-47e9-8f1b-1762330d8186&quot;,&quot;a499234f-133c-4776-8d3a-afded2ebd386&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;bed0c6fd-5443-4fb6-a96c-6d4b527e441c&quot;,&quot;title&quot;:&quot;query series with param &#x27;OperatorsName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;OperatorsName=pyName&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;OperatorsName&#x27; Should query series with param &#x27;OperatorsName=pyName&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ec66ceb-4bb7-44d9-b5a7-b1a39c890247&quot;,&quot;parentUUID&quot;:&quot;bed0c6fd-5443-4fb6-a96c-6d4b527e441c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;OperatorsName=py&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;OperatorsName&#x27; Should query series with param &#x27;OperatorsName=py&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;773a9f1f-25d5-45e4-9cb9-ce1b51535bd5&quot;,&quot;parentUUID&quot;:&quot;bed0c6fd-5443-4fb6-a96c-6d4b527e441c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;OperatorsName=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;OperatorsName&#x27; Should query series with param &#x27;OperatorsName=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32cb0347-50c2-4e49-8ed7-3b1759aceabf&quot;,&quot;parentUUID&quot;:&quot;bed0c6fd-5443-4fb6-a96c-6d4b527e441c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7ec66ceb-4bb7-44d9-b5a7-b1a39c890247&quot;,&quot;773a9f1f-25d5-45e4-9cb9-ce1b51535bd5&quot;,&quot;32cb0347-50c2-4e49-8ed7-3b1759aceabf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;2fec6a4f-760d-4ffe-a609-1875363d58ba&quot;,&quot;title&quot;:&quot;query series with param &#x27;RequestAttributesSequence.AccessionNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.AccessionNumber=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.AccessionNumber&#x27; Should query series with param &#x27;RequestAttributesSequence.AccessionNumber=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;976ac489-49f7-44c4-aa24-657cdae0e2f4&quot;,&quot;parentUUID&quot;:&quot;2fec6a4f-760d-4ffe-a609-1875363d58ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.AccessionNumber=123456789&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.AccessionNumber&#x27; Should query series with param &#x27;RequestAttributesSequence.AccessionNumber=123456789&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;837b1010-ffa2-42eb-ba43-3d0e4efcb9cc&quot;,&quot;parentUUID&quot;:&quot;2fec6a4f-760d-4ffe-a609-1875363d58ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;976ac489-49f7-44c4-aa24-657cdae0e2f4&quot;,&quot;837b1010-ffa2-42eb-ba43-3d0e4efcb9cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;7077928b-e476-4db4-bbe4-ad69759381d7&quot;,&quot;title&quot;:&quot;query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.LocalNamespaceEntityID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.LocalNamespaceEntityID=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.LocalNamespaceEntityID&#x27; Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.LocalNamespaceEntityID=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c311e03-e289-4509-9408-9bc023ccbc6b&quot;,&quot;parentUUID&quot;:&quot;7077928b-e476-4db4-bbe4-ad69759381d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.LocalNamespaceEntityID=fuckyou&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.LocalNamespaceEntityID&#x27; Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.LocalNamespaceEntityID=fuckyou&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72a5cfd0-8a84-47cc-819f-44646901b552&quot;,&quot;parentUUID&quot;:&quot;7077928b-e476-4db4-bbe4-ad69759381d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0c311e03-e289-4509-9408-9bc023ccbc6b&quot;,&quot;72a5cfd0-8a84-47cc-819f-44646901b552&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;959f6fed-1f0d-4849-bfed-6a71838dfcd9&quot;,&quot;title&quot;:&quot;query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityID=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityID&#x27; Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityID=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d0e45ea-35d0-455c-bf91-9d72aae2a46d&quot;,&quot;parentUUID&quot;:&quot;959f6fed-1f0d-4849-bfed-6a71838dfcd9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityID=b459025d-58f8-45c1-8ea9-0dc108fabc4c&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityID&#x27; Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityID=b459025d-58f8-45c1-8ea9-0dc108fabc4c&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b19f4768-1eda-47fd-a1c4-97824ba8926d&quot;,&quot;parentUUID&quot;:&quot;959f6fed-1f0d-4849-bfed-6a71838dfcd9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4d0e45ea-35d0-455c-bf91-9d72aae2a46d&quot;,&quot;b19f4768-1eda-47fd-a1c4-97824ba8926d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;87489402-41a0-4702-aa53-c0f8678e9165&quot;,&quot;title&quot;:&quot;query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityIDType&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityIDType=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityIDType&#x27; Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityIDType=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a013e891-221c-45c0-a49a-82214ce5a14a&quot;,&quot;parentUUID&quot;:&quot;87489402-41a0-4702-aa53-c0f8678e9165&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityIDType=UUID&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityIDType&#x27; Should query series with param &#x27;RequestAttributesSequence.IssuerOfAccessionNumberSequence.UniversalEntityIDType=UUID&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f253f941-1824-4336-bf1e-6c35b2af5c17&quot;,&quot;parentUUID&quot;:&quot;87489402-41a0-4702-aa53-c0f8678e9165&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a013e891-221c-45c0-a49a-82214ce5a14a&quot;,&quot;f253f941-1824-4336-bf1e-6c35b2af5c17&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;5af761d4-ea1f-4fa1-b2b4-351f803b371b&quot;,&quot;title&quot;:&quot;query series with param &#x27;RequestAttributesSequence.StudyInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.StudyInstanceUID=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.StudyInstanceUID&#x27; Should query series with param &#x27;RequestAttributesSequence.StudyInstanceUID=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;816bb917-aa21-4a94-a360-0bf5f1af31ce&quot;,&quot;parentUUID&quot;:&quot;5af761d4-ea1f-4fa1-b2b4-351f803b371b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.StudyInstanceUID=1.2.826.0.1.3680043.8.498.11038417314486293343745968896540168442&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.StudyInstanceUID&#x27; Should query series with param &#x27;RequestAttributesSequence.StudyInstanceUID=1.2.826.0.1.3680043.8.498.11038417314486293343745968896540168442&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e0090b5-a37e-4219-8d92-edb7a2ae0682&quot;,&quot;parentUUID&quot;:&quot;5af761d4-ea1f-4fa1-b2b4-351f803b371b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;816bb917-aa21-4a94-a360-0bf5f1af31ce&quot;,&quot;5e0090b5-a37e-4219-8d92-edb7a2ae0682&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;92229fe1-4dd1-495e-997b-0a0daa1b4766&quot;,&quot;title&quot;:&quot;query series with param &#x27;RequestAttributesSequence.ScheduledProcedureStepID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.ScheduledProcedureStepID=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.ScheduledProcedureStepID&#x27; Should query series with param &#x27;RequestAttributesSequence.ScheduledProcedureStepID=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec55f2e7-ff05-42c0-a423-e4ad45e74f2a&quot;,&quot;parentUUID&quot;:&quot;92229fe1-4dd1-495e-997b-0a0daa1b4766&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.ScheduledProcedureStepID=aaa&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.ScheduledProcedureStepID&#x27; Should query series with param &#x27;RequestAttributesSequence.ScheduledProcedureStepID=aaa&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d66b7882-75d8-4f73-b642-44046aead614&quot;,&quot;parentUUID&quot;:&quot;92229fe1-4dd1-495e-997b-0a0daa1b4766&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ec55f2e7-ff05-42c0-a423-e4ad45e74f2a&quot;,&quot;d66b7882-75d8-4f73-b642-44046aead614&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a91c9dfe-19c0-42a5-bcd6-3aa48ac96797&quot;,&quot;title&quot;:&quot;query series with param &#x27;RequestAttributesSequence.RequestedProcedureID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\querySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.RequestedProcedureID=foobar&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.RequestedProcedureID&#x27; Should query series with param &#x27;RequestAttributesSequence.RequestedProcedureID=foobar&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dd1a431-d120-41a4-af77-fa0bffa876dc&quot;,&quot;parentUUID&quot;:&quot;a91c9dfe-19c0-42a5-bcd6-3aa48ac96797&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query series with param &#x27;RequestAttributesSequence.RequestedProcedureID=bbb&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query series query series with param &#x27;RequestAttributesSequence.RequestedProcedureID&#x27; Should query series with param &#x27;RequestAttributesSequence.RequestedProcedureID=bbb&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a146aa5-583a-42df-a47a-7397384b5677&quot;,&quot;parentUUID&quot;:&quot;a91c9dfe-19c0-42a5-bcd6-3aa48ac96797&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9dd1a431-d120-41a4-af77-fa0bffa876dc&quot;,&quot;4a146aa5-583a-42df-a47a-7397384b5677&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;6dc766f7-af4d-4a3f-9d87-def8360af5f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;7122e5d5-f84b-4af0-b5e2-acc61da3004e&quot;,&quot;title&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;query studies &#x27;/dicom-web/studies&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; \&quot;before all\&quot; hook in \&quot;query studies &#x27;/dicom-web/studies&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:861,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4ce50f6-1379-428b-b00e-ac34e9960883&quot;,&quot;parentUUID&quot;:&quot;7122e5d5-f84b-4af0-b5e2-acc61da3004e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;query studies &#x27;/dicom-web/studies&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; \&quot;after all\&quot; hook in \&quot;query studies &#x27;/dicom-web/studies&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0b4d636-fa20-4cf9-880f-1f1322fd19bf&quot;,&quot;parentUUID&quot;:&quot;7122e5d5-f84b-4af0-b5e2-acc61da3004e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies and get 4 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; Should query studies and get 4 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: \&quot;/dicom-web/studies\&quot;,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\n\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(4);\nlet firstData = data[0];\n// Required Matching Attributes\n// {@link https://dicom.nema.org/medical/dicom/current/output/html/part18.html#table_10.6.1-5}\nexpect(firstData).to.have.property(\&quot;00080020\&quot;);\nexpect(firstData).to.have.property(\&quot;00080030\&quot;);\nexpect(firstData).to.have.property(\&quot;00080050\&quot;);\nexpect(firstData).to.have.property(\&quot;00080061\&quot;);\nexpect(firstData).to.have.property(\&quot;00080090\&quot;);\nexpect(firstData).to.have.property(\&quot;00100010\&quot;);\nexpect(firstData).to.have.property(\&quot;00100020\&quot;);\nexpect(firstData).to.have.property(\&quot;0020000D\&quot;);\nexpect(firstData).to.have.property(\&quot;00200010\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15ca8e6d-1484-4be9-a794-8e2ffb8af474&quot;,&quot;parentUUID&quot;:&quot;7122e5d5-f84b-4af0-b5e2-acc61da3004e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a056ce83-6e1b-4cc9-81d4-41f3e3345995&quot;,&quot;title&quot;:&quot;query studies with param &#x27;StudyDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyDate=20100213&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyDate&#x27; Should query studies with param &#x27;StudyDate=20100213&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcc7775b-53c0-456e-9204-86a627856432&quot;,&quot;parentUUID&quot;:&quot;a056ce83-6e1b-4cc9-81d4-41f3e3345995&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyDate=-20100213&#x27; and get 3 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyDate&#x27; Should query studies with param &#x27;StudyDate=-20100213&#x27; and get 3 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d23e6940-7055-4cd0-9e45-1390d1e2e61d&quot;,&quot;parentUUID&quot;:&quot;a056ce83-6e1b-4cc9-81d4-41f3e3345995&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyDate=20100101-&#x27; and get 2 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyDate&#x27; Should query studies with param &#x27;StudyDate=20100101-&#x27; and get 2 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a0f991c-b1a3-49e6-92ca-f4acd5d28a4b&quot;,&quot;parentUUID&quot;:&quot;a056ce83-6e1b-4cc9-81d4-41f3e3345995&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyDate=20100212-20181031&#x27; and get 2 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyDate&#x27; Should query studies with param &#x27;StudyDate=20100212-20181031&#x27; and get 2 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18b9a3eb-2dbc-492f-9b2a-85f932f2f8f5&quot;,&quot;parentUUID&quot;:&quot;a056ce83-6e1b-4cc9-81d4-41f3e3345995&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fcc7775b-53c0-456e-9204-86a627856432&quot;,&quot;d23e6940-7055-4cd0-9e45-1390d1e2e61d&quot;,&quot;4a0f991c-b1a3-49e6-92ca-f4acd5d28a4b&quot;,&quot;18b9a3eb-2dbc-492f-9b2a-85f932f2f8f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:51,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;0bd6a5a0-4a29-4cc8-aab9-f804f65d3a5b&quot;,&quot;title&quot;:&quot;query studies with param &#x27;StudyTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyTime=170922&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyTime&#x27; Should query studies with param &#x27;StudyTime=170922&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d21d3071-863c-41ab-82e7-d759f622a3bc&quot;,&quot;parentUUID&quot;:&quot;0bd6a5a0-4a29-4cc8-aab9-f804f65d3a5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyTime=-170922&#x27; and get 4 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyTime&#x27; Should query studies with param &#x27;StudyTime=-170922&#x27; and get 4 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70e5432f-0af7-4d1c-b551-41d2c0e1248e&quot;,&quot;parentUUID&quot;:&quot;0bd6a5a0-4a29-4cc8-aab9-f804f65d3a5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyTime=150000-&#x27; and get 2 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyTime&#x27; Should query studies with param &#x27;StudyTime=150000-&#x27; and get 2 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff57af6c-7182-4460-b15d-7eaf950089d7&quot;,&quot;parentUUID&quot;:&quot;0bd6a5a0-4a29-4cc8-aab9-f804f65d3a5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyTime=130000-160000&#x27; and get 2 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyTime&#x27; Should query studies with param &#x27;StudyTime=130000-160000&#x27; and get 2 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad01c3b1-0a07-4a9f-ae06-1898affc0dd8&quot;,&quot;parentUUID&quot;:&quot;0bd6a5a0-4a29-4cc8-aab9-f804f65d3a5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d21d3071-863c-41ab-82e7-d759f622a3bc&quot;,&quot;70e5432f-0af7-4d1c-b551-41d2c0e1248e&quot;,&quot;ff57af6c-7182-4460-b15d-7eaf950089d7&quot;,&quot;ad01c3b1-0a07-4a9f-ae06-1898affc0dd8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:44,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;5de2a4cb-d54f-4585-a111-7438ae9123dd&quot;,&quot;title&quot;:&quot;query studies with param &#x27;AccessionNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;AccessionNumber=123456&#x27; and get 0 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;AccessionNumber&#x27; Should query studies with param &#x27;AccessionNumber=123456&#x27; and get 0 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;321b63fd-f26f-47f0-b34e-b21544d0f324&quot;,&quot;parentUUID&quot;:&quot;5de2a4cb-d54f-4585-a111-7438ae9123dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;AccessionNumber=3266660953883852&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;AccessionNumber&#x27; Should query studies with param &#x27;AccessionNumber=3266660953883852&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ce366e2-5dd3-46e4-9c3d-30de86de9a45&quot;,&quot;parentUUID&quot;:&quot;5de2a4cb-d54f-4585-a111-7438ae9123dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;321b63fd-f26f-47f0-b34e-b21544d0f324&quot;,&quot;8ce366e2-5dd3-46e4-9c3d-30de86de9a45&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;aaf7acbb-3811-4988-a1db-6f6815e6f346&quot;,&quot;title&quot;:&quot;query studies with param &#x27;ModalitiesInStudy&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;ModalitiesInStudy=CT&#x27; and get 2 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;ModalitiesInStudy&#x27; Should query studies with param &#x27;ModalitiesInStudy=CT&#x27; and get 2 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdc0e35f-f3b5-493e-a5e6-8bf27bd45895&quot;,&quot;parentUUID&quot;:&quot;aaf7acbb-3811-4988-a1db-6f6815e6f346&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;ModalitiesInStudy=DOC&#x27; and get 0 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;ModalitiesInStudy&#x27; Should query studies with param &#x27;ModalitiesInStudy=DOC&#x27; and get 0 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8df05557-e6b2-40fd-870f-382317b9d600&quot;,&quot;parentUUID&quot;:&quot;aaf7acbb-3811-4988-a1db-6f6815e6f346&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cdc0e35f-f3b5-493e-a5e6-8bf27bd45895&quot;,&quot;8df05557-e6b2-40fd-870f-382317b9d600&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;96834ff7-4490-4f8d-8b27-aee92eb4e0e4&quot;,&quot;title&quot;:&quot;query studies with param &#x27;PatientName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;PatientName=Philips^Amy&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;PatientName&#x27; Should query studies with param &#x27;PatientName=Philips^Amy&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a450f9b-0846-4835-89bb-7312164c1325&quot;,&quot;parentUUID&quot;:&quot;96834ff7-4490-4f8d-8b27-aee92eb4e0e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;PatientName=Philips*&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;PatientName&#x27; Should query studies with param &#x27;PatientName=Philips*&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcd930ef-8ed3-42c8-b375-05fe3eda3138&quot;,&quot;parentUUID&quot;:&quot;96834ff7-4490-4f8d-8b27-aee92eb4e0e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;PatientName=foobar&#x27; and get 0 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;PatientName&#x27; Should query studies with param &#x27;PatientName=foobar&#x27; and get 0 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be63d493-a0fc-4aac-b92d-58b8cdad18ee&quot;,&quot;parentUUID&quot;:&quot;96834ff7-4490-4f8d-8b27-aee92eb4e0e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;PatientName=Philips*&amp;PatientName=*Amy&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;PatientName&#x27; Should query studies with param &#x27;PatientName=Philips*&amp;PatientName=*Amy&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?PatientName=Philips*&amp;PatientName=*Amy`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\n    \nexpect(response.statusCode).to.equal(200);\n    \nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fa4b816-2e0e-40c3-98a0-eebda93e9a43&quot;,&quot;parentUUID&quot;:&quot;96834ff7-4490-4f8d-8b27-aee92eb4e0e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9a450f9b-0846-4835-89bb-7312164c1325&quot;,&quot;fcd930ef-8ed3-42c8-b375-05fe3eda3138&quot;,&quot;be63d493-a0fc-4aac-b92d-58b8cdad18ee&quot;,&quot;9fa4b816-2e0e-40c3-98a0-eebda93e9a43&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:41,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;44711fe9-cbf0-4b83-b874-e3aa2fbb3188&quot;,&quot;title&quot;:&quot;query studies with param &#x27;PatientID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;PatientID=123456&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;PatientID&#x27; Should query studies with param &#x27;PatientID=123456&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;188472b8-dee8-4583-8269-b2a47d3a73d3&quot;,&quot;parentUUID&quot;:&quot;44711fe9-cbf0-4b83-b874-e3aa2fbb3188&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;PatientID=C3*&#x27; and get 2 studies successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;PatientID&#x27; Should query studies with param &#x27;PatientID=C3*&#x27; and get 2 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aafaa1e9-c242-4264-bea2-f283ffc728b6&quot;,&quot;parentUUID&quot;:&quot;44711fe9-cbf0-4b83-b874-e3aa2fbb3188&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;PatientID=foobar&#x27; and get 0 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;PatientID&#x27; Should query studies with param &#x27;PatientID=foobar&#x27; and get 0 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;084a1cc2-e865-4430-a94e-daf001bea4d9&quot;,&quot;parentUUID&quot;:&quot;44711fe9-cbf0-4b83-b874-e3aa2fbb3188&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;188472b8-dee8-4583-8269-b2a47d3a73d3&quot;,&quot;aafaa1e9-c242-4264-bea2-f283ffc728b6&quot;,&quot;084a1cc2-e865-4430-a94e-daf001bea4d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;ed19c011-64e5-4c91-bd26-3013158cdb44&quot;,&quot;title&quot;:&quot;query studies with param &#x27;StudyInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.246199836259881483055596634768&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyInstanceUID&#x27; Should query studies with param &#x27;StudyInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.246199836259881483055596634768&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32128d1a-dc3c-4471-be47-331ba56f8b3a&quot;,&quot;parentUUID&quot;:&quot;ed19c011-64e5-4c91-bd26-3013158cdb44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.246199836259881483055596123456&#x27; and get 0 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyInstanceUID&#x27; Should query studies with param &#x27;StudyInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.246199836259881483055596123456&#x27; and get 0 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df74d5b0-2926-4cf0-b288-3833f7a5f975&quot;,&quot;parentUUID&quot;:&quot;ed19c011-64e5-4c91-bd26-3013158cdb44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;32128d1a-dc3c-4471-be47-331ba56f8b3a&quot;,&quot;df74d5b0-2926-4cf0-b288-3833f7a5f975&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;d1b2cf08-88ab-40c5-bd2d-418e344b7f1d&quot;,&quot;title&quot;:&quot;query studies with param &#x27;StudyID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyID=D18-1001&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyID&#x27; Should query studies with param &#x27;StudyID=D18-1001&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2fa8909-3863-49be-bb4c-8c93fab0668f&quot;,&quot;parentUUID&quot;:&quot;d1b2cf08-88ab-40c5-bd2d-418e344b7f1d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyID=foo&#x27; and get 0 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyID&#x27; Should query studies with param &#x27;StudyID=foo&#x27; and get 0 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f714abac-a14b-4873-8d66-2fce27e81a1e&quot;,&quot;parentUUID&quot;:&quot;d1b2cf08-88ab-40c5-bd2d-418e344b7f1d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e2fa8909-3863-49be-bb4c-8c93fab0668f&quot;,&quot;f714abac-a14b-4873-8d66-2fce27e81a1e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;346f2250-1015-445e-995a-5373be97663d&quot;,&quot;title&quot;:&quot;query studies with param &#x27;ReferringPhysicianName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;ReferringPhysicianName=ROBERT^BROWN&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;ReferringPhysicianName&#x27; Should query studies with param &#x27;ReferringPhysicianName=ROBERT^BROWN&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89c16c3f-a1ad-44d7-b588-e7173f090e3d&quot;,&quot;parentUUID&quot;:&quot;346f2250-1015-445e-995a-5373be97663d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;ReferringPhysicianName=foo&#x27; and get 0 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;ReferringPhysicianName&#x27; Should query studies with param &#x27;ReferringPhysicianName=foo&#x27; and get 0 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b12b8d1b-d5d1-4d39-bf64-cea10d7cc72a&quot;,&quot;parentUUID&quot;:&quot;346f2250-1015-445e-995a-5373be97663d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;89c16c3f-a1ad-44d7-b588-e7173f090e3d&quot;,&quot;b12b8d1b-d5d1-4d39-bf64-cea10d7cc72a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;fe3631f6-9d28-42c0-923a-e69838d428d2&quot;,&quot;title&quot;:&quot;query studies with param &#x27;StudyDescription&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyDescription=foo&#x27; and get 0 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyDescription&#x27; Should query studies with param &#x27;StudyDescription=foo&#x27; and get 0 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4550000-4c3b-4a5b-9302-9d43a60923c9&quot;,&quot;parentUUID&quot;:&quot;fe3631f6-9d28-42c0-923a-e69838d428d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query studies with param &#x27;StudyDescription=XR CHEST 2 VIEWS AP OR PA+LAT&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; query studies with param &#x27;StudyDescription&#x27; Should query studies with param &#x27;StudyDescription=XR CHEST 2 VIEWS AP OR PA+LAT&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    query: {\n        [param]: value\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d79d765-79df-4764-b6f4-dfded2407de3&quot;,&quot;parentUUID&quot;:&quot;fe3631f6-9d28-42c0-923a-e69838d428d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f4550000-4c3b-4a5b-9302-9d43a60923c9&quot;,&quot;7d79d765-79df-4764-b6f4-dfded2407de3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;title&quot;:&quot;sort&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudies.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should sort studies by 00080020&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; sort Should sort studies by 00080020&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20544546-4f72-4d45-8102-a7e0e6d3b0f4&quot;,&quot;parentUUID&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort studies by -00080020&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; sort Should sort studies by -00080020&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2c081f8-8dc4-4f16-88e7-f5dc1c495a46&quot;,&quot;parentUUID&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort studies by 00080030&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; sort Should sort studies by 00080030&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;692b3772-5a70-442d-889c-647c7335e2cd&quot;,&quot;parentUUID&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort studies by 00080050&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; sort Should sort studies by 00080050&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e23b15d1-06f0-4937-a67c-d2dfb30c547d&quot;,&quot;parentUUID&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort studies by 0020000D&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; sort Should sort studies by 0020000D&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5c64111-e6e5-418b-b94d-17ba866a8ef7&quot;,&quot;parentUUID&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort studies by 00200010&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; sort Should sort studies by 00200010&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f12639c-3616-4dfb-96d5-0ea13738451b&quot;,&quot;parentUUID&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort studies by 00100020&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; sort Should sort studies by 00100020&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78bda7b6-96a3-4b08-967f-6886ebcc95a5&quot;,&quot;parentUUID&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when sorting by unsupported field&quot;,&quot;fullTitle&quot;:&quot;query studies &#x27;/dicom-web/studies&#x27; sort Should raise 400 (Bad Request) when sorting by unsupported field&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies?orderBy=${dictionary.keyword.NumberOfStudyRelatedInstances}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\n    \nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd3f851c-9e32-409c-a35a-86ff7bf13653&quot;,&quot;parentUUID&quot;:&quot;0b7a3f62-1abc-4b97-9871-6e7b31460ffd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;20544546-4f72-4d45-8102-a7e0e6d3b0f4&quot;,&quot;b2c081f8-8dc4-4f16-88e7-f5dc1c495a46&quot;,&quot;692b3772-5a70-442d-889c-647c7335e2cd&quot;,&quot;e23b15d1-06f0-4937-a67c-d2dfb30c547d&quot;,&quot;a5c64111-e6e5-418b-b94d-17ba866a8ef7&quot;,&quot;3f12639c-3616-4dfb-96d5-0ea13738451b&quot;,&quot;78bda7b6-96a3-4b08-967f-6886ebcc95a5&quot;,&quot;bd3f851c-9e32-409c-a35a-86ff7bf13653&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:105,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;15ca8e6d-1484-4be9-a794-8e2ffb8af474&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;80d6c99b-b342-4921-8cd1-20bfcbba3e97&quot;,&quot;title&quot;:&quot;query study-series&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;query study-series\&quot;&quot;,&quot;fullTitle&quot;:&quot;query study-series \&quot;before all\&quot; hook in \&quot;query study-series\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:831,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nreturn;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9469813-2466-428f-a61d-9566ba8d8189&quot;,&quot;parentUUID&quot;:&quot;80d6c99b-b342-4921-8cd1-20bfcbba3e97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query study-series and get 3 series successfully and have proper attributes&quot;,&quot;fullTitle&quot;:&quot;query study-series Should query study-series and get 3 series successfully and have proper attributes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(3);\nlet firstData = data[0];\nexpect(firstData).to.be.an(\&quot;object\&quot;);\nexpect(firstData).have.property(\&quot;00080060\&quot;);\nexpect(firstData).have.property(\&quot;0020000E\&quot;);\nexpect(firstData).have.property(\&quot;00200011\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;766ffa83-4f2d-4c04-bfe2-edb68488837c&quot;,&quot;parentUUID&quot;:&quot;80d6c99b-b342-4921-8cd1-20bfcbba3e97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7308f4d8-4a6e-49c5-9be1-5d5f21127f69&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;Modality&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query study-series with param &#x27;Modality=OT&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;Modality&#x27; Should query study-series with param &#x27;Modality=OT&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9bd7f39-f38f-4318-a7f5-f08d5d2f7969&quot;,&quot;parentUUID&quot;:&quot;7308f4d8-4a6e-49c5-9be1-5d5f21127f69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query study-series with param &#x27;Modality=CT&#x27; and get 2 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;Modality&#x27; Should query study-series with param &#x27;Modality=CT&#x27; and get 2 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1617aadf-ef4f-45ce-a626-3f33af050db5&quot;,&quot;parentUUID&quot;:&quot;7308f4d8-4a6e-49c5-9be1-5d5f21127f69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query study-series with param &#x27;Modality=DOC&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;Modality&#x27; Should query study-series with param &#x27;Modality=DOC&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ce8581c-0295-49e8-937f-c72cf64fdf4f&quot;,&quot;parentUUID&quot;:&quot;7308f4d8-4a6e-49c5-9be1-5d5f21127f69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e9bd7f39-f38f-4318-a7f5-f08d5d2f7969&quot;,&quot;1617aadf-ef4f-45ce-a626-3f33af050db5&quot;,&quot;5ce8581c-0295-49e8-937f-c72cf64fdf4f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;6dbaaa78-6ecf-41ab-b147-3710fdfc14e8&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;SeriesInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.101062900156808513233428214720&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesInstanceUID&#x27; Should query study-series with param &#x27;SeriesInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.101062900156808513233428214720&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c2635f9-7595-4470-9f97-ef2f4d125e92&quot;,&quot;parentUUID&quot;:&quot;6dbaaa78-6ecf-41ab-b147-3710fdfc14e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesInstanceUID=123456&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesInstanceUID&#x27; Should query study-series with param &#x27;SeriesInstanceUID=123456&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55b67632-b1ea-4548-bb70-eafb7f03fd73&quot;,&quot;parentUUID&quot;:&quot;6dbaaa78-6ecf-41ab-b147-3710fdfc14e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8c2635f9-7595-4470-9f97-ef2f4d125e92&quot;,&quot;55b67632-b1ea-4548-bb70-eafb7f03fd73&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;7c2f5819-2253-4c3e-bbb0-a6df5f7bd9d3&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;SeriesNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesNumber=1&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesNumber&#x27; Should query study-series with param &#x27;SeriesNumber=1&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b09ef079-0ff5-476f-a546-7de345cb483d&quot;,&quot;parentUUID&quot;:&quot;7c2f5819-2253-4c3e-bbb0-a6df5f7bd9d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesNumber=3001&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesNumber&#x27; Should query study-series with param &#x27;SeriesNumber=3001&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2db1395-713b-41a8-b378-29b969e88b42&quot;,&quot;parentUUID&quot;:&quot;7c2f5819-2253-4c3e-bbb0-a6df5f7bd9d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesNumber=5678&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesNumber&#x27; Should query study-series with param &#x27;SeriesNumber=5678&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9f08929-7872-4e6c-90f8-eef81e0f8fda&quot;,&quot;parentUUID&quot;:&quot;7c2f5819-2253-4c3e-bbb0-a6df5f7bd9d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b09ef079-0ff5-476f-a546-7de345cb483d&quot;,&quot;d2db1395-713b-41a8-b378-29b969e88b42&quot;,&quot;c9f08929-7872-4e6c-90f8-eef81e0f8fda&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;0740d687-103d-4f97-ba77-7423d0dd113b&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;SeriesDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesDate=19990417&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesDate&#x27; Should query study-series with param &#x27;SeriesDate=19990417&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bb9ffb0-d217-4d7c-b722-2fe0458108c3&quot;,&quot;parentUUID&quot;:&quot;0740d687-103d-4f97-ba77-7423d0dd113b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesDate=19990101&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesDate&#x27; Should query study-series with param &#x27;SeriesDate=19990101&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09acf5e2-1f70-456d-b906-6bb1f7d8e218&quot;,&quot;parentUUID&quot;:&quot;0740d687-103d-4f97-ba77-7423d0dd113b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7bb9ffb0-d217-4d7c-b722-2fe0458108c3&quot;,&quot;09acf5e2-1f70-456d-b906-6bb1f7d8e218&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;26dc1e79-44e3-4d48-a764-31401866027f&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;SeriesDescription&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesDescription=*Capture*&#x27; and get 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesDescription&#x27; Should query study-series with param &#x27;SeriesDescription=*Capture*&#x27; and get 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d113ab58-c29a-434e-9ec1-03e359f3952b&quot;,&quot;parentUUID&quot;:&quot;26dc1e79-44e3-4d48-a764-31401866027f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query study-series with param &#x27;SeriesDescription=24861268&#x27; and get 0 series successfully&quot;,&quot;fullTitle&quot;:&quot;query study-series query study-series with param &#x27;SeriesDescription&#x27; Should query study-series with param &#x27;SeriesDescription=24861268&#x27; and get 0 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?${param}=${value}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac3c027a-fab3-43c1-8cf0-69caf6908861&quot;,&quot;parentUUID&quot;:&quot;26dc1e79-44e3-4d48-a764-31401866027f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d113ab58-c29a-434e-9ec1-03e359f3952b&quot;,&quot;ac3c027a-fab3-43c1-8cf0-69caf6908861&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;9bd5953c-834b-41f2-a0c3-142e3619e4a4&quot;,&quot;title&quot;:&quot;sort&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should sort series by 00080021&quot;,&quot;fullTitle&quot;:&quot;query study-series sort Should sort series by 00080021&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f29b0c02-efae-4954-a1cf-b5ffeae8c4a1&quot;,&quot;parentUUID&quot;:&quot;9bd5953c-834b-41f2-a0c3-142e3619e4a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort series by 00080060&quot;,&quot;fullTitle&quot;:&quot;query study-series sort Should sort series by 00080060&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7151774b-7600-4b80-b4b7-deb9f1f8c16d&quot;,&quot;parentUUID&quot;:&quot;9bd5953c-834b-41f2-a0c3-142e3619e4a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort series by 0008103E&quot;,&quot;fullTitle&quot;:&quot;query study-series sort Should sort series by 0008103E&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41ed70c7-e6e4-41fe-9f44-d65daeeab68d&quot;,&quot;parentUUID&quot;:&quot;9bd5953c-834b-41f2-a0c3-142e3619e4a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort series by 00200011&quot;,&quot;fullTitle&quot;:&quot;query study-series sort Should sort series by 00200011&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d2414c3-949c-453f-99b3-42e4a8a0ca8c&quot;,&quot;parentUUID&quot;:&quot;9bd5953c-834b-41f2-a0c3-142e3619e4a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort series by 0020000E&quot;,&quot;fullTitle&quot;:&quot;query study-series sort Should sort series by 0020000E&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4749b4d-3bfa-4e6b-9b91-47860020dbb3&quot;,&quot;parentUUID&quot;:&quot;9bd5953c-834b-41f2-a0c3-142e3619e4a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort series by 00080020&quot;,&quot;fullTitle&quot;:&quot;query study-series sort Should sort series by 00080020&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;798f76df-9428-46ac-9c25-e18d8c457709&quot;,&quot;parentUUID&quot;:&quot;9bd5953c-834b-41f2-a0c3-142e3619e4a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f29b0c02-efae-4954-a1cf-b5ffeae8c4a1&quot;,&quot;7151774b-7600-4b80-b4b7-deb9f1f8c16d&quot;,&quot;41ed70c7-e6e4-41fe-9f44-d65daeeab68d&quot;,&quot;9d2414c3-949c-453f-99b3-42e4a8a0ca8c&quot;,&quot;a4749b4d-3bfa-4e6b-9b91-47860020dbb3&quot;,&quot;798f76df-9428-46ac-9c25-e18d8c457709&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:54,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;766ffa83-4f2d-4c04-bfe2-edb68488837c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;9c390b66-6888-4e4f-a0d8-19277a39f4e9&quot;,&quot;title&quot;:&quot;query study-series-instances&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeriesInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeriesInstances.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;query study-series-instances\&quot;&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances \&quot;before all\&quot; hook in \&quot;query study-series-instances\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:902,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f3fe6d4-f8d7-45cd-accd-ec170158ac1a&quot;,&quot;parentUUID&quot;:&quot;9c390b66-6888-4e4f-a0d8-19277a39f4e9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;query study-series-instances\&quot;&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances \&quot;after all\&quot; hook in \&quot;query study-series-instances\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4d24497-0680-46ce-bea0-d6ac3a5746dd&quot;,&quot;parentUUID&quot;:&quot;9c390b66-6888-4e4f-a0d8-19277a39f4e9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query study-series-instances and get 5 instances&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances Should query study-series-instances and get 5 instances&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fdb6fea-c586-441e-b8fb-a866e94126ae&quot;,&quot;parentUUID&quot;:&quot;9c390b66-6888-4e4f-a0d8-19277a39f4e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;630763a7-af42-439c-9c46-fd18d4365e7c&quot;,&quot;title&quot;:&quot;sort&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeriesInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\QIDO-RS\\queryStudySeriesInstances.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should sort instances by 00080016&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances sort Should sort instances by 00080016&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78eec467-3546-4712-bff2-ed77ef50ba02&quot;,&quot;parentUUID&quot;:&quot;630763a7-af42-439c-9c46-fd18d4365e7c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort instances by 00080018&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances sort Should sort instances by 00080018&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;055b0a69-f11f-45ce-a027-8ded84a976c4&quot;,&quot;parentUUID&quot;:&quot;630763a7-af42-439c-9c46-fd18d4365e7c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort instances by 00080023&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances sort Should sort instances by 00080023&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d66a978a-3b55-45e0-aaac-8d381c0efe33&quot;,&quot;parentUUID&quot;:&quot;630763a7-af42-439c-9c46-fd18d4365e7c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort instances by 00080033&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances sort Should sort instances by 00080033&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:575,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d40314e-663b-459d-8879-3a7d79b53272&quot;,&quot;parentUUID&quot;:&quot;630763a7-af42-439c-9c46-fd18d4365e7c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort instances by 00200013&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances sort Should sort instances by 00200013&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e03d252d-d9b1-463c-b50f-12d609733c88&quot;,&quot;parentUUID&quot;:&quot;630763a7-af42-439c-9c46-fd18d4365e7c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should sort instances by 00080060&quot;,&quot;fullTitle&quot;:&quot;query study-series-instances sort Should sort instances by 00080060&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances?orderBy=${field}`,\n    headers: {\n        \&quot;content-type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6957a66e-66b2-4b75-886a-669e63f4913f&quot;,&quot;parentUUID&quot;:&quot;630763a7-af42-439c-9c46-fd18d4365e7c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;78eec467-3546-4712-bff2-ed77ef50ba02&quot;,&quot;055b0a69-f11f-45ce-a027-8ded84a976c4&quot;,&quot;d66a978a-3b55-45e0-aaac-8d381c0efe33&quot;,&quot;7d40314e-663b-459d-8879-3a7d79b53272&quot;,&quot;e03d252d-d9b1-463c-b50f-12d609733c88&quot;,&quot;6957a66e-66b2-4b75-886a-669e63f4913f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:655,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;8fdb6fea-c586-441e-b8fb-a866e94126ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;title&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\STOW-RS\\storeInstance.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\STOW-RS\\storeInstance.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; \&quot;before all\&quot; hook in \&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20411b39-f624-4b7e-828a-227772d64210&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; \&quot;after all\&quot; hook in \&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14dd2553-37c8-470f-b4df-7312f018a9a4&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should store a DICOM instance with complete attributes successfully and have proper attributes&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store a DICOM instance with complete attributes successfully and have proper attributes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:53,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const testDicomFilename = resolve(__dirname, \&quot;../../../testData/dicomFiles/1-01-mod-vo\&quot;);\n        const response = await storeInstanceForTest(testDicomFilename);\n        expect(response.statusCode).to.be.equal(200);\n        let testFileDicomJson = await JDcm2Json.get(testDicomFilename);\n        await expectInstanceHaveProperAttributes(testFileDicomJson);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93fea501-6f37-4873-89c7-9546273a6046&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should update a DICOM instance&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should update a DICOM instance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const testDicomFilename = resolve(__dirname, \&quot;../../../testData/forStore/1-01-mod-vo-updated\&quot;);\nconst response = await storeInstanceForTest(testDicomFilename);\nexpect(response.statusCode).to.be.equal(200);\nlet testFileDicomJson = await JDcm2Json.get(testDicomFilename);\nawait expectInstanceHaveProperAttributes(testFileDicomJson);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c31d758-dd86-4fb1-b199-2132f720720f&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.1, CR) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.1, CR) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;556c9614-f387-4120-9295-ba9ed244bb9a&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.1.1, DX) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.1.1, DX) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ed9aa2b-c798-4efe-8b94-b0506ce1c57a&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.2, CT) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.2, CT) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5c4aa5e-fecc-43b7-bee1-800e5f21afc1&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.4, MR) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.4, MR) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a308963c-816e-438f-9ab4-d5b0dc0a6184&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.7, US) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.7, US) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76437bb3-653d-4699-898c-05abcc533e00&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.104.1, US) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.104.1, US) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94ede5b8-c665-406b-9f3d-9b928537082f&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.7, SC) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.7, SC) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2928ea65-e89e-4cb1-bac6-20001fab6681&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.2, OT) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.2, OT) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2890ec73-3090-42f9-a1e8-eef8892878ab&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.9.1.1, ECG) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.9.1.1, ECG) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6556cbc6-6a45-4fda-8d8e-d58f608fa3c1&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.12.1, XA) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.12.1, XA) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73f1539c-8614-4c68-ab7b-53a3d03298da&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.3.1, Multi-Frame (US)) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.3.1, Multi-Frame (US)) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:35,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f25795e9-4df3-4e43-9977-caa01c694dc6&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.91.1, ANN) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.91.1, ANN) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a8c31ff-5df6-49ca-a7be-27930358f368&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.481.3, RTSTRUCT) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.481.3, RTSTRUCT) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4097bcb3-6dbc-4f8f-866e-7db2717033c9&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.66.4, SEG) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.66.4, SEG) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53af9f34-445a-4521-9468-29a46504ff58&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.11.1, GSPS) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.11.1, GSPS) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db37ba2a-38ac-4df5-b617-9d2a6c6d795e&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.91, JPEG 2000) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.91, JPEG 2000) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ac71608-875e-4ae2-b503-2b153e1f8d1f&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.51, JPEG Lossless) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.51, JPEG Lossless) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:40,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ebb48ba-646d-46f7-9ee7-890821fa5907&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.50, JPEG Baseline) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.50, JPEG Baseline) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;035dc5bf-306f-4bbf-b360-3be8fc8050da&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.1, Explicit VR Little Endian (Uncompressed)) successfully&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.1, Explicit VR Little Endian (Uncompressed)) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(filename);\nexpect(response.statusCode).to.be.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;object\&quot;);\nexpect(data?.[\&quot;00081198\&quot;]?.[\&quot;Value\&quot;]?.length || 0).to.be.equal(0);\nexpect(data).have.property(\&quot;00081199\&quot;).have.property(\&quot;Value\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa8d9255-4116-4b09-8ff1-de9159457d21&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return error when store not DICOM file&quot;,&quot;fullTitle&quot;:&quot;Store DICOM Instance route: POST &#x27;/dicom-web/studies&#x27; Should return error when store not DICOM file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await storeInstanceForTest(resolve(__dirname, \&quot;../../../testData/dicomFiles/data.json\&quot;));\nexpect(response.statusCode).to.be.not.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a155f84-20c9-464d-942c-4fcdf9b6b34f&quot;,&quot;parentUUID&quot;:&quot;60fe8fb2-f4ae-4202-8c1a-821ba102c09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;93fea501-6f37-4873-89c7-9546273a6046&quot;,&quot;2c31d758-dd86-4fb1-b199-2132f720720f&quot;,&quot;556c9614-f387-4120-9295-ba9ed244bb9a&quot;,&quot;5ed9aa2b-c798-4efe-8b94-b0506ce1c57a&quot;,&quot;f5c4aa5e-fecc-43b7-bee1-800e5f21afc1&quot;,&quot;a308963c-816e-438f-9ab4-d5b0dc0a6184&quot;,&quot;76437bb3-653d-4699-898c-05abcc533e00&quot;,&quot;94ede5b8-c665-406b-9f3d-9b928537082f&quot;,&quot;2928ea65-e89e-4cb1-bac6-20001fab6681&quot;,&quot;2890ec73-3090-42f9-a1e8-eef8892878ab&quot;,&quot;6556cbc6-6a45-4fda-8d8e-d58f608fa3c1&quot;,&quot;73f1539c-8614-4c68-ab7b-53a3d03298da&quot;,&quot;f25795e9-4df3-4e43-9977-caa01c694dc6&quot;,&quot;1a8c31ff-5df6-49ca-a7be-27930358f368&quot;,&quot;4097bcb3-6dbc-4f8f-866e-7db2717033c9&quot;,&quot;53af9f34-445a-4521-9468-29a46504ff58&quot;,&quot;db37ba2a-38ac-4df5-b617-9d2a6c6d795e&quot;,&quot;8ac71608-875e-4ae2-b503-2b153e1f8d1f&quot;,&quot;8ebb48ba-646d-46f7-9ee7-890821fa5907&quot;,&quot;035dc5bf-306f-4bbf-b360-3be8fc8050da&quot;,&quot;fa8d9255-4116-4b09-8ff1-de9159457d21&quot;,&quot;7a155f84-20c9-464d-942c-4fcdf9b6b34f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:889,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;d5924530-9a97-4e59-8c55-a5057eca3539&quot;,&quot;title&quot;:&quot;UPS-RS workitem cancellation&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ea9c835c-6ae2-42fe-a26e-c970f519774b&quot;,&quot;title&quot;:&quot;cancel IN PROGRESS&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;cancel IN PROGRESS\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS workitem cancellation cancel IN PROGRESS \&quot;before all\&quot; hook in \&quot;cancel IN PROGRESS\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait createTestInProgressWorkitem();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ce0382e-f196-4d51-ac36-fb51fcc2d332&quot;,&quot;parentUUID&quot;:&quot;ea9c835c-6ae2-42fe-a26e-c970f519774b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should cancel workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS workitem cancellation cancel IN PROGRESS Should cancel workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/cancelrequest`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify(cancellationRequestPayload)\n});\nexpect(response.statusCode).to.equal(202);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3c34849-c251-47c1-9da0-0aa63fca1555&quot;,&quot;parentUUID&quot;:&quot;ea9c835c-6ae2-42fe-a26e-c970f519774b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a3c34849-c251-47c1-9da0-0aa63fca1555&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;e40f68f1-f855-4ad6-8643-58138a39ee0f&quot;,&quot;title&quot;:&quot;cancel CANCELED&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;cancel CANCELED\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS workitem cancellation cancel CANCELED \&quot;before all\&quot; hook in \&quot;cancel CANCELED\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait createTestCanceledWorkitem();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54dc3243-a449-4c40-a420-321d52c30cab&quot;,&quot;parentUUID&quot;:&quot;e40f68f1-f855-4ad6-8643-58138a39ee0f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should cancel workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS workitem cancellation cancel CANCELED Should cancel workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/cancelrequest`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify(cancellationRequestPayload)\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39c883e6-9e15-44fe-b87c-92798bce8e3e&quot;,&quot;parentUUID&quot;:&quot;e40f68f1-f855-4ad6-8643-58138a39ee0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;39c883e6-9e15-44fe-b87c-92798bce8e3e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;2d13e4eb-03d0-405f-be99-a02b9b0b2122&quot;,&quot;title&quot;:&quot;cancel SCHEDULED&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;cancel SCHEDULED\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS workitem cancellation cancel SCHEDULED \&quot;before all\&quot; hook in \&quot;cancel SCHEDULED\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait createTestScheduledWorkitem();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;296ba966-cf2e-4a9d-9086-8b7f9ce9ff8d&quot;,&quot;parentUUID&quot;:&quot;2d13e4eb-03d0-405f-be99-a02b9b0b2122&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise 409 (Conflict) when cancelling SCHEDULED workitem&quot;,&quot;fullTitle&quot;:&quot;UPS-RS workitem cancellation cancel SCHEDULED Should raise 409 (Conflict) when cancelling SCHEDULED workitem&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/cancelrequest`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify(cancellationRequestPayload)\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ffe8b5e-d54b-47ea-a7a1-b5a08f21c447&quot;,&quot;parentUUID&quot;:&quot;2d13e4eb-03d0-405f-be99-a02b9b0b2122&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2ffe8b5e-d54b-47ea-a7a1-b5a08f21c447&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;32609735-dfbe-4042-815a-ffa363702ba1&quot;,&quot;title&quot;:&quot;cancel COMPLETED&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\cancelWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;cancel COMPLETED\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS workitem cancellation cancel COMPLETED \&quot;before all\&quot; hook in \&quot;cancel COMPLETED\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait createTestCompletedWorkitem();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5e33f96-96b5-462b-849c-340834a1f6db&quot;,&quot;parentUUID&quot;:&quot;32609735-dfbe-4042-815a-ffa363702ba1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise 409 (Conflict) when cancelling COMPLETED workitem&quot;,&quot;fullTitle&quot;:&quot;UPS-RS workitem cancellation cancel COMPLETED Should raise 409 (Conflict) when cancelling COMPLETED workitem&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/cancelrequest`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify(cancellationRequestPayload)\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;009b3ed3-890a-42f6-99fc-be3545c88f40&quot;,&quot;parentUUID&quot;:&quot;32609735-dfbe-4042-815a-ffa363702ba1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;009b3ed3-890a-42f6-99fc-be3545c88f40&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a029068f-61b1-4475-b32c-2823fd939902&quot;,&quot;title&quot;:&quot;UPS-RS change workitem state&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;UPS-RS change workitem state\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state \&quot;before all\&quot; hook in \&quot;UPS-RS change workitem state\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nlet createWorkitemResponse = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems?workitem=${workitemUID}`,\n    payload: testWorkitem,\n});\ncreatedWorkitemLocation = createWorkitemResponse.headers[\&quot;content-location\&quot;];&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cc09735-77ae-4f4e-822f-cbd02168c127&quot;,&quot;parentUUID&quot;:&quot;a029068f-61b1-4475-b32c-2823fd939902&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise 409 (Conflict) when changing SCHEDULED to COMPLETED&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state Should raise 409 (Conflict) when changing SCHEDULED to COMPLETED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n            method: \&quot;PUT\&quot;,\n            url: `/dicom-web/workitems/${workitemUID}/state`,\n            headers: {\n                \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n            },\n            payload: JSON.stringify([changeUpsStateToCompletedRequestPayload])\n        });\n        expect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78c5fff5-fd23-48ba-8744-d510e6d89d9a&quot;,&quot;parentUUID&quot;:&quot;a029068f-61b1-4475-b32c-2823fd939902&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1740fdd8-01ee-4a7d-8830-6647386f3d93&quot;,&quot;title&quot;:&quot;change workitem state to IN PROGRESS&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should change workitem to IN PROGRESS successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to IN PROGRESS Should change workitem to IN PROGRESS successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n                method: \&quot;PUT\&quot;,\n                url: `/dicom-web/workitems/${workitemUID}/state`,\n                headers: {\n                    \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n                },\n                payload: JSON.stringify([changeUpsStateRequestPayload])\n            });\n            expect(response.statusCode).to.equal(200);\n            let fetchWorkitemResponse = await inject(app, {\n                method: \&quot;GET\&quot;,\n                url: createdWorkitemLocation\n            });\n            let data = await fetchWorkitemResponse.json();\n            expect(data).to.be.an(\&quot;array\&quot;);\n            expect(data[0]).to.be.an(\&quot;object\&quot;);\n            expect(data[0]).have.property(\&quot;00741000\&quot;).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;).to.be.equal(\&quot;IN PROGRESS\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;219df930-a3fd-4388-b642-30df9b478caf&quot;,&quot;parentUUID&quot;:&quot;1740fdd8-01ee-4a7d-8830-6647386f3d93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise Bad Request (400) when missing Transaction UID&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to IN PROGRESS Should raise Bad Request (400) when missing Transaction UID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedPayload = structuredClone(changeUpsStateRequestPayload);\ndelete clonedPayload[\&quot;00081195\&quot;];\nlet response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([clonedPayload])\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e31e4c25-02bf-4013-bb0d-155a3f6e8de9&quot;,&quot;parentUUID&quot;:&quot;1740fdd8-01ee-4a7d-8830-6647386f3d93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 409 (Conflict) when workitem is already IN PROGRESS&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to IN PROGRESS Should raise 409 (Conflict) when workitem is already IN PROGRESS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateRequestPayload])\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66ff58f6-0737-405c-a3c7-43d703aeb32f&quot;,&quot;parentUUID&quot;:&quot;1740fdd8-01ee-4a7d-8830-6647386f3d93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b449d0a5-5726-4c60-a35e-c9dbf3474095&quot;,&quot;title&quot;:&quot;update workitem that state is IN PROGRESS&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise Bad Request (400) when missing Transaction UID in request payload&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to IN PROGRESS update workitem that state is IN PROGRESS Should raise Bad Request (400) when missing Transaction UID in request payload&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify(testWorkitem)\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ed3e5c2-5744-4451-9377-c2fab1df3585&quot;,&quot;parentUUID&quot;:&quot;b449d0a5-5726-4c60-a35e-c9dbf3474095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise Bad Request (400) when Transaction UID not consistent&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to IN PROGRESS update workitem that state is IN PROGRESS Should raise Bad Request (400) when Transaction UID not consistent&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let aTestWorkitem = structuredClone(testWorkitem[0]);\naTestWorkitem[\&quot;00081195\&quot;][\&quot;Value\&quot;] = [\&quot;1.2.3.4\&quot;];\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([aTestWorkitem])\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3578c321-4002-4415-8b4c-01ed08768699&quot;,&quot;parentUUID&quot;:&quot;b449d0a5-5726-4c60-a35e-c9dbf3474095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2ed3e5c2-5744-4451-9377-c2fab1df3585&quot;,&quot;3578c321-4002-4415-8b4c-01ed08768699&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;219df930-a3fd-4388-b642-30df9b478caf&quot;,&quot;e31e4c25-02bf-4013-bb0d-155a3f6e8de9&quot;,&quot;66ff58f6-0737-405c-a3c7-43d703aeb32f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;title&quot;:&quot;change workitem state to COMPLETED&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise Bad Request (400) when changing state to COMPLETED that workitem not meet to final state&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to COMPLETED Should raise Bad Request (400) when changing state to COMPLETED that workitem not meet to final state&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateToCompletedRequestPayload])\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eecfc4d5-de78-4431-a44f-234475c66cd2&quot;,&quot;parentUUID&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise Bad Request (400) when Transaction UID not consistent&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to COMPLETED Should raise Bad Request (400) when Transaction UID not consistent&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let requestPayload = structuredClone(changeUpsStateRequestPayload);\nrequestPayload[\&quot;00081195\&quot;][\&quot;Value\&quot;][0] = \&quot;1.2.3.4\&quot;;\nrequestPayload[\&quot;00741000\&quot;][\&quot;Value\&quot;][0] = \&quot;COMPLETED\&quot;;\nlet response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([requestPayload])\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9e9fbac-d564-40f0-a3f5-65c53050564b&quot;,&quot;parentUUID&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should update workitem with &#x27;Unified Procedure Step Performed Procedure Sequence&#x27;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to COMPLETED Should update workitem with &#x27;Unified Procedure Step Performed Procedure Sequence&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let upsPerformedProcedureSequence = {\n    \&quot;00741216\&quot;: {\n        \&quot;vr\&quot;: \&quot;SQ\&quot;,\n        \&quot;Value\&quot;: [\n            {\n                \&quot;00404050\&quot;: {\n                    \&quot;vr\&quot;: \&quot;DT\&quot;,\n                    \&quot;Value\&quot;: [\n                        \&quot;20230523051211.171171+0800\&quot;\n                    ]\n                },\n                \&quot;00404051\&quot;: {\n                    \&quot;vr\&quot;: \&quot;DT\&quot;,\n                    \&quot;Value\&quot;: [\n                        \&quot;20230523053011.171171+0800\&quot;\n                    ]\n                },\n                \&quot;00404028\&quot;: {\n                    \&quot;vr\&quot;: \&quot;SQ\&quot;,\n                    \&quot;Value\&quot;: [\n                        {\n                            \&quot;00080100\&quot;: {\n                                \&quot;vr\&quot;: \&quot;SH\&quot;,\n                                \&quot;Value\&quot;: [\n                                    \&quot;AnyStation\&quot;\n                                ]\n                            },\n                            \&quot;00080102\&quot;: {\n                                \&quot;vr\&quot;: \&quot;SH\&quot;,\n                                \&quot;Value\&quot;: [\n                                    \&quot;RadReadingGroup\&quot;\n                                ]\n                            },\n                            \&quot;00080104\&quot;: {\n                                \&quot;vr\&quot;: \&quot;LO\&quot;,\n                                \&quot;Value\&quot;: [\n                                    \&quot;performerAE\&quot;\n                                ]\n                            }\n                        }\n                    ]\n                },\n                \&quot;00404019\&quot;: {\n                    \&quot;vr\&quot;: \&quot;SQ\&quot;,\n                    \&quot;Value\&quot;: [\n                        {\n                            \&quot;00080100\&quot;: {\n                                \&quot;vr\&quot;: \&quot;SH\&quot;,\n                                \&quot;Value\&quot;: [\n                                    \&quot;AnyMethod\&quot;\n                                ]\n                            },\n                            \&quot;00080102\&quot;: {\n                                \&quot;vr\&quot;: \&quot;SH\&quot;,\n                                \&quot;Value\&quot;: [\n                                    \&quot;99RACCOON\&quot;\n                                ]\n                            },\n                            \&quot;00080104\&quot;: {\n                                \&quot;vr\&quot;: \&quot;LO\&quot;,\n                                \&quot;Value\&quot;: [\n                                    \&quot;Local Any Method\&quot;\n                                ]\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n};\nlet clonedPayload = structuredClone(testWorkitem[0]);\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([\n        {\n            ...clonedPayload,\n            ...{ \&quot;00081195\&quot;: changeUpsStateRequestPayload[\&quot;00081195\&quot;] },\n            ...upsPerformedProcedureSequence\n        }\n    ])\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f07a8510-8dfe-44da-aa98-ea2622419570&quot;,&quot;parentUUID&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should change workitem state to COMPLETED successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to COMPLETED Should change workitem state to COMPLETED successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateToCompletedRequestPayload])\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c73adba-a0e4-4c29-ac6a-40a4911d8b0e&quot;,&quot;parentUUID&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise Bad Request (400) when updating workitem in COMPLETED state&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to COMPLETED Should raise Bad Request (400) when updating workitem in COMPLETED state&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedPayload = structuredClone(testWorkitem[0]);\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([{\n        ...clonedPayload,\n        ...{ \&quot;00081195\&quot;: changeUpsStateRequestPayload[\&quot;00081195\&quot;] },\n    }])\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76fe055b-5806-41d2-8f03-50bcb477cd62&quot;,&quot;parentUUID&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 409 (Conflict) when changing state COMPLETED to CANCELED&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to COMPLETED Should raise 409 (Conflict) when changing state COMPLETED to CANCELED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateToCanceledRequestPayload])\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85ddf673-3fcd-4677-815c-fa82d3390aab&quot;,&quot;parentUUID&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 409 (Conflict) when changing state COMPLETED to IN PROGRESS&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to COMPLETED Should raise 409 (Conflict) when changing state COMPLETED to IN PROGRESS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateRequestPayload])\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a559289a-7052-4ab5-b8af-11312d20d5d5&quot;,&quot;parentUUID&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should have &#x27;warning&#x27; in headers when state already be COMPLETED&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to COMPLETED Should have &#x27;warning&#x27; in headers when state already be COMPLETED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateToCompletedRequestPayload])\n});\nconsole.log(response.headers);\nexpect(response.headers).have.property(\&quot;warning\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cc690ad-19ea-496e-8080-cb5608075d15&quot;,&quot;parentUUID&quot;:&quot;262424ee-9978-492b-a626-c46343b51dfe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eecfc4d5-de78-4431-a44f-234475c66cd2&quot;,&quot;a9e9fbac-d564-40f0-a3f5-65c53050564b&quot;,&quot;f07a8510-8dfe-44da-aa98-ea2622419570&quot;,&quot;8c73adba-a0e4-4c29-ac6a-40a4911d8b0e&quot;,&quot;76fe055b-5806-41d2-8f03-50bcb477cd62&quot;,&quot;85ddf673-3fcd-4677-815c-fa82d3390aab&quot;,&quot;a559289a-7052-4ab5-b8af-11312d20d5d5&quot;,&quot;2cc690ad-19ea-496e-8080-cb5608075d15&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:47,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;title&quot;:&quot;change workitem state to CANCELED&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\changeWorkitemState.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;change workitem state to CANCELED\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to CANCELED \&quot;before all\&quot; hook in \&quot;change workitem state to CANCELED\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems?workitem=${workitemUID}`,\n    payload: testWorkitem,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a0a8be6-7dd9-470c-a3a3-825bf8958fe6&quot;,&quot;parentUUID&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise 409 (Conflict) when changing state SCHEDULED to CANCELED&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to CANCELED Should raise 409 (Conflict) when changing state SCHEDULED to CANCELED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateToCanceledRequestPayload])\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;741beccd-6a9e-406f-9a07-8abb4f4b24fd&quot;,&quot;parentUUID&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should change state to IN PROGRESS&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to CANCELED Should change state to IN PROGRESS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let changeStateToInProgressResponse = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateRequestPayload])\n});\nexpect(changeStateToInProgressResponse.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd61c4d4-7714-472a-a60e-f1b28181b682&quot;,&quot;parentUUID&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise Bad Request (400) when Transaction UID not consistent&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to CANCELED Should raise Bad Request (400) when Transaction UID not consistent&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let requestPayload = structuredClone(changeUpsStateRequestPayload);\nrequestPayload[\&quot;00081195\&quot;][\&quot;Value\&quot;][0] = \&quot;1.2.3.4\&quot;;\nrequestPayload[\&quot;00741000\&quot;][\&quot;Value\&quot;][0] = \&quot;CANCELED\&quot;;\nlet response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([requestPayload])\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74b8077b-691d-44d8-9445-37d08069defd&quot;,&quot;parentUUID&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should change workitem state to CANCELED successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to CANCELED Should change workitem state to CANCELED successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateToCanceledRequestPayload])\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c998365f-366c-4cf6-887b-8af060584e93&quot;,&quot;parentUUID&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should have &#x27;warning&#x27; in headers when state already be CANCELED&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to CANCELED Should have &#x27;warning&#x27; in headers when state already be CANCELED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateToCanceledRequestPayload])\n});\nconsole.log(response.headers);\nexpect(response.headers).have.property(\&quot;warning\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;600cff8f-8662-48b7-b796-8f5a7a971e25&quot;,&quot;parentUUID&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 409 (Conflict) when changing state CANCELED to IN PROGRESS&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to CANCELED Should raise 409 (Conflict) when changing state CANCELED to IN PROGRESS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateRequestPayload])\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bd6c875-61ff-446b-bd98-3918b259e0e7&quot;,&quot;parentUUID&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 409 (Conflict) when changing state CANCELED to COMPLETED&quot;,&quot;fullTitle&quot;:&quot;UPS-RS change workitem state change workitem state to CANCELED Should raise 409 (Conflict) when changing state CANCELED to COMPLETED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateToCompletedRequestPayload])\n});\nexpect(response.statusCode).to.equal(409);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6f6f8ec-d9d1-401f-8f2f-9871a8f1f3c2&quot;,&quot;parentUUID&quot;:&quot;5e737841-2e88-4df3-a54a-8d3c11e565c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;741beccd-6a9e-406f-9a07-8abb4f4b24fd&quot;,&quot;fd61c4d4-7714-472a-a60e-f1b28181b682&quot;,&quot;74b8077b-691d-44d8-9445-37d08069defd&quot;,&quot;c998365f-366c-4cf6-887b-8af060584e93&quot;,&quot;600cff8f-8662-48b7-b796-8f5a7a971e25&quot;,&quot;2bd6c875-61ff-446b-bd98-3918b259e0e7&quot;,&quot;e6f6f8ec-d9d1-401f-8f2f-9871a8f1f3c2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:53,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;78c5fff5-fd23-48ba-8744-d510e6d89d9a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;64149404-7a76-49ff-ac98-39b164dcc254&quot;,&quot;title&quot;:&quot;UPS-RS create workitem&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\createWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\createWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;UPS-RS create workitem\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS create workitem \&quot;before all\&quot; hook in \&quot;UPS-RS create workitem\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7403449a-2eb6-4f94-99fc-7ca22312a53a&quot;,&quot;parentUUID&quot;:&quot;64149404-7a76-49ff-ac98-39b164dcc254&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;UPS-RS create workitem\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS create workitem \&quot;after all\&quot; hook in \&quot;UPS-RS create workitem\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33190112-505e-4d6d-ab3c-6ce5b5959287&quot;,&quot;parentUUID&quot;:&quot;64149404-7a76-49ff-ac98-39b164dcc254&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should create workitem and have required attributes&quot;,&quot;fullTitle&quot;:&quot;UPS-RS create workitem Should create workitem and have required attributes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;,\n    },\n    body: JSON.stringify(testWorkitem)\n});\nexpect(response.statusCode).to.equal(201);\nexpect(response.headers).have.property(\&quot;content-location\&quot;).to.be.a(\&quot;string\&quot;);\nlet fetchWorkitemResponse = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: response.headers[\&quot;content-location\&quot;],\n});\nexpect(fetchWorkitemResponse.statusCode).to.equal(200);\nlet data = await fetchWorkitemResponse.json();\nlet workitem = data[0];\n// The origin server shall create a new Workitem in the SCHEDULED state\nexpect(workitem).have.property(\&quot;00741000\&quot;).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;).to.be.equal(\&quot;SCHEDULED\&quot;);\n// #region Patient level\nexpect(workitem).to.be.a(\&quot;object\&quot;);\nexpect(workitem).have.property(\&quot;00100010\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00100010\&quot;]);\nexpect(workitem).have.property(\&quot;00100020\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00100020\&quot;]);\nexpect(workitem).have.property(\&quot;00100021\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00100021\&quot;]);\nexpect(workitem).have.property(\&quot;00100030\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00100030\&quot;]);\nexpect(workitem).have.property(\&quot;00100040\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00100040\&quot;]);\nexpect(workitem).have.property(\&quot;00104000\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00104000\&quot;]);\n// #endregion\n// #region UPS level\nexpect(workitem).have.property(\&quot;00080018\&quot;);\nexpect(workitem).have.property(\&quot;00380010\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00380010\&quot;]);\nexpect(workitem).have.property(\&quot;00380014\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00380014\&quot;]);\nexpect(workitem).have.property(\&quot;00404005\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00404005\&quot;]);\nexpect(workitem).have.property(\&quot;00404018\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00404018\&quot;]);\nexpect(workitem).have.property(\&quot;00404025\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00404025\&quot;]);\nexpect(workitem).have.property(\&quot;00404026\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00404026\&quot;]);\nexpect(workitem).have.property(\&quot;00404027\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00404027\&quot;]);\nexpect(workitem).have.property(\&quot;00404041\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00404041\&quot;]);\nexpect(workitem).have.property(\&quot;0040A370\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;0040A370\&quot;]);\nexpect(workitem).have.property(\&quot;00741200\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00741200\&quot;]);\nexpect(workitem).have.property(\&quot;00741202\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00741202\&quot;]);\nexpect(workitem).have.property(\&quot;00741204\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00741204\&quot;]);\nexpect(workitem).have.property(\&quot;0040E020\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;0040E020\&quot;]);\nexpect(workitem).have.property(\&quot;00404034\&quot;).to.be.deep.equal(testWorkitem[0][\&quot;00404034\&quot;]);\n// #endregion&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa50e59a-e5c5-4b34-873d-43955c282631&quot;,&quot;parentUUID&quot;:&quot;64149404-7a76-49ff-ac98-39b164dcc254&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should create workitem with specified instance UID&quot;,&quot;fullTitle&quot;:&quot;UPS-RS create workitem Should create workitem with specified instance UID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems?workitem=${workitemUID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;,\n    },\n    body: JSON.stringify(testWorkitem)\n});\nexpect(response.statusCode).to.equal(201);\nlet fetchWorkitemResponse = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: response.headers[\&quot;content-location\&quot;],\n});\nexpect(fetchWorkitemResponse.statusCode).to.equal(200);\nlet data = await fetchWorkitemResponse.json();\nlet workitem = data[0];\nexpect(workitem).to.be.a(\&quot;object\&quot;);\nexpect(workitem).have.property(\&quot;00080018\&quot;).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;).to.be.equal(workitemUID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0324a53-11f3-490c-b351-dc458eac5ebc&quot;,&quot;parentUUID&quot;:&quot;64149404-7a76-49ff-ac98-39b164dcc254&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should supply a work list when payload missing one&quot;,&quot;fullTitle&quot;:&quot;UPS-RS create workitem Should supply a work list when payload missing one&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedTestWorkitem = structuredClone(testWorkitem[0]);\ndelete clonedTestWorkitem[\&quot;00741202\&quot;];\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/workitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;,\n    },\n    body: JSON.stringify([clonedTestWorkitem])\n});\nexpect(response.statusCode).to.equal(201);\nlet dataLocation = response.headers[\&quot;content-location\&quot;];\nlet fetchWorkitemResponse = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: dataLocation,\n});\nexpect(fetchWorkitemResponse.statusCode).to.equal(200);\nlet data = await fetchWorkitemResponse.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);\nexpect(data[0]).have.property(\&quot;00741202\&quot;).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7579a9c8-1612-44af-80aa-b8002731d659&quot;,&quot;parentUUID&quot;:&quot;64149404-7a76-49ff-ac98-39b164dcc254&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when state is not SCHEDULED&quot;,&quot;fullTitle&quot;:&quot;UPS-RS create workitem Should raise 400 (Bad Request) when state is not SCHEDULED&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let clonedTestWorkitem = structuredClone(testWorkitem[0]);\nclonedTestWorkitem[\&quot;00741000\&quot;][\&quot;Value\&quot;][0] = \&quot;IN PROGRESS\&quot;;\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;,\n    },\n    body: JSON.stringify([clonedTestWorkitem])\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;261bdc07-36c7-462b-9161-e11adf4a43c1&quot;,&quot;parentUUID&quot;:&quot;64149404-7a76-49ff-ac98-39b164dcc254&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when create workitem that already exists&quot;,&quot;fullTitle&quot;:&quot;UPS-RS create workitem Should raise 400 (Bad Request) when create workitem that already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems?workitem=${workitemUID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;,\n    },\n    body: JSON.stringify(testWorkitem)\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58d2b0ef-1852-45d3-8a98-db48457f86be&quot;,&quot;parentUUID&quot;:&quot;64149404-7a76-49ff-ac98-39b164dcc254&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa50e59a-e5c5-4b34-873d-43955c282631&quot;,&quot;a0324a53-11f3-490c-b351-dc458eac5ebc&quot;,&quot;7579a9c8-1612-44af-80aa-b8002731d659&quot;,&quot;261bdc07-36c7-462b-9161-e11adf4a43c1&quot;,&quot;58d2b0ef-1852-45d3-8a98-db48457f86be&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:40,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;b32cf0ae-0f80-41d3-a86f-cc6349cf6159&quot;,&quot;title&quot;:&quot;UPS-RS retrieve workitem&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\retrieveWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\retrieveWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;UPS-RS retrieve workitem\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS retrieve workitem \&quot;before all\&quot; hook in \&quot;UPS-RS retrieve workitem\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nlet createWorkitemResponse = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/workitems\&quot;,\n    payload: testWorkitem,\n});\ncreatedWorkitemLocation = createWorkitemResponse.headers[\&quot;content-location\&quot;];&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9884463-5d9b-439d-ad2c-45efd08566e6&quot;,&quot;parentUUID&quot;:&quot;b32cf0ae-0f80-41d3-a86f-cc6349cf6159&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS retrieve workitem Should retrieve workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n            method: \&quot;GET\&quot;,\n            url: createdWorkitemLocation\n        });\n        expect(response.statusCode).to.equal(200);\n        let data = await response.json();\n        expect(data).to.be.an(\&quot;array\&quot;);\n        expect(data[0]).to.be.an(\&quot;object\&quot;);\n        expect(data[0]).have.property(\&quot;00741000\&quot;).have.property(\&quot;Value\&quot;).have.property(\&quot;0\&quot;).to.be.equal(\&quot;SCHEDULED\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;140f58c8-b85d-4a59-a5a9-31ce16be3761&quot;,&quot;parentUUID&quot;:&quot;b32cf0ae-0f80-41d3-a86f-cc6349cf6159&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when workitem not found&quot;,&quot;fullTitle&quot;:&quot;UPS-RS retrieve workitem Should raise 404 (Not Found) when workitem not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n            method: \&quot;GET\&quot;,\n            url: \&quot;/dicom-web/workitems/foobar\&quot;,\n        });\n        expect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e5d0b44-f0fa-4396-a127-0432ebe2c96c&quot;,&quot;parentUUID&quot;:&quot;b32cf0ae-0f80-41d3-a86f-cc6349cf6159&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;140f58c8-b85d-4a59-a5a9-31ce16be3761&quot;,&quot;2e5d0b44-f0fa-4396-a127-0432ebe2c96c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;c61f8672-93a9-49eb-9b82-0a7ef9a6eeba&quot;,&quot;title&quot;:&quot;UPS-RS search workitems&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;UPS-RS search workitems\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems \&quot;before all\&quot; hook in \&quot;UPS-RS search workitems\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems?workitem=${workitemUID}`,\n    payload: testWorkitem,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7725df7c-bfe1-4c03-b85c-cdb23355bd47&quot;,&quot;parentUUID&quot;:&quot;c61f8672-93a9-49eb-9b82-0a7ef9a6eeba&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems Should query workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems`,\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86429381-8e5f-42a2-bad7-42816d597414&quot;,&quot;parentUUID&quot;:&quot;c61f8672-93a9-49eb-9b82-0a7ef9a6eeba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2a3b64e3-c916-4804-b0ad-7b0c0a5ed0f4&quot;,&quot;title&quot;:&quot;query with param &#x27;SOPInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;SOPInstanceUID=1.2.826.0.1.3680043.8.498.10446888627027530123168162507860718519&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;SOPInstanceUID&#x27; Should query workitem with param &#x27;SOPInstanceUID=1.2.826.0.1.3680043.8.498.10446888627027530123168162507860718519&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c88b3ab4-8463-4e28-b72d-f222236f6ee6&quot;,&quot;parentUUID&quot;:&quot;2a3b64e3-c916-4804-b0ad-7b0c0a5ed0f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;SOPInstanceUID=1.2.3.4&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;SOPInstanceUID&#x27; Should query workitem with param &#x27;SOPInstanceUID=1.2.3.4&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8189e91a-5caa-4267-8e7d-f176828d6299&quot;,&quot;parentUUID&quot;:&quot;2a3b64e3-c916-4804-b0ad-7b0c0a5ed0f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c88b3ab4-8463-4e28-b72d-f222236f6ee6&quot;,&quot;8189e91a-5caa-4267-8e7d-f176828d6299&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;da844538-22d4-4854-bc94-b10ad80144d5&quot;,&quot;title&quot;:&quot;query with param &#x27;ScheduledProcedureStepPriority&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledProcedureStepPriority=MEDIUM&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledProcedureStepPriority&#x27; Should query workitem with param &#x27;ScheduledProcedureStepPriority=MEDIUM&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d165374-e0be-405f-8556-f52f99aa2fa8&quot;,&quot;parentUUID&quot;:&quot;da844538-22d4-4854-bc94-b10ad80144d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledProcedureStepPriority=LOW&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledProcedureStepPriority&#x27; Should query workitem with param &#x27;ScheduledProcedureStepPriority=LOW&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be27e8da-b300-4af3-9d28-054fb861eaae&quot;,&quot;parentUUID&quot;:&quot;da844538-22d4-4854-bc94-b10ad80144d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8d165374-e0be-405f-8556-f52f99aa2fa8&quot;,&quot;be27e8da-b300-4af3-9d28-054fb861eaae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;1a82b0a3-2bc1-462e-ab2f-7235468017a3&quot;,&quot;title&quot;:&quot;query with param &#x27;ScheduledProcedureStepModificationDateTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledProcedureStepModificationDateTime=20211202115531-&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledProcedureStepModificationDateTime&#x27; Should query workitem with param &#x27;ScheduledProcedureStepModificationDateTime=20211202115531-&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ea0f16c-9997-42fb-8b63-60f99627b033&quot;,&quot;parentUUID&quot;:&quot;1a82b0a3-2bc1-462e-ab2f-7235468017a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledProcedureStepModificationDateTime=20211202115532&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledProcedureStepModificationDateTime&#x27; Should query workitem with param &#x27;ScheduledProcedureStepModificationDateTime=20211202115532&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5b255eb-4390-4e87-bdb0-dfb2de68954c&quot;,&quot;parentUUID&quot;:&quot;1a82b0a3-2bc1-462e-ab2f-7235468017a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7ea0f16c-9997-42fb-8b63-60f99627b033&quot;,&quot;b5b255eb-4390-4e87-bdb0-dfb2de68954c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;60bb75eb-c69a-4eb0-b369-9eb031051904&quot;,&quot;title&quot;:&quot;query with param &#x27;ProcedureStepLabel&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;ProcedureStepLabel=Scheduled procedure step description&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ProcedureStepLabel&#x27; Should query workitem with param &#x27;ProcedureStepLabel=Scheduled procedure step description&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b486bd4d-c91c-4b5e-8cbc-441f408af17a&quot;,&quot;parentUUID&quot;:&quot;60bb75eb-c69a-4eb0-b369-9eb031051904&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ProcedureStepLabel=label&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ProcedureStepLabel&#x27; Should query workitem with param &#x27;ProcedureStepLabel=label&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00cea057-7818-4409-860c-a453ea86e109&quot;,&quot;parentUUID&quot;:&quot;60bb75eb-c69a-4eb0-b369-9eb031051904&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b486bd4d-c91c-4b5e-8cbc-441f408af17a&quot;,&quot;00cea057-7818-4409-860c-a453ea86e109&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;58980467-a5f3-4296-b59a-a8a8ba6a6e8e&quot;,&quot;title&quot;:&quot;query with param &#x27;WorklistLabel&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;WorklistLabel=WORKLIST&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;WorklistLabel&#x27; Should query workitem with param &#x27;WorklistLabel=WORKLIST&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38b78dd2-dff8-4534-a153-e77b6566b25d&quot;,&quot;parentUUID&quot;:&quot;58980467-a5f3-4296-b59a-a8a8ba6a6e8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;WorklistLabel=label&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;WorklistLabel&#x27; Should query workitem with param &#x27;WorklistLabel=label&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d418000c-322f-4d5e-85f9-71f902f677a0&quot;,&quot;parentUUID&quot;:&quot;58980467-a5f3-4296-b59a-a8a8ba6a6e8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;38b78dd2-dff8-4534-a153-e77b6566b25d&quot;,&quot;d418000c-322f-4d5e-85f9-71f902f677a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;56834fc0-c58d-4424-890b-a52c9f35a47d&quot;,&quot;title&quot;:&quot;query with param &#x27;ScheduledProcedureStepStartDateTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledProcedureStepStartDateTime=20211202115531-&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledProcedureStepStartDateTime&#x27; Should query workitem with param &#x27;ScheduledProcedureStepStartDateTime=20211202115531-&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;704135e2-40cd-453a-a4f4-8f1a0d4a34ae&quot;,&quot;parentUUID&quot;:&quot;56834fc0-c58d-4424-890b-a52c9f35a47d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledProcedureStepStartDateTime=20211202115532&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledProcedureStepStartDateTime&#x27; Should query workitem with param &#x27;ScheduledProcedureStepStartDateTime=20211202115532&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b9d9cb5-0db0-4079-806d-e3f1a9861dda&quot;,&quot;parentUUID&quot;:&quot;56834fc0-c58d-4424-890b-a52c9f35a47d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;704135e2-40cd-453a-a4f4-8f1a0d4a34ae&quot;,&quot;3b9d9cb5-0db0-4079-806d-e3f1a9861dda&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;85a395af-ce55-469f-ac28-c0666120acf2&quot;,&quot;title&quot;:&quot;query with param &#x27;ExpectedCompletionDateTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;ExpectedCompletionDateTime=20211202115532-&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ExpectedCompletionDateTime&#x27; Should query workitem with param &#x27;ExpectedCompletionDateTime=20211202115532-&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6407ec68-26d7-4815-bf81-74071b421f00&quot;,&quot;parentUUID&quot;:&quot;85a395af-ce55-469f-ac28-c0666120acf2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ExpectedCompletionDateTime=20211202115533&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ExpectedCompletionDateTime&#x27; Should query workitem with param &#x27;ExpectedCompletionDateTime=20211202115533&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ef05e9a-b631-4ae2-919e-9bae4abe37d8&quot;,&quot;parentUUID&quot;:&quot;85a395af-ce55-469f-ac28-c0666120acf2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6407ec68-26d7-4815-bf81-74071b421f00&quot;,&quot;4ef05e9a-b631-4ae2-919e-9bae4abe37d8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;c4e696db-5156-4cac-bf47-d8593d788692&quot;,&quot;title&quot;:&quot;query with param &#x27;ScheduledProcedureStepExpirationDateTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledProcedureStepExpirationDateTime=20221202115532-&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledProcedureStepExpirationDateTime&#x27; Should query workitem with param &#x27;ScheduledProcedureStepExpirationDateTime=20221202115532-&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;547f94da-4196-4e7c-9b64-b7b9d1268c95&quot;,&quot;parentUUID&quot;:&quot;c4e696db-5156-4cac-bf47-d8593d788692&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledProcedureStepExpirationDateTime=20221202115532&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledProcedureStepExpirationDateTime&#x27; Should query workitem with param &#x27;ScheduledProcedureStepExpirationDateTime=20221202115532&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9830e68b-4516-4d23-9bc8-9645ab5b7791&quot;,&quot;parentUUID&quot;:&quot;c4e696db-5156-4cac-bf47-d8593d788692&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;547f94da-4196-4e7c-9b64-b7b9d1268c95&quot;,&quot;9830e68b-4516-4d23-9bc8-9645ab5b7791&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;5db36fdd-9b7a-4e2f-806b-019aa741a90f&quot;,&quot;title&quot;:&quot;query with param &#x27;InputReadinessState&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;InputReadinessState=READY&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;InputReadinessState&#x27; Should query workitem with param &#x27;InputReadinessState=READY&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86039a8c-57b0-4c04-8d0d-c4b041b71ddd&quot;,&quot;parentUUID&quot;:&quot;5db36fdd-9b7a-4e2f-806b-019aa741a90f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;InputReadinessState=UNAVAILABLE&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;InputReadinessState&#x27; Should query workitem with param &#x27;InputReadinessState=UNAVAILABLE&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7762e3b-a2c6-4699-b92a-2d43821b00e2&quot;,&quot;parentUUID&quot;:&quot;5db36fdd-9b7a-4e2f-806b-019aa741a90f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;86039a8c-57b0-4c04-8d0d-c4b041b71ddd&quot;,&quot;a7762e3b-a2c6-4699-b92a-2d43821b00e2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;446580d9-1e3b-4dd5-a200-f3a2033d94f7&quot;,&quot;title&quot;:&quot;query with param &#x27;AdmissionID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;AdmissionID=11111&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;AdmissionID&#x27; Should query workitem with param &#x27;AdmissionID=11111&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e1337e8-2971-4fbf-9b0b-b6f596f8a139&quot;,&quot;parentUUID&quot;:&quot;446580d9-1e3b-4dd5-a200-f3a2033d94f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;AdmissionID=123456&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;AdmissionID&#x27; Should query workitem with param &#x27;AdmissionID=123456&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4d2232d-f3c7-4787-ac78-aeac6d544ae3&quot;,&quot;parentUUID&quot;:&quot;446580d9-1e3b-4dd5-a200-f3a2033d94f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9e1337e8-2971-4fbf-9b0b-b6f596f8a139&quot;,&quot;c4d2232d-f3c7-4787-ac78-aeac6d544ae3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;0297c225-e028-4cff-a2fa-7ab8d7bba39f&quot;,&quot;title&quot;:&quot;query with param &#x27;IssuerOfAdmissionIDSequence&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID=123456789&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;IssuerOfAdmissionIDSequence&#x27; Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID=123456789&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2af011a1-eefa-4aac-8f30-6e5e80b17f5f&quot;,&quot;parentUUID&quot;:&quot;0297c225-e028-4cff-a2fa-7ab8d7bba39f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID=aaa&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;IssuerOfAdmissionIDSequence&#x27; Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.LocalNamespaceEntityID=aaa&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36393e38-c9c4-41ed-8d43-ea99bae34e0e&quot;,&quot;parentUUID&quot;:&quot;0297c225-e028-4cff-a2fa-7ab8d7bba39f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID=29c737e3-b739-4169-aca7-eea07a808643&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;IssuerOfAdmissionIDSequence&#x27; Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID=29c737e3-b739-4169-aca7-eea07a808643&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4636658-4329-40e7-840a-2f38070ab816&quot;,&quot;parentUUID&quot;:&quot;0297c225-e028-4cff-a2fa-7ab8d7bba39f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID=bbb&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;IssuerOfAdmissionIDSequence&#x27; Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityID=bbb&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;788f5742-5af3-4e73-8392-495a3887efb7&quot;,&quot;parentUUID&quot;:&quot;0297c225-e028-4cff-a2fa-7ab8d7bba39f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType=UUID&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;IssuerOfAdmissionIDSequence&#x27; Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType=UUID&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7b87324-1ec4-4a39-8417-d86743738354&quot;,&quot;parentUUID&quot;:&quot;0297c225-e028-4cff-a2fa-7ab8d7bba39f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType=ISO&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;IssuerOfAdmissionIDSequence&#x27; Should query workitem with param &#x27;IssuerOfAdmissionIDSequence.UniversalEntityIDType=ISO&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f96321f6-27d9-461c-9121-787d8fc86ad4&quot;,&quot;parentUUID&quot;:&quot;0297c225-e028-4cff-a2fa-7ab8d7bba39f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2af011a1-eefa-4aac-8f30-6e5e80b17f5f&quot;,&quot;36393e38-c9c4-41ed-8d43-ea99bae34e0e&quot;,&quot;a4636658-4329-40e7-840a-2f38070ab816&quot;,&quot;788f5742-5af3-4e73-8392-495a3887efb7&quot;,&quot;b7b87324-1ec4-4a39-8417-d86743738354&quot;,&quot;f96321f6-27d9-461c-9121-787d8fc86ad4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;8612c0b4-8687-47f2-92ff-acb1449142e9&quot;,&quot;title&quot;:&quot;query with param &#x27;ScheduledHumanPerformersSequence&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledHumanPerformersSequence.HumanPerformerName=fkyou&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledHumanPerformersSequence&#x27; Should query workitem with param &#x27;ScheduledHumanPerformersSequence.HumanPerformerName=fkyou&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f550b642-8611-418a-87d1-310d11d8d54f&quot;,&quot;parentUUID&quot;:&quot;8612c0b4-8687-47f2-92ff-acb1449142e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledHumanPerformersSequence.HumanPerformerName=aaa&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledHumanPerformersSequence&#x27; Should query workitem with param &#x27;ScheduledHumanPerformersSequence.HumanPerformerName=aaa&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61b2f737-c1f6-4435-9f91-5782384288e9&quot;,&quot;parentUUID&quot;:&quot;8612c0b4-8687-47f2-92ff-acb1449142e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledHumanPerformersSequence.HumanPerformerOrganization=My-Org&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledHumanPerformersSequence&#x27; Should query workitem with param &#x27;ScheduledHumanPerformersSequence.HumanPerformerOrganization=My-Org&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f18baa9b-16e6-42b6-a7b7-c426cd5bf53c&quot;,&quot;parentUUID&quot;:&quot;8612c0b4-8687-47f2-92ff-acb1449142e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ScheduledHumanPerformersSequence.HumanPerformerOrganization=bbb&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ScheduledHumanPerformersSequence&#x27; Should query workitem with param &#x27;ScheduledHumanPerformersSequence.HumanPerformerOrganization=bbb&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce13a982-730b-4cbf-8896-79b55942a368&quot;,&quot;parentUUID&quot;:&quot;8612c0b4-8687-47f2-92ff-acb1449142e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f550b642-8611-418a-87d1-310d11d8d54f&quot;,&quot;61b2f737-c1f6-4435-9f91-5782384288e9&quot;,&quot;f18baa9b-16e6-42b6-a7b7-c426cd5bf53c&quot;,&quot;ce13a982-730b-4cbf-8896-79b55942a368&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;2623e218-6b04-4b95-bc3d-23e280531367&quot;,&quot;title&quot;:&quot;query with param &#x27;ProcedureStepState&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\searchWorkitems.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should query workitem with param &#x27;ProcedureStepState=SCHEDULED&#x27; and get 1 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ProcedureStepState&#x27; Should query workitem with param &#x27;ProcedureStepState=SCHEDULED&#x27; and get 1 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c074ebe8-da7c-4fef-b2e8-a394f6a53295&quot;,&quot;parentUUID&quot;:&quot;2623e218-6b04-4b95-bc3d-23e280531367&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should query workitem with param &#x27;ProcedureStepState=COMPLETED&#x27; and get 0 workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS search workitems query with param &#x27;ProcedureStepState&#x27; Should query workitem with param &#x27;ProcedureStepState=COMPLETED&#x27; and get 0 workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/workitems?${param}=${value}`,\n});\n\nif (expectedCount === 0) {\n    expect(response.statusCode).to.equal(204);\n    return;\n}\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;);\nexpect(data).have.lengthOf(expectedCount);\nexpect(data[0]).to.be.an(\&quot;object\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;debe83ef-dad0-4fb4-8053-6638896d5284&quot;,&quot;parentUUID&quot;:&quot;2623e218-6b04-4b95-bc3d-23e280531367&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c074ebe8-da7c-4fef-b2e8-a394f6a53295&quot;,&quot;debe83ef-dad0-4fb4-8053-6638896d5284&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;86429381-8e5f-42a2-bad7-42816d597414&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;bd3ee1c2-5b53-452e-b9cb-bf7436daf18f&quot;,&quot;title&quot;:&quot;UPS-RS subscribe workitem&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\subscribeWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\subscribeWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;UPS-RS subscribe workitem\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem \&quot;before all\&quot; hook in \&quot;UPS-RS subscribe workitem\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nrandomPort = await getPorts();\nserver.listen({ host: localIp, port: randomPort }, () =&gt; {\n    console.log(`Listening on ${localIp}:${randomPort}`);\n});\nawait createTestWorkitem();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e00e4dfc-ab52-4662-9ae6-d6154f05a722&quot;,&quot;parentUUID&quot;:&quot;bd3ee1c2-5b53-452e-b9cb-bf7436daf18f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;UPS-RS subscribe workitem\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem \&quot;after all\&quot; hook in \&quot;UPS-RS subscribe workitem\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;globalWs.close();\nserver.close();\nawait dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b379043f-65da-4559-8036-8affa1fa7ffe&quot;,&quot;parentUUID&quot;:&quot;bd3ee1c2-5b53-452e-b9cb-bf7436daf18f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;22609bb1-1566-458e-9d66-5ead29739997&quot;,&quot;title&quot;:&quot;global subscription&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\subscribeWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\subscribeWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should subscribe global subscription and receive 1 initial event from ws&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem global subscription Should subscribe global subscription and receive 1 initial event from ws&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let received = false;\n\nlet ws = new WebSocket(`ws://${localIp}:${randomPort}/ws/subscribers/RACCOON`);\nws.on(\&quot;message\&quot;, function (data) {\n    let receivedData = JSON.parse(data);\n    expect(receivedData).to.have.property(\&quot;00001002\&quot;).have.property(\&quot;Value\&quot;).is.an(\&quot;array\&quot;);\n    ws.close();\n    done();\n    received = true;\n});\ninject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/RACCOON`,\n})\n    .then(({ statusCode }) =&gt; {\n        expect(statusCode).to.equal(201);\n    });\nsetTimeout(() =&gt; {\n    if (!received) done(new Error(\&quot;timeout\&quot;));\n}, 2500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fc32298-6bed-43dd-ad0f-b8594b7c6c9e&quot;,&quot;parentUUID&quot;:&quot;22609bb1-1566-458e-9d66-5ead29739997&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should receive 1 initial event from ws when creating new workitem&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem global subscription Should receive 1 initial event from ws when creating new workitem&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let received = false;\nlet ws = new WebSocket(`ws://${localIp}:${randomPort}/ws/subscribers/RACCOON`);\nws.on(\&quot;message\&quot;, function (data) {\n    let receivedData = JSON.parse(data);\n    expect(receivedData).to.have.property(\&quot;00001002\&quot;).have.property(\&quot;Value\&quot;).is.an(\&quot;array\&quot;);\n    ws.close();\n    done();\n    received = true;\n});\ninject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;,\n    },\n    body: JSON.stringify(testWorkitem)\n});\nsetTimeout(() =&gt; {\n    if (!received) done(new Error(\&quot;timeout\&quot;));\n}, 2500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3e11cc5-d1b2-483b-bd3f-cfe6bc12b7ff&quot;,&quot;parentUUID&quot;:&quot;22609bb1-1566-458e-9d66-5ead29739997&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should update global subscription&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem global subscription Should update global subscription&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/RACCOON?deletionlock=false`,\n});\nexpect(response.statusCode).to.equal(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02b5609f-f8a3-4a86-b99e-eef955b59a50&quot;,&quot;parentUUID&quot;:&quot;22609bb1-1566-458e-9d66-5ead29739997&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should update progress information sequence and receive progress info update event&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem global subscription Should update progress information sequence and receive progress info update event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let received = false;\nlet ws = new WebSocket(`ws://${localIp}:${randomPort}/ws/subscribers/RACCOON`);\nws.on(\&quot;message\&quot;, function (data) {\n    let receivedData = JSON.parse(data);\n    expect(receivedData).to.have.property(\&quot;00741002\&quot;).have.property(\&quot;Value\&quot;).is.an(\&quot;array\&quot;);\n    ws.close();\n    done();\n    received = true;\n});\nlet clonedWorkitem = structuredClone(testWorkitem[0]);\nclonedWorkitem[\&quot;00741002\&quot;] = {\n    \&quot;vr\&quot;: \&quot;SQ\&quot;,\n    \&quot;Value\&quot;: [\n        {\n            \&quot;00741004\&quot;: {\n                \&quot;vr\&quot;: \&quot;DS\&quot;,\n                \&quot;Value\&quot;: [\n                    \&quot;20\&quot;\n                ]\n            }\n        }\n    ]\n}\ninject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}`,\n    payload: [clonedWorkitem]\n}).then(({ statusCode }) =&gt; {\n    expect(statusCode).to.equal(200);\n}\n);\nsetTimeout(() =&gt; {\n    if (!received) done(new Error(\&quot;timeout\&quot;));\n}, 2500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;286c46e5-48a5-4f72-bbe8-1d574e854bff&quot;,&quot;parentUUID&quot;:&quot;22609bb1-1566-458e-9d66-5ead29739997&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should change state to IN PROGRESS and receive state change report event&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem global subscription Should change state to IN PROGRESS and receive state change report event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let received = false;\nlet ws = new WebSocket(`ws://${localIp}:${randomPort}/ws/subscribers/RACCOON`);\nws.on(\&quot;message\&quot;, function (data) {\n    let receivedData = JSON.parse(data);\n    expect(receivedData).to.have.property(\&quot;00741000\&quot;).have.property(\&quot;Value\&quot;).is.an(\&quot;array\&quot;).have.property(\&quot;0\&quot;).to.be.equal(\&quot;IN PROGRESS\&quot;);\n    ws.close();\n    done();\n    received = true;\n});\ninject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateRequestPayload])\n}).then(({ statusCode }) =&gt; {\n    expect(statusCode).to.be.equal(200);\n});\nsetTimeout(() =&gt; {\n    if (!received) done(new Error(\&quot;timeout\&quot;));\n}, 2500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e137dee8-1e7c-4ec4-9c9b-4cef083138d1&quot;,&quot;parentUUID&quot;:&quot;22609bb1-1566-458e-9d66-5ead29739997&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should suspend global subscription&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem global subscription Should suspend global subscription&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/RACCOON/suspend`,\n}).then(({ statusCode }) =&gt; {\n    expect(statusCode).to.be.equal(200);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77ed7265-a1d0-4c53-91e4-d8456e17fbcf&quot;,&quot;parentUUID&quot;:&quot;22609bb1-1566-458e-9d66-5ead29739997&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should unsubscribe global subscription&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem global subscription Should unsubscribe global subscription&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/RACCOON`,\n})\nlet response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/RACCOON`,\n});\nexpect(response.statusCode).to.be.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92477aaf-f618-4509-bc7b-57583d2c222f&quot;,&quot;parentUUID&quot;:&quot;22609bb1-1566-458e-9d66-5ead29739997&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6fc32298-6bed-43dd-ad0f-b8594b7c6c9e&quot;,&quot;a3e11cc5-d1b2-483b-bd3f-cfe6bc12b7ff&quot;,&quot;02b5609f-f8a3-4a86-b99e-eef955b59a50&quot;,&quot;286c46e5-48a5-4f72-bbe8-1d574e854bff&quot;,&quot;e137dee8-1e7c-4ec4-9c9b-4cef083138d1&quot;,&quot;77ed7265-a1d0-4c53-91e4-d8456e17fbcf&quot;,&quot;92477aaf-f618-4509-bc7b-57583d2c222f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:70,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;68e2ec25-ba6c-439d-af88-4d7516ff90b1&quot;,&quot;title&quot;:&quot;filtered global subscription&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\subscribeWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\subscribeWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;filtered global subscription\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem filtered global subscription \&quot;before all\&quot; hook in \&quot;filtered global subscription\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait createTestWorkitem();\nlet clonedTestWorkitem = structuredClone(testWorkitem[0]);\nclonedTestWorkitem[\&quot;00380014\&quot;][\&quot;Value\&quot;][0][\&quot;00400031\&quot;][\&quot;Value\&quot;][0] = \&quot;987654321\&quot;;\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;,\n    },\n    body: JSON.stringify([clonedTestWorkitem])\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;659d44c8-84f7-40d4-83b2-657836ea54b3&quot;,&quot;parentUUID&quot;:&quot;68e2ec25-ba6c-439d-af88-4d7516ff90b1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should subscribe filtered global subscription and receive 1 initial event from ws&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem filtered global subscription Should subscribe filtered global subscription and receive 1 initial event from ws&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let received = false;\nlet ws = new WebSocket(`ws://${localIp}:${randomPort}/ws/subscribers/RACCOON`);\nws.on(\&quot;message\&quot;, function (data) {\n    let receivedData = JSON.parse(data);\n    expect(receivedData).to.have.property(\&quot;00001002\&quot;).have.property(\&quot;Value\&quot;).is.an(\&quot;array\&quot;);\n    expect(receivedData).to.have.property(\&quot;00001000\&quot;).have.property(\&quot;Value\&quot;).is.an(\&quot;array\&quot;).have.property(\&quot;0\&quot;).to.be.equal(workitemUID);\n    ws.close();\n    done();\n    received = true;\n});\ninject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5.1/subscribers/RACCOON?00380014.00400031=123456789`,\n})\n    .then(({ statusCode }) =&gt; {\n        expect(statusCode).to.equal(201);\n    });\nsetTimeout(() =&gt; {\n    if (!received) done(new Error(\&quot;timeout\&quot;));\n}, 2500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17092916-f230-478e-817a-d07d7cb9b58f&quot;,&quot;parentUUID&quot;:&quot;68e2ec25-ba6c-439d-af88-4d7516ff90b1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;17092916-f230-478e-817a-d07d7cb9b58f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;abd171b2-a8c9-441d-b7eb-11882c6627d7&quot;,&quot;title&quot;:&quot;workitem subscription&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\subscribeWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\subscribeWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;workitem subscription\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem workitem subscription \&quot;before all\&quot; hook in \&quot;workitem subscription\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait createTestWorkitem();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3918ef3b-1bce-4a44-b112-1fc733b08c02&quot;,&quot;parentUUID&quot;:&quot;abd171b2-a8c9-441d-b7eb-11882c6627d7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should subscribe workitem subscription&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem workitem subscription Should subscribe workitem subscription&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/subscribers/RACCOON`,\n});\nexpect(response.statusCode).to.be.equal(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c58a148-c0bb-4275-ba46-bead0f847b0c&quot;,&quot;parentUUID&quot;:&quot;abd171b2-a8c9-441d-b7eb-11882c6627d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should change state to IN PROGRESS and receive state change report event&quot;,&quot;fullTitle&quot;:&quot;UPS-RS subscribe workitem workitem subscription Should change state to IN PROGRESS and receive state change report event&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let received = false;\nlet ws = new WebSocket(`ws://${localIp}:${randomPort}/ws/subscribers/RACCOON`);\nws.on(\&quot;message\&quot;, function (data) {\n    let receivedData = JSON.parse(data);\n    expect(receivedData).to.have.property(\&quot;00741000\&quot;).have.property(\&quot;Value\&quot;).is.an(\&quot;array\&quot;).have.property(\&quot;0\&quot;).to.be.equal(\&quot;IN PROGRESS\&quot;);\n    ws.close();\n    done();\n    received = true;\n});\ninject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/state`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([changeUpsStateRequestPayload])\n}).then(({ statusCode }) =&gt; {\n    expect(statusCode).to.be.equal(200);\n});\nsetTimeout(() =&gt; {\n    if (!received) done(new Error(\&quot;timeout\&quot;));\n}, 2500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5767c6b4-de9c-4ed9-9209-313986890459&quot;,&quot;parentUUID&quot;:&quot;abd171b2-a8c9-441d-b7eb-11882c6627d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2c58a148-c0bb-4275-ba46-bead0f847b0c&quot;,&quot;5767c6b4-de9c-4ed9-9209-313986890459&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;fb010b83-fdec-46b8-9cac-362b1d852768&quot;,&quot;title&quot;:&quot;UPS-RS unsubscribe workitem&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\unsubscribeWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\unsubscribeWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;UPS-RS unsubscribe workitem\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem \&quot;before all\&quot; hook in \&quot;UPS-RS unsubscribe workitem\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nrandomPort = await getPorts();\nserver.listen({ host: localIp, port: randomPort }, () =&gt; {\n    console.log(`Listening on ${randomPort}`);\n});\nawait createTestWorkitem();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a39c83d6-596c-4efe-87dc-f49344234e42&quot;,&quot;parentUUID&quot;:&quot;fb010b83-fdec-46b8-9cac-362b1d852768&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;UPS-RS unsubscribe workitem\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem \&quot;after all\&quot; hook in \&quot;UPS-RS unsubscribe workitem\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server.close();\nglobalWs.close();\nawait dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;646274d6-b6cd-4cab-91f6-f1a1c940b604&quot;,&quot;parentUUID&quot;:&quot;fb010b83-fdec-46b8-9cac-362b1d852768&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;22e75355-66f0-4a72-afeb-b50a38b4327b&quot;,&quot;title&quot;:&quot;unsubscribe global subscription&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\unsubscribeWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\unsubscribeWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;unsubscribe global subscription\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem unsubscribe global subscription \&quot;before all\&quot; hook in \&quot;unsubscribe global subscription\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/RACCOON`,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea0469b1-d64c-4a0d-bcb5-db990ab7838e&quot;,&quot;parentUUID&quot;:&quot;22e75355-66f0-4a72-afeb-b50a38b4327b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should unsubscribe global subscription&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem unsubscribe global subscription Should unsubscribe global subscription&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/RACCOON`, \n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a850d95-05b5-47be-bf85-0836b7a513a9&quot;,&quot;parentUUID&quot;:&quot;22e75355-66f0-4a72-afeb-b50a38b4327b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when global subscription not exist&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem unsubscribe global subscription Should raise 404 when global subscription not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/FOOBAR`, \n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e967c986-287d-4420-9b8b-2e8778649d8d&quot;,&quot;parentUUID&quot;:&quot;22e75355-66f0-4a72-afeb-b50a38b4327b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8a850d95-05b5-47be-bf85-0836b7a513a9&quot;,&quot;e967c986-287d-4420-9b8b-2e8778649d8d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a6231e22-52b7-4272-8113-324f2f3d2dc3&quot;,&quot;title&quot;:&quot;unsubscribe filtered global subscription&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\unsubscribeWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\unsubscribeWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;unsubscribe filtered global subscription\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem unsubscribe filtered global subscription \&quot;before all\&quot; hook in \&quot;unsubscribe filtered global subscription\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5.1/subscribers/RACCOON?00380014.00400031=123456789`,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;120cbdcc-5c15-4c6d-adb7-4726f5359f1e&quot;,&quot;parentUUID&quot;:&quot;a6231e22-52b7-4272-8113-324f2f3d2dc3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should unsubscribe filtered global subscription&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem unsubscribe filtered global subscription Should unsubscribe filtered global subscription&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5.1/subscribers/RACCOON`, \n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;828f5a65-e355-4adc-9f69-f4cac8e2e486&quot;,&quot;parentUUID&quot;:&quot;a6231e22-52b7-4272-8113-324f2f3d2dc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;828f5a65-e355-4adc-9f69-f4cac8e2e486&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;11779da1-55f1-4325-b900-4b131c4db778&quot;,&quot;title&quot;:&quot;unsubscribe workitem subscription&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\unsubscribeWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\unsubscribeWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;unsubscribe workitem subscription\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem unsubscribe workitem subscription \&quot;before all\&quot; hook in \&quot;unsubscribe workitem subscription\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/subscribers/RACCOON`,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da18e762-7c01-4140-a607-4f410aa7a52b&quot;,&quot;parentUUID&quot;:&quot;11779da1-55f1-4325-b900-4b131c4db778&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should unsubscribe workitem subscription&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem unsubscribe workitem subscription Should unsubscribe workitem subscription&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/workitems/${workitemUID}/subscribers/RACCOON`, \n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;077839b7-c618-42aa-bde8-7debaa08f49c&quot;,&quot;parentUUID&quot;:&quot;11779da1-55f1-4325-b900-4b131c4db778&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when global subscription not exist&quot;,&quot;fullTitle&quot;:&quot;UPS-RS unsubscribe workitem unsubscribe workitem subscription Should raise 404 when global subscription not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/workitems/1.2.840.10008.5.1.4.34.5/subscribers/FOOBAR`, \n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b217944-2626-471d-927f-bd853238f917&quot;,&quot;parentUUID&quot;:&quot;11779da1-55f1-4325-b900-4b131c4db778&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;077839b7-c618-42aa-bde8-7debaa08f49c&quot;,&quot;7b217944-2626-471d-927f-bd853238f917&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;aa54c366-725a-4f26-98e0-fc5560dffd05&quot;,&quot;title&quot;:&quot;UPS-RS retrieve workitem&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\UPS-RS\\updateWorkitem.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\UPS-RS\\updateWorkitem.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;UPS-RS retrieve workitem\&quot;&quot;,&quot;fullTitle&quot;:&quot;UPS-RS retrieve workitem \&quot;before all\&quot; hook in \&quot;UPS-RS retrieve workitem\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nlet createWorkitemResponse = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/workitems?workitem=${workitemUID}`,\n    payload: testWorkitem,\n});\ncreatedWorkitemLocation = createWorkitemResponse.headers[\&quot;content-location\&quot;];&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;938621c7-bfdd-4a21-a2fc-e51b0b91f5bc&quot;,&quot;parentUUID&quot;:&quot;aa54c366-725a-4f26-98e0-fc5560dffd05&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should update workitem successfully&quot;,&quot;fullTitle&quot;:&quot;UPS-RS retrieve workitem Should update workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let fetchWorkitemResponse = await inject(app, {\n            method: \&quot;GET\&quot;,\n            url: createdWorkitemLocation\n        });\n        expect(fetchWorkitemResponse.statusCode).to.equal(200);\n        let data = await fetchWorkitemResponse.json();\n        let createdWorkitem = data[0];\n        let updatedWorkItem = {\n            ...createdWorkitem,\n            \&quot;00741002\&quot;: {\n                \&quot;vr\&quot;: \&quot;SQ\&quot;,\n                \&quot;Value\&quot;: [\n                    {\n                        \&quot;00741007\&quot;: {\n                            \&quot;vr\&quot;: \&quot;SQ\&quot;,\n                            \&quot;Value\&quot;: [\n                                {\n                                    \&quot;0040A040\&quot;: {\n                                        \&quot;vr\&quot;: \&quot;CS\&quot;,\n                                        \&quot;Value\&quot;: [\n                                            \&quot;TEXT\&quot;\n                                        ]\n                                    },\n                                    \&quot;0040A160\&quot;: {\n                                        \&quot;vr\&quot;: \&quot;UT\&quot;,\n                                        \&quot;Value\&quot;: [\n                                            \&quot;text value\&quot;\n                                        ]\n                                    }\n                                }\n                            ]\n                        }\n                    }\n                ]\n            }\n        };\n        let updateWorkitemResponse = await inject(app, {\n            method: \&quot;POST\&quot;,\n            url: createdWorkitemLocation,\n            headers: {\n                \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n            },\n            payload: JSON.stringify([updatedWorkItem])\n        });\n        expect(updateWorkitemResponse.statusCode).to.equal(200);\n        let fetchUpdatedWorkitemResponse = await inject(app, {\n            method: \&quot;GET\&quot;,\n            url: createdWorkitemLocation\n        });\n        let updatedWorkitemResponseData = await fetchUpdatedWorkitemResponse.json();\n        let updatedWorkitemFromResponse = updatedWorkitemResponseData[0];\n        expect(updatedWorkitemFromResponse).have.property(\&quot;00741002\&quot;).to.be.deep.equal(updatedWorkItem[\&quot;00741002\&quot;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa987198-bc01-41a0-9003-d59707e82e28&quot;,&quot;parentUUID&quot;:&quot;aa54c366-725a-4f26-98e0-fc5560dffd05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise Bad Request (400) when updating workitem in SCHEDULED state with Transaction UID&quot;,&quot;fullTitle&quot;:&quot;UPS-RS retrieve workitem Should raise Bad Request (400) when updating workitem in SCHEDULED state with Transaction UID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let fetchWorkitemResponse = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: createdWorkitemLocation\n});\nexpect(fetchWorkitemResponse.statusCode).to.equal(200);\nlet data = await fetchWorkitemResponse.json();\nlet createdWorkitem = data[0];\nlet updatedWorkItem = {\n    ...createdWorkitem,\n    \&quot;00081195\&quot;: {\n        \&quot;vr\&quot;: \&quot;UI\&quot;,\n        \&quot;Value\&quot;: [\n            \&quot;1.2.3.4\&quot;\n        ]\n    }\n};\nlet updateWorkitemResponse = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: createdWorkitemLocation,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify([updatedWorkItem])\n});\nexpect(updateWorkitemResponse.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dfda3c2-ddc5-4df7-8b51-e6f1247dbed0&quot;,&quot;parentUUID&quot;:&quot;aa54c366-725a-4f26-98e0-fc5560dffd05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa987198-bc01-41a0-9003-d59707e82e28&quot;,&quot;2dfda3c2-ddc5-4df7-8b51-e6f1247dbed0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;8a44cfa1-4661-4b93-81f9-7133586daf77&quot;,&quot;title&quot;:&quot;retrieve study bulkdata &#x27;/dicom-web/studies/:studyUID/bulkdata&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\bulkdata\\retrieveStudyBulkdata.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\bulkdata\\retrieveStudyBulkdata.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study bulkdata &#x27;/dicom-web/studies/:studyUID/bulkdata&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study bulkdata &#x27;/dicom-web/studies/:studyUID/bulkdata&#x27; \&quot;before all\&quot; hook in \&quot;retrieve study bulkdata &#x27;/dicom-web/studies/:studyUID/bulkdata&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:896,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7291a47-bbd4-4206-a0c3-cf23e44fefb8&quot;,&quot;parentUUID&quot;:&quot;8a44cfa1-4661-4b93-81f9-7133586daf77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study bulkdata &#x27;/dicom-web/studies/:studyUID/bulkdata&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study bulkdata &#x27;/dicom-web/studies/:studyUID/bulkdata&#x27; \&quot;after all\&quot; hook in \&quot;retrieve study bulkdata &#x27;/dicom-web/studies/:studyUID/bulkdata&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ac2dac8-8b47-4639-a5a4-3cb96e2c249c&quot;,&quot;parentUUID&quot;:&quot;8a44cfa1-4661-4b93-81f9-7133586daf77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study bulkdata&quot;,&quot;fullTitle&quot;:&quot;retrieve study bulkdata &#x27;/dicom-web/studies/:studyUID/bulkdata&#x27; Should retrieve study bulkdata&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/bulkdata`,\n});\nexpect(response.statusCode).to.equal(200);\n\nlet data = response.rawPayload;\nlet buffer = multipartDecode(data);\nexpect(buffer).to.be.an(\&quot;array\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83af0dde-1300-4349-a0dc-3bc7b37a3c20&quot;,&quot;parentUUID&quot;:&quot;8a44cfa1-4661-4b93-81f9-7133586daf77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;83af0dde-1300-4349-a0dc-3bc7b37a3c20&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;753228ab-01ea-407d-a39e-06cc7458eb3f&quot;,&quot;title&quot;:&quot;retrieve study-series bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/bulkdata&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\bulkdata\\retrieveStudySeriesBulkdata.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\bulkdata\\retrieveStudySeriesBulkdata.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/bulkdata&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/bulkdata&#x27; \&quot;before all\&quot; hook in \&quot;retrieve study-series bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/bulkdata&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:873,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;caa1bc61-7d34-4f49-872f-84e4edbfed2d&quot;,&quot;parentUUID&quot;:&quot;753228ab-01ea-407d-a39e-06cc7458eb3f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/bulkdata&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/bulkdata&#x27; \&quot;after all\&quot; hook in \&quot;retrieve study-series bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/bulkdata&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1711d195-f8c7-4957-b2bb-2e023e2a687b&quot;,&quot;parentUUID&quot;:&quot;753228ab-01ea-407d-a39e-06cc7458eb3f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series bulkdata&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/bulkdata&#x27; Should retrieve study-series bulkdata&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/bulkdata`,\n});\nexpect(response.statusCode).to.equal(200);\n\nlet data = response.rawPayload;\nlet buffer = multipartDecode(data);\nexpect(buffer).to.be.an(\&quot;array\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ec8ca8f-421f-409d-bf39-6bd6c594712b&quot;,&quot;parentUUID&quot;:&quot;753228ab-01ea-407d-a39e-06cc7458eb3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ec8ca8f-421f-409d-bf39-6bd6c594712b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;01ec40a4-0e6f-426e-9bea-9504e1964466&quot;,&quot;title&quot;:&quot;retrieve study-series-instances bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\bulkdata\\retrieveStudySeriesInstancesBulkdata.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\bulkdata\\retrieveStudySeriesInstancesBulkdata.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series-instances bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata&#x27; \&quot;before all\&quot; hook in \&quot;retrieve study-series-instances bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:897,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c10abdee-69b3-48cf-a277-995da13088d7&quot;,&quot;parentUUID&quot;:&quot;01ec40a4-0e6f-426e-9bea-9504e1964466&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series-instances bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata&#x27; \&quot;after all\&quot; hook in \&quot;retrieve study-series-instances bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9ee1b10-4197-4f88-b110-68c294125211&quot;,&quot;parentUUID&quot;:&quot;01ec40a4-0e6f-426e-9bea-9504e1964466&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series-instances bulkdata&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata&#x27; Should retrieve study-series-instances bulkdata&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/bulkdata`,\n});\nexpect(response.statusCode).to.equal(200);\n\nlet data = response.rawPayload;\nlet buffer = multipartDecode(data);\nexpect(buffer).to.be.an(\&quot;array\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ba9c3e3-3fde-41b3-b362-8781f60a5780&quot;,&quot;parentUUID&quot;:&quot;01ec40a4-0e6f-426e-9bea-9504e1964466&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8ba9c3e3-3fde-41b3-b362-8781f60a5780&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;6d1ab6f8-42f9-422c-a65e-17c8b9d06e42&quot;,&quot;title&quot;:&quot;retrieve study-series-instances specified bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata/:binaryValuePath&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\bulkdata\\retrieveStudySeriesInstancesSpecifiedBulkdata.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\bulkdata\\retrieveStudySeriesInstancesSpecifiedBulkdata.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series-instances specified bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata/:binaryValuePath&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances specified bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata/:binaryValuePath&#x27; \&quot;before all\&quot; hook in \&quot;retrieve study-series-instances specified bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata/:binaryValuePath&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:872,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0e7b643-8376-4164-843c-d8ce0fa89a91&quot;,&quot;parentUUID&quot;:&quot;6d1ab6f8-42f9-422c-a65e-17c8b9d06e42&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series-instances specified bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata/:binaryValuePath&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances specified bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata/:binaryValuePath&#x27; \&quot;after all\&quot; hook in \&quot;retrieve study-series-instances specified bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata/:binaryValuePath&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6233882a-49c6-4c21-a9ff-8f3f7fb519fe&quot;,&quot;parentUUID&quot;:&quot;6d1ab6f8-42f9-422c-a65e-17c8b9d06e42&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series-instances bulkdata&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances specified bulkdata &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/bulkdata/:binaryValuePath&#x27; Should retrieve study-series-instances bulkdata&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/bulkdata/${binaryValuePath}`,\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nlet buffer = multipartDecode(data);\nexpect(buffer).to.be.an(\&quot;array\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;806282f7-2c5a-4c95-800e-c2ec00c0f353&quot;,&quot;parentUUID&quot;:&quot;6d1ab6f8-42f9-422c-a65e-17c8b9d06e42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;806282f7-2c5a-4c95-800e-c2ec00c0f353&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;db1544e1-9b3c-498f-9446-c15747367992&quot;,&quot;title&quot;:&quot;retrieve study metadata&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\metadata\\retrieveStudyMetadata.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\metadata\\retrieveStudyMetadata.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study metadata\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study metadata \&quot;before all\&quot; hook in \&quot;retrieve study metadata\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:874,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30fd940c-8e83-4717-903e-a66420293a23&quot;,&quot;parentUUID&quot;:&quot;db1544e1-9b3c-498f-9446-c15747367992&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study with 14 instances&#x27; metadata&quot;,&quot;fullTitle&quot;:&quot;retrieve study metadata Should retrieve study with 14 instances&#x27; metadata&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/metadata`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(14);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7af181a-21ab-46bd-97bc-7083c636203b&quot;,&quot;parentUUID&quot;:&quot;db1544e1-9b3c-498f-9446-c15747367992&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 204 when study not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve study metadata Should raise 204 when study not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}1268/metadata`,\n});\nexpect(response.statusCode).to.equal(204);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d036d97b-2061-40ea-af2f-15a99064c15b&quot;,&quot;parentUUID&quot;:&quot;db1544e1-9b3c-498f-9446-c15747367992&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c7af181a-21ab-46bd-97bc-7083c636203b&quot;,&quot;d036d97b-2061-40ea-af2f-15a99064c15b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a8582481-92d1-4898-9824-aba0dc06cc0d&quot;,&quot;title&quot;:&quot;retrieve study-series metadata&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\metadata\\retrieveStudySeriesInstancesMetadata.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\metadata\\retrieveStudySeriesInstancesMetadata.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series metadata\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series metadata \&quot;before all\&quot; hook in \&quot;retrieve study-series metadata\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1370,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b64e031-a866-4325-aa57-570c7e2b6afe&quot;,&quot;parentUUID&quot;:&quot;a8582481-92d1-4898-9824-aba0dc06cc0d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series-instances with 1 instance&#x27;s metadata&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series metadata Should retrieve study-series-instances with 1 instance&#x27;s metadata&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/metadata`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b250f711-802e-4e4b-b257-a7a75f95aad9&quot;,&quot;parentUUID&quot;:&quot;a8582481-92d1-4898-9824-aba0dc06cc0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 204 when study-series not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series metadata Should raise 204 when study-series not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}1268/metadata`,\n});\nexpect(response.statusCode).to.equal(204);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2beff3a-e722-4e7b-a820-6002b439bc52&quot;,&quot;parentUUID&quot;:&quot;a8582481-92d1-4898-9824-aba0dc06cc0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b250f711-802e-4e4b-b257-a7a75f95aad9&quot;,&quot;c2beff3a-e722-4e7b-a820-6002b439bc52&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;807e50fb-55af-4769-abef-1dabb70381ea&quot;,&quot;title&quot;:&quot;retrieve study-series metadata&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\metadata\\retrieveStudySeriesMetadata.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\metadata\\retrieveStudySeriesMetadata.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series metadata\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series metadata \&quot;before all\&quot; hook in \&quot;retrieve study-series metadata\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:870,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f27bbcf1-8b10-425e-a60d-1f7d47c500eb&quot;,&quot;parentUUID&quot;:&quot;807e50fb-55af-4769-abef-1dabb70381ea&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series with 5 instances&#x27; metadata&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series metadata Should retrieve study-series with 5 instances&#x27; metadata&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/metadata`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.be.an(\&quot;array\&quot;).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1721487d-56c5-4ac4-a7f2-afe9af4c4150&quot;,&quot;parentUUID&quot;:&quot;807e50fb-55af-4769-abef-1dabb70381ea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 204 when study-series not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series metadata Should raise 204 when study-series not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}126888/metadata`,\n});\nexpect(response.statusCode).to.equal(204);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29a66557-96ab-4e9d-ac21-29afe3142b8e&quot;,&quot;parentUUID&quot;:&quot;807e50fb-55af-4769-abef-1dabb70381ea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1721487d-56c5-4ac4-a7f2-afe9af4c4150&quot;,&quot;29a66557-96ab-4e9d-ac21-29afe3142b8e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;74ec82fd-c3a3-41cf-808d-c8f10f3f9da3&quot;,&quot;title&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudy.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27; \&quot;before all\&quot; hook in \&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:863,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8e63d4f-171d-4cdd-ac58-5ce51ebf74ca&quot;,&quot;parentUUID&quot;:&quot;74ec82fd-c3a3-41cf-808d-c8f10f3f9da3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27; \&quot;after all\&quot; hook in \&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4d75037-a22b-4149-8911-b4877acdf998&quot;,&quot;parentUUID&quot;:&quot;74ec82fd-c3a3-41cf-808d-c8f10f3f9da3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study with 15 rendered images&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27; Should retrieve study with 15 rendered images&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:513,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/rendered`,\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nconst instanceBuffers = multipartDecode(data);\nexpect(instanceBuffers.length).to.equal(15);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ecf337a-43f2-4e45-85d0-fd5be629e977&quot;,&quot;parentUUID&quot;:&quot;74ec82fd-c3a3-41cf-808d-c8f10f3f9da3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when study not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27; Should raise 404 when study not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}1268/rendered`,\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2e48279-5ce1-49a5-a68c-1e58996e137e&quot;,&quot;parentUUID&quot;:&quot;74ec82fd-c3a3-41cf-808d-c8f10f3f9da3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 206 when study only have partial images&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27; Should raise 206 when study only have partial images&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:81,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let studyImagePathFactory = new StudyImagePathFactory({ studyUID: studyUIDs[2]});\nlet imagePaths = await studyImagePathFactory.getImagePaths();\nlet firstImagePath = imagePaths[0];\nawait unlink(firstImagePath.instancePath);\nlet response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${studyUIDs[2]}/rendered`\n});\nexpect(response.statusCode).to.equal(206);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7112a3ea-27c9-4b26-88d6-885ead07d10b&quot;,&quot;parentUUID&quot;:&quot;74ec82fd-c3a3-41cf-808d-c8f10f3f9da3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 410 when study gone&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/rendered&#x27; Should raise 410 when study gone&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let studyImagePathFactory = new StudyImagePathFactory({ studyUID: STUDY_UID});\nlet imagePaths = await studyImagePathFactory.getImagePaths();\nlet firstImagePath = imagePaths[0];\nawait unlink(firstImagePath.instancePath);\nlet response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/rendered`\n});\nexpect(response.statusCode).to.equal(410);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd921442-f3df-4759-a94c-4796e6363274&quot;,&quot;parentUUID&quot;:&quot;74ec82fd-c3a3-41cf-808d-c8f10f3f9da3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ecf337a-43f2-4e45-85d0-fd5be629e977&quot;,&quot;f2e48279-5ce1-49a5-a68c-1e58996e137e&quot;,&quot;7112a3ea-27c9-4b26-88d6-885ead07d10b&quot;,&quot;cd921442-f3df-4759-a94c-4796e6363274&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:598,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;247fe9b3-8a90-4403-b804-5ca2cbb35cbe&quot;,&quot;title&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/rendered&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/rendered&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/rendered&#x27; \&quot;before all\&quot; hook in \&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/rendered&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:860,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3155bc25-f0db-4a8a-be01-3d4868fa7bc1&quot;,&quot;parentUUID&quot;:&quot;247fe9b3-8a90-4403-b804-5ca2cbb35cbe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/rendered&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/rendered&#x27; \&quot;after all\&quot; hook in \&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/rendered&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d735f24-5d44-4f45-97c0-0463c522e155&quot;,&quot;parentUUID&quot;:&quot;247fe9b3-8a90-4403-b804-5ca2cbb35cbe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series with 15 rendered images&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/rendered&#x27; Should retrieve study-series with 15 rendered images&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:505,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/rendered`,\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nconst instanceBuffers = multipartDecode(data);\nexpect(instanceBuffers.length).to.equal(15);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46cfc089-ad34-484a-af10-fe0ad3cfc7cc&quot;,&quot;parentUUID&quot;:&quot;247fe9b3-8a90-4403-b804-5ca2cbb35cbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;46cfc089-ad34-484a-af10-fe0ad3cfc7cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:505,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;f237e078-cc3a-497f-a9ac-c6513789002f&quot;,&quot;title&quot;:&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudySeriesInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudySeriesInstances.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27; \&quot;before all\&quot; hook in \&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:844,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d107deb-c031-42e1-b211-65e4e5d959b2&quot;,&quot;parentUUID&quot;:&quot;f237e078-cc3a-497f-a9ac-c6513789002f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27; \&quot;after all\&quot; hook in \&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8edf51ce-7e44-4ad6-a22a-1efe57ab3f92&quot;,&quot;parentUUID&quot;:&quot;f237e078-cc3a-497f-a9ac-c6513789002f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series-instances with 15 rendered images&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27; Should retrieve study-series-instances with 15 rendered images&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:495,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/rendered`,\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nconst instanceBuffers = multipartDecode(data);\nexpect(instanceBuffers.length).to.equal(15);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93e97708-fb57-43f7-99bd-0d754e95d7a2&quot;,&quot;parentUUID&quot;:&quot;f237e078-cc3a-497f-a9ac-c6513789002f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when using invalid accept header&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/rendered&#x27; Should raise 400 (Bad Request) when using invalid accept header&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/rendered`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;text/html\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db388590-fa3c-4d2d-9747-f2f8213209a7&quot;,&quot;parentUUID&quot;:&quot;f237e078-cc3a-497f-a9ac-c6513789002f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;93e97708-fb57-43f7-99bd-0d754e95d7a2&quot;,&quot;db388590-fa3c-4d2d-9747-f2f8213209a7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:496,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;title&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudySeriesInstancesFrames.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudySeriesInstancesFrames.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; \&quot;before all\&quot; hook in \&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:873,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c547bfc-34b1-44be-a22c-78143c9c9a3a&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; \&quot;after all\&quot; hook in \&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35a20a10-670d-4091-b082-65801113dc21&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve 1 frame&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve 1 frame&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac3bac9a-0ddc-47c5-abb6-d75a1fa5c061&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve 3 frames&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve 3 frames&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1,2,3/rendered`,\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nconst instanceBuffers = multipartDecode(data);\nexpect(instanceBuffers.length).to.equal(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c06f960-2027-4434-bae9-11022af2a689&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with quality=30&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with quality=30&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:230,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e67a2a1c-2595-4669-93dd-1f6389ce1310&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with iccprofile=no&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with iccprofile=no&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:40,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bb42c5d-65e1-4790-b768-93ba371f2a1a&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with iccprofile=yes&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with iccprofile=yes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:75,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52adfa81-1508-422b-8877-7f25731145fe&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with iccprofile=srgb&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with iccprofile=srgb&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ead1b15a-19e4-4177-8775-975b09a63fc7&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with iccprofile=adobergb&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with iccprofile=adobergb&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0098c06c-097b-4b50-b9ed-a5f74fd706ab&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with iccprofile=rommrgb&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with iccprofile=rommrgb&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:77,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f27cc58-2488-4aea-bf0d-303db4081351&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with viewport=100,100&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with viewport=100,100&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22b49e7f-5afe-486b-a050-7c314bda4c29&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with viewport=100,100,0,0,10,10&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with viewport=100,100,0,0,10,10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ae6b04a-a16d-4a0b-9cac-18371d3bb3b1&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve frame with viewport=100,100,10,10,-50,-50&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should retrieve frame with viewport=100,100,10,10,-50,-50&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c5ee77f-fe5b-4e13-9e23-202d853def38&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise BadRequest (400) error when retrieving frame with bad quality=-1&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should raise BadRequest (400) error when retrieving frame with bad quality=-1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6520ffd-fd3c-4768-8b5b-a72b1c206969&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise BadRequest (400) error when retrieving frame with bad iccprofile=foobar&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should raise BadRequest (400) error when retrieving frame with bad iccprofile=foobar&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2f1996f-248f-4854-aae1-6e0f8b9f74fd&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise BadRequest (400) error when retrieving frame with bad viewport=1,1,,1&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should raise BadRequest (400) error when retrieving frame with bad viewport=1,1,,1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6750eae-6178-4a77-a300-290d826a1248&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise BadRequest (400) error when retrieving frame with bad viewport=1,1,1,&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should raise BadRequest (400) error when retrieving frame with bad viewport=1,1,1,&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/rendered?${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bf0aa00-3ffe-4458-bfd0-b7ada2bb01da&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should throw error when retrieve frame without iccprofile and apply the icc profile&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should throw error when retrieve frame without iccprofile and apply the icc profile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${NO_ICC_PROFILE_STUDY_UID}/series/${NO_ICC_PROFILE_SERIES_UID}/instances/${NO_ICC_PROFILE_INSTANCE_UID}/frames/1/rendered?iccprofile=yes`,\n});\nexpect(response.statusCode).to.equal(500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac8343c4-73ea-49de-96b0-719c73f18412&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when study not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should raise 404 when study not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}2486/frames/1/rendered`,\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59e70d87-8f69-46d3-87c4-5af4cb8e9a2e&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 when frame is out of range&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; Should raise 400 when frame is out of range&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/2486/rendered`,\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82371707-9a41-4d2a-b245-e612abc91db9&quot;,&quot;parentUUID&quot;:&quot;8368a828-e2b6-4dce-9d00-0b49aca57a2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ba58439c-8325-4ff8-966a-3a9caab1969b&quot;,&quot;title&quot;:&quot;retrieve rendered frame without pixel data&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudySeriesInstancesFrames.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\rendered\\retrieveRenderedStudySeriesInstancesFrames.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve rendered frame without pixel data\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; retrieve rendered frame without pixel data \&quot;before all\&quot; hook in \&quot;retrieve rendered frame without pixel data\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await storeInstanceForTest(\n    resolve(\n        __dirname,\n        `../../../../testData/forStore/ANN/instance_6.dcm`\n    )\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dea3881b-b378-4aa2-ba7a-df60d872e210&quot;,&quot;parentUUID&quot;:&quot;ba58439c-8325-4ff8-966a-3a9caab1969b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise 400 when frame have no pixel data&quot;,&quot;fullTitle&quot;:&quot;retrieve rendered frames of study-series-instances &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/rendered&#x27; retrieve rendered frame without pixel data Should raise 400 when frame have no pixel data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${ANN_STUDY_UID}/series/${ANN_SERIES_UID}/instances/${ANN_INSTANCE_UID}/frames/1/rendered`,\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f435331-b554-402b-858e-97347053f374&quot;,&quot;parentUUID&quot;:&quot;ba58439c-8325-4ff8-966a-3a9caab1969b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4f435331-b554-402b-858e-97347053f374&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;ac3bac9a-0ddc-47c5-abb6-d75a1fa5c061&quot;,&quot;5c06f960-2027-4434-bae9-11022af2a689&quot;,&quot;e67a2a1c-2595-4669-93dd-1f6389ce1310&quot;,&quot;3bb42c5d-65e1-4790-b768-93ba371f2a1a&quot;,&quot;52adfa81-1508-422b-8877-7f25731145fe&quot;,&quot;ead1b15a-19e4-4177-8775-975b09a63fc7&quot;,&quot;0098c06c-097b-4b50-b9ed-a5f74fd706ab&quot;,&quot;8f27cc58-2488-4aea-bf0d-303db4081351&quot;,&quot;22b49e7f-5afe-486b-a050-7c314bda4c29&quot;,&quot;0ae6b04a-a16d-4a0b-9cac-18371d3bb3b1&quot;,&quot;0c5ee77f-fe5b-4e13-9e23-202d853def38&quot;,&quot;d6520ffd-fd3c-4768-8b5b-a72b1c206969&quot;,&quot;e2f1996f-248f-4854-aae1-6e0f8b9f74fd&quot;,&quot;f6750eae-6178-4a77-a300-290d826a1248&quot;,&quot;3bf0aa00-3ffe-4458-bfd0-b7ada2bb01da&quot;,&quot;ac8343c4-73ea-49de-96b0-719c73f18412&quot;,&quot;59e70d87-8f69-46d3-87c4-5af4cb8e9a2e&quot;,&quot;82371707-9a41-4d2a-b245-e612abc91db9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1292,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;5a2ede7f-2e4e-4958-a6c6-e8c21d193e0a&quot;,&quot;title&quot;:&quot;retrieve study&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\retrieveStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\retrieveStudy.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study \&quot;before all\&quot; hook in \&quot;retrieve study\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:891,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bf1399a-9e77-44d4-b0c8-56f95d1cb0a1&quot;,&quot;parentUUID&quot;:&quot;5a2ede7f-2e4e-4958-a6c6-e8c21d193e0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study \&quot;after all\&quot; hook in \&quot;retrieve study\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;unlink(zipFullPath);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d0790a7-d697-4442-ba7b-fb5bf83fc5c8&quot;,&quot;parentUUID&quot;:&quot;5a2ede7f-2e4e-4958-a6c6-e8c21d193e0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study with 14 instances&quot;,&quot;fullTitle&quot;:&quot;retrieve study Should retrieve study with 14 instances&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;multipart/related; type=\\\&quot;application/dicom\\\&quot;\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nconst instanceBuffers = multipartDecode(data);\nexpect(instanceBuffers.length).to.equal(14);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f158cce8-9a66-4065-9ff3-4313d60e7c09&quot;,&quot;parentUUID&quot;:&quot;5a2ede7f-2e4e-4958-a6c6-e8c21d193e0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve study with 14 instances with ZIP&quot;,&quot;fullTitle&quot;:&quot;retrieve study Should retrieve study with 14 instances with ZIP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:109,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;application/zip\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nawait writeFile(zipFullPath, data);\nlet fileListInZip = await SevenZip.list(zipFullPath);\nexpect(fileListInZip).to.be.an(\&quot;array\&quot;);\nexpect(fileListInZip.length).to.equal(14);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07e94782-974f-4c23-b1d2-d85b5cbd31e6&quot;,&quot;parentUUID&quot;:&quot;5a2ede7f-2e4e-4958-a6c6-e8c21d193e0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when study not exist with zip route&quot;,&quot;fullTitle&quot;:&quot;retrieve study Should raise 404 when study not exist with zip route&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}1268`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;application/zip\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52e0db39-679e-41de-97a0-2cebd4fe7d6f&quot;,&quot;parentUUID&quot;:&quot;5a2ede7f-2e4e-4958-a6c6-e8c21d193e0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve study with 14 instances with accept &#x27;*&#x27;&quot;,&quot;fullTitle&quot;:&quot;retrieve study Should retrieve study with 14 instances with accept &#x27;*&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;*\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nconst instanceBuffers = multipartDecode(data);\nexpect(instanceBuffers.length).to.equal(14);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49928573-9b29-4dea-b8cd-e8fd60c8f924&quot;,&quot;parentUUID&quot;:&quot;5a2ede7f-2e4e-4958-a6c6-e8c21d193e0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise not supported type&quot;,&quot;fullTitle&quot;:&quot;retrieve study Should raise not supported type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;multipart/related; type=\\\&quot;not-application/dicom\\\&quot;\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(406);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbe6e490-3272-47a2-8d6a-d40bedc816a5&quot;,&quot;parentUUID&quot;:&quot;5a2ede7f-2e4e-4958-a6c6-e8c21d193e0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f158cce8-9a66-4065-9ff3-4313d60e7c09&quot;,&quot;07e94782-974f-4c23-b1d2-d85b5cbd31e6&quot;,&quot;52e0db39-679e-41de-97a0-2cebd4fe7d6f&quot;,&quot;49928573-9b29-4dea-b8cd-e8fd60c8f924&quot;,&quot;cbe6e490-3272-47a2-8d6a-d40bedc816a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:187,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;e61a52d2-b3ef-4a9e-af64-d2977fa9682e&quot;,&quot;title&quot;:&quot;retrieve study-series&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\retrieveStudySeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\retrieveStudySeries.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series \&quot;before all\&quot; hook in \&quot;retrieve study-series\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1526,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6200366-8a20-4481-a3f6-8d3bb71e8177&quot;,&quot;parentUUID&quot;:&quot;e61a52d2-b3ef-4a9e-af64-d2977fa9682e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series \&quot;after all\&quot; hook in \&quot;retrieve study-series\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;unlink(zipFullPath);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63407c95-0118-4b3b-98ac-e7397f8b38fe&quot;,&quot;parentUUID&quot;:&quot;e61a52d2-b3ef-4a9e-af64-d2977fa9682e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series with 5 instances&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series Should retrieve study-series with 5 instances&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;multipart/related; type=\\\&quot;application/dicom\\\&quot;\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nconst instanceBuffers = multipartDecode(data);\nexpect(instanceBuffers.length).to.equal(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35e067c4-a9fc-4ac1-850e-69f1620a9102&quot;,&quot;parentUUID&quot;:&quot;e61a52d2-b3ef-4a9e-af64-d2977fa9682e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve study-series with 5 instances with ZIP&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series Should retrieve study-series with 5 instances with ZIP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:70,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;application/zip\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nawait writeFile(zipFullPath, data);\nlet fileListInZip = await SevenZip.list(zipFullPath);\nexpect(fileListInZip).to.be.an(\&quot;array\&quot;);\nexpect(fileListInZip.length).to.equal(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbbdf6a7-0a9f-4502-9726-ce305e3624ec&quot;,&quot;parentUUID&quot;:&quot;e61a52d2-b3ef-4a9e-af64-d2977fa9682e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;35e067c4-a9fc-4ac1-850e-69f1620a9102&quot;,&quot;cbbdf6a7-0a9f-4502-9726-ce305e3624ec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:87,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;4bb13920-5b95-4a7c-9c9a-5dca56ee6aea&quot;,&quot;title&quot;:&quot;retrieve study-series-instances&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\retrieveStudySeriesInstances.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\retrieveStudySeriesInstances.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series-instances\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances \&quot;before all\&quot; hook in \&quot;retrieve study-series-instances\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:875,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88127016-73e8-485b-b14b-15ab9a18c3fd&quot;,&quot;parentUUID&quot;:&quot;4bb13920-5b95-4a7c-9c9a-5dca56ee6aea&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series-instances\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances \&quot;after all\&quot; hook in \&quot;retrieve study-series-instances\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;unlink(zipFullPath);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cbbf6c6-66f1-4117-91a4-3aabd4aaa530&quot;,&quot;parentUUID&quot;:&quot;4bb13920-5b95-4a7c-9c9a-5dca56ee6aea&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series-instances with 1 instance&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances Should retrieve study-series-instances with 1 instance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;multipart/related; type=\\\&quot;application/dicom\\\&quot;\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nconst instanceBuffers = multipartDecode(data);\nexpect(instanceBuffers.length).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d0d915a-41f1-4542-b139-9b1747704256&quot;,&quot;parentUUID&quot;:&quot;4bb13920-5b95-4a7c-9c9a-5dca56ee6aea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve study-series-instances with 1 instance with ZIP&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances Should retrieve study-series-instances with 1 instance with ZIP&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;application/zip\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nawait writeFile(zipFullPath, data);\nlet fileListInZip = await SevenZip.list(zipFullPath);\nexpect(fileListInZip).to.be.an(\&quot;array\&quot;);\nexpect(fileListInZip.length).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0da4fa44-10da-4f1d-b796-5036b43b9be0&quot;,&quot;parentUUID&quot;:&quot;4bb13920-5b95-4a7c-9c9a-5dca56ee6aea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2d0d915a-41f1-4542-b139-9b1747704256&quot;,&quot;0da4fa44-10da-4f1d-b796-5036b43b9be0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:73,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;b18e6d17-7c53-4153-8107-7c736f12a574&quot;,&quot;title&quot;:&quot;retrieve study with transfer syntax&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\retrieveStudyWithTransferSyntax.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\retrieveStudyWithTransferSyntax.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study with transfer syntax\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study with transfer syntax \&quot;before all\&quot; hook in \&quot;retrieve study with transfer syntax\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:872,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07be7382-d199-49d1-918c-b21da9a5f63c&quot;,&quot;parentUUID&quot;:&quot;b18e6d17-7c53-4153-8107-7c736f12a574&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study with transfer syntax\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study with transfer syntax \&quot;after all\&quot; hook in \&quot;retrieve study with transfer syntax\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;unlink(zipFullPath);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfc81046-0b2e-42cc-b017-7d2ef99f73b6&quot;,&quot;parentUUID&quot;:&quot;b18e6d17-7c53-4153-8107-7c736f12a574&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study with 1 instance with ZIP and transcode with transfer syntax&quot;,&quot;fullTitle&quot;:&quot;retrieve study with transfer syntax Should retrieve study with 1 instance with ZIP and transcode with transfer syntax&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:417,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID_FOR_TRANSFER_SYNTAX}`,\n    headers: {\n        \&quot;accept\&quot;: \&quot;application/zip; transfer-syntax=1.2.840.10008.1.2.4.50\&quot; // JPEG Baseline\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet data = response.rawPayload;\nawait writeFile(zipFullPath, data);\nlet fileListInZip = await SevenZip.list(zipFullPath);\nexpect(fileListInZip).to.be.an(\&quot;array\&quot;);\nexpect(fileListInZip.length).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d259ef4-8db5-406b-8421-1ee3ed3b9a7f&quot;,&quot;parentUUID&quot;:&quot;b18e6d17-7c53-4153-8107-7c736f12a574&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d259ef4-8db5-406b-8421-1ee3ed3b9a7f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:417,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3db68788-2c27-4714-9e23-7ef7d242b65c&quot;,&quot;title&quot;:&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\thumbnail\\retrieveStudySeriesInstancesFrameThumbnail.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\thumbnail\\retrieveStudySeriesInstancesFrameThumbnail.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27; \&quot;before all\&quot; hook in \&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:873,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebac1791-eecb-4b54-854b-63d82601bf5b&quot;,&quot;parentUUID&quot;:&quot;3db68788-2c27-4714-9e23-7ef7d242b65c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27; \&quot;after all\&quot; hook in \&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1ec072b-2b21-4513-834e-ad49dd2c72f5&quot;,&quot;parentUUID&quot;:&quot;3db68788-2c27-4714-9e23-7ef7d242b65c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series-instances-frame thumbnail&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27; Should retrieve study-series-instances-frame thumbnail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/1/thumbnail`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5026bfa8-35f2-4b49-8421-a2dd43808b34&quot;,&quot;parentUUID&quot;:&quot;3db68788-2c27-4714-9e23-7ef7d242b65c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 500 when using bad frame number&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27; Should raise 500 when using bad frame number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/frames/2486/thumbnail`,\n});\nexpect(response.statusCode).to.equal(500);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5abb03b4-02f3-4d40-9e3c-87fe95622ca4&quot;,&quot;parentUUID&quot;:&quot;3db68788-2c27-4714-9e23-7ef7d242b65c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when image not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances-frame thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/frames/:frameNumber/thumbnail&#x27; Should raise 404 when image not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}2486/frames/1/thumbnail`,\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6747733-8682-490b-9396-fc6b1709cab2&quot;,&quot;parentUUID&quot;:&quot;3db68788-2c27-4714-9e23-7ef7d242b65c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5026bfa8-35f2-4b49-8421-a2dd43808b34&quot;,&quot;5abb03b4-02f3-4d40-9e3c-87fe95622ca4&quot;,&quot;b6747733-8682-490b-9396-fc6b1709cab2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:76,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;317c26a0-b7f8-4f22-bed8-9cdd807be611&quot;,&quot;title&quot;:&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\thumbnail\\retrieveStudySeriesInstancesThumbnail.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\thumbnail\\retrieveStudySeriesInstancesThumbnail.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27; \&quot;before all\&quot; hook in \&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:912,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55a02ef5-c50a-487a-bec3-b19d9beb663f&quot;,&quot;parentUUID&quot;:&quot;317c26a0-b7f8-4f22-bed8-9cdd807be611&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27; \&quot;after all\&quot; hook in \&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7e1ceca-e270-4855-8e91-86fb2c0b0cb4&quot;,&quot;parentUUID&quot;:&quot;317c26a0-b7f8-4f22-bed8-9cdd807be611&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series-instances thumbnail&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27; Should retrieve study-series-instances thumbnail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}/thumbnail`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61c650a0-0fd4-4bdf-a5b1-9e17bb601a50&quot;,&quot;parentUUID&quot;:&quot;317c26a0-b7f8-4f22-bed8-9cdd807be611&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when study-series-instances not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/instances/:instanceUID/thumbnail&#x27; Should raise 404 when study-series-instances not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/instances/${INSTANCE_UID}2486/thumbnail`,\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea8ba055-0ca3-4a6e-adfd-938f3269b99c&quot;,&quot;parentUUID&quot;:&quot;317c26a0-b7f8-4f22-bed8-9cdd807be611&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;61c650a0-0fd4-4bdf-a5b1-9e17bb601a50&quot;,&quot;ea8ba055-0ca3-4a6e-adfd-938f3269b99c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:56,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;b4d052c3-43b8-4ca1-ab21-0375408aab91&quot;,&quot;title&quot;:&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\thumbnail\\retrieveStudySeriesThumbnail.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\thumbnail\\retrieveStudySeriesThumbnail.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27; \&quot;before all\&quot; hook in \&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:853,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f1d7035-9881-4309-aa02-6562750ddc5a&quot;,&quot;parentUUID&quot;:&quot;b4d052c3-43b8-4ca1-ab21-0375408aab91&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27; \&quot;after all\&quot; hook in \&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9027e605-e2f1-4f39-aa4d-943be9660956&quot;,&quot;parentUUID&quot;:&quot;b4d052c3-43b8-4ca1-ab21-0375408aab91&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study-series thumbnail&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27; Should retrieve study-series thumbnail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:49,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}/thumbnail`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34d86bb4-8b03-4e9a-b59d-13cf1cbd2a9d&quot;,&quot;parentUUID&quot;:&quot;b4d052c3-43b8-4ca1-ab21-0375408aab91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when study-series not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series thumbnail &#x27;/dicom-web/studies/:studyUID/series/:seriesUID/thumbnail&#x27; Should raise 404 when study-series not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/series/${SERIES_UID}2486/thumbnail`,\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa8a1b8f-1416-422b-9c8e-0e7ff4c25527&quot;,&quot;parentUUID&quot;:&quot;b4d052c3-43b8-4ca1-ab21-0375408aab91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;34d86bb4-8b03-4e9a-b59d-13cf1cbd2a9d&quot;,&quot;aa8a1b8f-1416-422b-9c8e-0e7ff4c25527&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:51,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;cb8a933d-9bd8-4c09-aa91-413cef804647&quot;,&quot;title&quot;:&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-RS\\thumbnail\\retrieveStudyThumbnail.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-RS\\thumbnail\\retrieveStudyThumbnail.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27; \&quot;before all\&quot; hook in \&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:862,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c087e743-0d3d-48a8-bc17-17095e4e44ca&quot;,&quot;parentUUID&quot;:&quot;cb8a933d-9bd8-4c09-aa91-413cef804647&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27; \&quot;after all\&quot; hook in \&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1adfad8-58cb-4534-9561-73343042d100&quot;,&quot;parentUUID&quot;:&quot;cb8a933d-9bd8-4c09-aa91-413cef804647&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve study thumbnail&quot;,&quot;fullTitle&quot;:&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27; Should retrieve study thumbnail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:40,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/thumbnail`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6694c2da-22f5-46f3-bab1-2c046281fc33&quot;,&quot;parentUUID&quot;:&quot;cb8a933d-9bd8-4c09-aa91-413cef804647&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 when study not exist&quot;,&quot;fullTitle&quot;:&quot;retrieve study thumbnail &#x27;/dicom-web/studies/:studyUID/thumbnail&#x27; Should raise 404 when study not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}1268/thumbnail`,\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef9157db-88f5-432f-a1a6-62635cb34a95&quot;,&quot;parentUUID&quot;:&quot;cb8a933d-9bd8-4c09-aa91-413cef804647&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6694c2da-22f5-46f3-bab1-2c046281fc33&quot;,&quot;ef9157db-88f5-432f-a1a6-62635cb34a95&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:42,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;title&quot;:&quot;retrieve study-series-instances using WADO-URI&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-URI\\retrieveInstanceWadoUri.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-URI\\retrieveInstanceWadoUri.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;retrieve study-series-instances using WADO-URI\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI \&quot;before all\&quot; hook in \&quot;retrieve study-series-instances using WADO-URI\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:871,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99a92a06-58df-45ca-92ef-706ebd6ffb21&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;retrieve study-series-instances using WADO-URI\&quot;&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI \&quot;after all\&quot; hook in \&quot;retrieve study-series-instances using WADO-URI\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f452d309-ce45-4cff-a855-a68fba7bed98&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve DICOM instance&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI Should retrieve DICOM instance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;contentType=application/dicom`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;734669ae-e5d8-4646-af1c-ce96a1cf746c&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve DICOM instance in JPEG&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI Should retrieve DICOM instance in JPEG&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;contentType=image/jpeg`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4907041c-11b0-412d-a6eb-d570660d45c9&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve DICOM instance with frameNumber=1&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI Should retrieve DICOM instance with frameNumber=1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32c36d04-af6c-4664-b98d-e850a503384b&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve DICOM instance with imageQuality=50&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI Should retrieve DICOM instance with imageQuality=50&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:75,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c02ecc66-1719-493c-beab-accd95081a10&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve DICOM instance with region=0.1,0.1,1,1&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI Should retrieve DICOM instance with region=0.1,0.1,1,1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:80,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72e86f90-c2f7-4a9f-bff7-093d488ac9d9&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve DICOM instance with rows=500&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI Should retrieve DICOM instance with rows=500&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:84,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;033298d4-2686-471a-83fe-0ec1dbe8cedb&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve DICOM instance with columns=500&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI Should retrieve DICOM instance with columns=500&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:80,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e744015d-5041-4260-b067-3f4782fde511&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should retrieve DICOM instance with iccprofile=yes&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI Should retrieve DICOM instance with iccprofile=yes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;${param}=${value}`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;641b7f5d-1cc3-44b9-82e3-f2ba789036ae&quot;,&quot;parentUUID&quot;:&quot;8490cc54-5f39-4690-b64b-295d5a7edf69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;71e1c1e3-f02a-47d4-8ec3-852df599ebc5&quot;,&quot;title&quot;:&quot;windowing&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-URI\\retrieveInstanceWadoUri.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-URI\\retrieveInstanceWadoUri.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should retrieve instance with param windowing&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI windowing Should retrieve instance with param windowing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;windowCenter=100&amp;windowWidth=200`,\n});\nexpect(response.statusCode).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec61615c-c8ed-42bc-a626-eb1e7ac70c98&quot;,&quot;parentUUID&quot;:&quot;71e1c1e3-f02a-47d4-8ec3-852df599ebc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 when missing windowCenter&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI windowing Should raise 400 when missing windowCenter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;windowWidth=200`,\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ff6c63c-d7ee-46c1-990a-c6ff23ce1cde&quot;,&quot;parentUUID&quot;:&quot;71e1c1e3-f02a-47d4-8ec3-852df599ebc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 when missing windowWidth&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI windowing Should raise 400 when missing windowWidth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;windowCenter=200`,\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63b54b67-762f-4cf1-9ffc-f4a7696a0a07&quot;,&quot;parentUUID&quot;:&quot;71e1c1e3-f02a-47d4-8ec3-852df599ebc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ec61615c-c8ed-42bc-a626-eb1e7ac70c98&quot;,&quot;5ff6c63c-d7ee-46c1-990a-c6ff23ce1cde&quot;,&quot;63b54b67-762f-4cf1-9ffc-f4a7696a0a07&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:46,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3c6b76bb-69d7-43f4-b70f-7b7e5bdcfee1&quot;,&quot;title&quot;:&quot;param &#x27;region&#x27; error cases&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\dicom-web\\WADO-URI\\retrieveInstanceWadoUri.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\dicom-web\\WADO-URI\\retrieveInstanceWadoUri.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when region is not have complete values&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI param &#x27;region&#x27; error cases Should raise 400 (Bad Request) when region is not have complete values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;region=0.1,0.1,1`,\n});\n    \nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fe9e9c9-6e15-4987-b80d-a24eafaa8a66&quot;,&quot;parentUUID&quot;:&quot;3c6b76bb-69d7-43f4-b70f-7b7e5bdcfee1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when region is not between 0 and 1&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI param &#x27;region&#x27; error cases Should raise 400 (Bad Request) when region is not between 0 and 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;region=0.1,0.1,1,100`,\n});\n    \nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;516b2219-bf5f-4bde-b511-070feadf2932&quot;,&quot;parentUUID&quot;:&quot;3c6b76bb-69d7-43f4-b70f-7b7e5bdcfee1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when xMin &gt; xMax&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI param &#x27;region&#x27; error cases Should raise 400 (Bad Request) when xMin &gt; xMax&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;region=1,0.1,0.5,1`,\n});\n    \nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed2201e7-4b15-4e3e-861e-0bc1067ddd66&quot;,&quot;parentUUID&quot;:&quot;3c6b76bb-69d7-43f4-b70f-7b7e5bdcfee1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when yMin &gt; yMax&quot;,&quot;fullTitle&quot;:&quot;retrieve study-series-instances using WADO-URI param &#x27;region&#x27; error cases Should raise 400 (Bad Request) when yMin &gt; yMax&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/wado?requestType=WADO&amp;contentType=image/jpeg&amp;studyUID=${STUDY_UID}&amp;seriesUID=${SERIES_UID}&amp;objectUID=${INSTANCE_UID}&amp;region=0.1,1,1,0.5`,\n});\n    \nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7312841-f390-4af3-8b44-bdd17d108991&quot;,&quot;parentUUID&quot;:&quot;3c6b76bb-69d7-43f4-b70f-7b7e5bdcfee1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1fe9e9c9-6e15-4987-b80d-a24eafaa8a66&quot;,&quot;516b2219-bf5f-4bde-b511-070feadf2932&quot;,&quot;ed2201e7-4b15-4e3e-861e-0bc1067ddd66&quot;,&quot;b7312841-f390-4af3-8b44-bdd17d108991&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;734669ae-e5d8-4646-af1c-ce96a1cf746c&quot;,&quot;4907041c-11b0-412d-a6eb-d570660d45c9&quot;,&quot;32c36d04-af6c-4664-b98d-e850a503384b&quot;,&quot;c02ecc66-1719-493c-beab-accd95081a10&quot;,&quot;72e86f90-c2f7-4a9f-bff7-093d488ac9d9&quot;,&quot;033298d4-2686-471a-83fe-0ec1dbe8cedb&quot;,&quot;e744015d-5041-4260-b067-3f4782fde511&quot;,&quot;641b7f5d-1cc3-44b9-82e3-f2ba789036ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:510,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a75b3792-3e68-4af0-8f72-7142c939d8ce&quot;,&quot;title&quot;:&quot;Convert DICOM to FHIR &#x27;/fhir-convert&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\fhir-convert\\convertDicomToFhir.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\fhir-convert\\convertDicomToFhir.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Convert DICOM to FHIR &#x27;/fhir-convert&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Convert DICOM to FHIR &#x27;/fhir-convert&#x27; \&quot;before all\&quot; hook in \&quot;Convert DICOM to FHIR &#x27;/fhir-convert&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c8e77e3-f755-40c4-83f0-164603652bef&quot;,&quot;parentUUID&quot;:&quot;a75b3792-3e68-4af0-8f72-7142c939d8ce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should convert DICOM to FHIR&quot;,&quot;fullTitle&quot;:&quot;Convert DICOM to FHIR &#x27;/fhir-convert&#x27; Should convert DICOM to FHIR&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const myForm = formAutoContent({\n    file: createReadStream(\n        resolve(__dirname, \&quot;../../testData/forStore/1-01-mod-vo-updated\&quot;)\n    )\n});\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/fhir-convert\&quot;,\n    ...myForm\n});\nexpect(response.statusCode).to.equal(200);\nlet data = await response.json();\nexpect(data).to.have.property(\&quot;patient\&quot;);\nexpect(data.patient).to.have.property(\&quot;resourceType\&quot;).to.be.equal(\&quot;Patient\&quot;);\nexpect(data).to.have.property(\&quot;imagingStudy\&quot;);\nexpect(data.imagingStudy).to.have.property(\&quot;resourceType\&quot;).to.be.equal(\&quot;ImagingStudy\&quot;);\nexpect(data).to.have.property(\&quot;endpoint\&quot;);\nexpect(data.endpoint).to.have.property(\&quot;resourceType\&quot;).to.be.equal(\&quot;Endpoint\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3bc7ea8-0104-4b75-9297-0c0117a814e4&quot;,&quot;parentUUID&quot;:&quot;a75b3792-3e68-4af0-8f72-7142c939d8ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when missing DICOM file&quot;,&quot;fullTitle&quot;:&quot;Convert DICOM to FHIR &#x27;/fhir-convert&#x27; Should raise 400 (Bad Request) when missing DICOM file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/fhir-convert\&quot;\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80421e9a-7561-4252-a32b-988d7a825bce&quot;,&quot;parentUUID&quot;:&quot;a75b3792-3e68-4af0-8f72-7142c939d8ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a3bc7ea8-0104-4b75-9297-0c0117a814e4&quot;,&quot;80421e9a-7561-4252-a32b-988d7a825bce&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;9bd48eaa-4041-4079-8d03-c710acb81350&quot;,&quot;title&quot;:&quot;Label create label for image &#x27;/label/:uid&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\label\\createLabel.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\label\\createLabel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Label create label for image &#x27;/label/:uid&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Label create label for image &#x27;/label/:uid&#x27; \&quot;before all\&quot; hook in \&quot;Label create label for image &#x27;/label/:uid&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:890,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aeca6a8f-b4ef-45b3-a66e-20f990723763&quot;,&quot;parentUUID&quot;:&quot;9bd48eaa-4041-4079-8d03-c710acb81350&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should create label&quot;,&quot;fullTitle&quot;:&quot;Label create label for image &#x27;/label/:uid&#x27; Should create label&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/label/${STUDY_UID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/json\&quot;\n    },\n    payload: JSON.stringify({\n        label: {\n            name: \&quot;test\&quot;,\n            color: \&quot;blue\&quot;\n        }\n    })\n});\nexpect(response.statusCode).to.equal(201);\nlet createdLabel = await response.json();\nexpect(createdLabel).have.property(\&quot;uid\&quot;).to.be.equal(STUDY_UID);\nexpect(createdLabel)\n.have.property(\&quot;label\&quot;);\nexpect(createdLabel.label)\n.have.property(\&quot;name\&quot;)\n.to.be.equal(\&quot;test\&quot;);\nexpect(createdLabel.label)\n.have.property(\&quot;color\&quot;)\n.to.be.equal(\&quot;blue\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d994f27-3c41-4c48-839c-5cf1994b230c&quot;,&quot;parentUUID&quot;:&quot;9bd48eaa-4041-4079-8d03-c710acb81350&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when image not found&quot;,&quot;fullTitle&quot;:&quot;Label create label for image &#x27;/label/:uid&#x27; Should raise 404 (Not Found) when image not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/label/${STUDY_UID}2486`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/json\&quot;\n    },\n    payload: JSON.stringify({\n        label: {\n            name: \&quot;test\&quot;,\n            color: \&quot;blue\&quot;\n        }\n    })\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a64b245a-cbc4-461f-8f85-80270bb3e480&quot;,&quot;parentUUID&quot;:&quot;9bd48eaa-4041-4079-8d03-c710acb81350&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when label already exists&quot;,&quot;fullTitle&quot;:&quot;Label create label for image &#x27;/label/:uid&#x27; Should raise 400 (Bad Request) when label already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/label/${STUDY_UID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/json\&quot;\n    },\n    payload: JSON.stringify({\n        label: {\n            name: \&quot;test\&quot;,\n            color: \&quot;blue\&quot;\n        }\n    })\n});\nexpect(response.statusCode).to.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13eeb178-5665-49bf-9d22-af7c3d42b792&quot;,&quot;parentUUID&quot;:&quot;9bd48eaa-4041-4079-8d03-c710acb81350&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d994f27-3c41-4c48-839c-5cf1994b230c&quot;,&quot;a64b245a-cbc4-461f-8f85-80270bb3e480&quot;,&quot;13eeb178-5665-49bf-9d22-af7c3d42b792&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;33b5a037-6b15-4b7f-8345-cf97bdb25746&quot;,&quot;title&quot;:&quot;Label delete label for image &#x27;/label/:uid&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\label\\deleteLabel.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\label\\deleteLabel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Label delete label for image &#x27;/label/:uid&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Label delete label for image &#x27;/label/:uid&#x27; \&quot;before all\&quot; hook in \&quot;Label delete label for image &#x27;/label/:uid&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:942,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/label/${STUDY_UID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/json\&quot;\n    },\n    payload: JSON.stringify({\n        label: {\n            name: \&quot;test\&quot;,\n            color: \&quot;blue\&quot;\n        }\n    })\n});\nexpect(response.statusCode).to.equal(201);\nlet createdLabel = await response.json();\nlabelID = createdLabel.label.id;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;953cd157-73bc-4abb-a914-e5e006366c86&quot;,&quot;parentUUID&quot;:&quot;33b5a037-6b15-4b7f-8345-cf97bdb25746&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should update label&quot;,&quot;fullTitle&quot;:&quot;Label delete label for image &#x27;/label/:uid&#x27; Should update label&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/label/${STUDY_UID}/${labelID}`\n});\nexpect(response.statusCode).to.equal(200);\nlet deleteResult = await response.json();\nexpect(deleteResult).to.have.property(\&quot;deleteStatus\&quot;).to.be.equal(true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8b26aa1-7445-464d-8626-9fcc7c8055cf&quot;,&quot;parentUUID&quot;:&quot;33b5a037-6b15-4b7f-8345-cf97bdb25746&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when label or image not found&quot;,&quot;fullTitle&quot;:&quot;Label delete label for image &#x27;/label/:uid&#x27; Should raise 404 (Not Found) when label or image not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/label/${STUDY_UID}/2486`\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db274623-c899-44d8-b167-91d943beac1a&quot;,&quot;parentUUID&quot;:&quot;33b5a037-6b15-4b7f-8345-cf97bdb25746&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8b26aa1-7445-464d-8626-9fcc7c8055cf&quot;,&quot;db274623-c899-44d8-b167-91d943beac1a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3fb4d1f4-6cf8-4f74-b070-673c59c4346d&quot;,&quot;title&quot;:&quot;Label get label for image &#x27;/label/:uid&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\label\\getLabel.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\label\\getLabel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Label get label for image &#x27;/label/:uid&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Label get label for image &#x27;/label/:uid&#x27; \&quot;before all\&quot; hook in \&quot;Label get label for image &#x27;/label/:uid&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1922,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/label/${STUDY_UID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/json\&quot;\n    },\n    payload: JSON.stringify({\n        label: {\n            name: \&quot;test\&quot;,\n            color: \&quot;blue\&quot;\n        }\n    })\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3db23019-ff2f-4a9d-b31e-32deb79eb3bb&quot;,&quot;parentUUID&quot;:&quot;3fb4d1f4-6cf8-4f74-b070-673c59c4346d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should get label by specified uid&quot;,&quot;fullTitle&quot;:&quot;Label get label for image &#x27;/label/:uid&#x27; Should get label by specified uid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/label/${STUDY_UID}`,\n    headers: {\n        \&quot;Accept\&quot;: \&quot;application/json\&quot;\n    }\n});\nexpect(response.statusCode).to.equal(200);\nlet labels = await response.json();\nexpect(labels).to.be.an(\&quot;array\&quot;);\nexpect(labels).have.lengthOf(1);\nlet label = labels[0];\nexpect(label).have.property(\&quot;uid\&quot;).to.be.equal(STUDY_UID);\nexpect(label)\n.have.property(\&quot;label\&quot;);\nexpect(label.label)\n.have.property(\&quot;name\&quot;)\n.to.be.equal(\&quot;test\&quot;);\nexpect(label.label)\n.have.property(\&quot;color\&quot;)\n.to.be.equal(\&quot;blue\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43dac0f9-808c-4da1-a91d-dbded34b9c2e&quot;,&quot;parentUUID&quot;:&quot;3fb4d1f4-6cf8-4f74-b070-673c59c4346d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;43dac0f9-808c-4da1-a91d-dbded34b9c2e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a047bd36-c344-4e85-9973-46e2bc269d36&quot;,&quot;title&quot;:&quot;Label update label for image &#x27;/label/:uid&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\api\\label\\updateLabel.test.js&quot;,&quot;file&quot;:&quot;\\test\\api\\label\\updateLabel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Label update label for image &#x27;/label/:uid&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;Label update label for image &#x27;/label/:uid&#x27; \&quot;before all\&quot; hook in \&quot;Label update label for image &#x27;/label/:uid&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:883,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nlet response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/label/${STUDY_UID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/json\&quot;\n    },\n    payload: JSON.stringify({\n        label: {\n            name: \&quot;test\&quot;,\n            color: \&quot;blue\&quot;\n        }\n    })\n});\nexpect(response.statusCode).to.equal(201);\nlet createdLabel = await response.json();\nlabelID = createdLabel.label.id;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7090e65c-bade-47cd-8ef6-8b9652320cc3&quot;,&quot;parentUUID&quot;:&quot;a047bd36-c344-4e85-9973-46e2bc269d36&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should update label&quot;,&quot;fullTitle&quot;:&quot;Label update label for image &#x27;/label/:uid&#x27; Should update label&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/label/${STUDY_UID}/${labelID}`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/json\&quot;\n    },\n    payload: JSON.stringify({\n        label: {\n            name: \&quot;test-updated\&quot;,\n            color: \&quot;blue\&quot;\n        }\n    })\n});\nexpect(response.statusCode).to.equal(200);\nlet updatedLabel = await response.json();\nexpect(updatedLabel).have.property(\&quot;uid\&quot;).to.be.equal(STUDY_UID);\nexpect(updatedLabel)\n.have.property(\&quot;label\&quot;);\nexpect(updatedLabel.label)\n.have.property(\&quot;name\&quot;)\n.to.be.equal(\&quot;test-updated\&quot;);\nexpect(updatedLabel.label)\n.have.property(\&quot;color\&quot;)\n.to.be.equal(\&quot;blue\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;891301de-6d16-4459-b2b9-dc4ee5dad57f&quot;,&quot;parentUUID&quot;:&quot;a047bd36-c344-4e85-9973-46e2bc269d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when label or image not found&quot;,&quot;fullTitle&quot;:&quot;Label update label for image &#x27;/label/:uid&#x27; Should raise 404 (Not Found) when label or image not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;PUT\&quot;,\n    url: `/label/${STUDY_UID}/2486`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/json\&quot;\n    },\n    payload: JSON.stringify({\n        label: {\n            name: \&quot;test\&quot;,\n            color: \&quot;blue\&quot;\n        }\n    })\n});\nexpect(response.statusCode).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32a8d3fa-47af-4286-899a-5c52f094b2af&quot;,&quot;parentUUID&quot;:&quot;a047bd36-c344-4e85-9973-46e2bc269d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;891301de-6d16-4459-b2b9-dc4ee5dad57f&quot;,&quot;32a8d3fa-47af-4286-899a-5c52f094b2af&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;title&quot;:&quot;Delete DICOM Instances by SOPInstanceUID&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\delete.test.js&quot;,&quot;file&quot;:&quot;\\test\\delete.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Delete DICOM Instances by SOPInstanceUID\&quot;&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID \&quot;before all\&quot; hook in \&quot;Delete DICOM Instances by SOPInstanceUID\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:864,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa957769-08d7-41aa-bb8b-2c6a65b66726&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise error if not using POST &#x27;delete-with-reason&#x27; first&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should raise error if not using POST &#x27;delete-with-reason&#x27; first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}/series/${seriesInstanceUid}/instances/${sopInstanceUid}`\n});\nexpect(response.statusCode).to.be.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;270ad449-57dd-41de-a978-af77434263ed&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) using undo delete when instance fine&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should raise 400 (Bad Request) using undo delete when instance fine&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}/series/${seriesInstanceUid}/instances/${sopInstanceUid}/undoDelete`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.be.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39319dc6-82d2-4b91-9a8c-d271dae9d8bf&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) if instance not found when using &#x27;delete-with-reason&#x27;&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should raise 404 (Not Found) if instance not found when using &#x27;delete-with-reason&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}/series/${seriesInstanceUid}/instances/${sopInstanceUid}2486/delete-with-reason`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify({ reason: \&quot;test\&quot; })\n});\nexpect(response.statusCode).to.be.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ddabab4-edd0-46ed-9c13-b7b0e55ae3d9&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when using delete with param &#x27;deleteStatus&#x27; at instance level&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should raise 400 (Bad Request) when using delete with param &#x27;deleteStatus&#x27; at instance level&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}/series/${seriesInstanceUid}/instances/${sopInstanceUid}?deleteStatus=1`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify({ reason: \&quot;test\&quot; })\n});\nexpect(response.statusCode).to.be.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a69bad0a-0230-43bb-bb5d-7d899b2f1db4&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should delete instance with reason and expect 4 instances in series&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should delete instance with reason and expect 4 instances in series&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonBySopInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57d2f6f2-28eb-4230-9f0c-d28ade91f028&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when instance already deleted with reason&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should raise 400 (Bad Request) when instance already deleted with reason&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}/series/${seriesInstanceUid}/instances/${sopInstanceUid}/delete-with-reason`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify({ reason: \&quot;test\&quot; })\n});\nexpect(response.statusCode).to.be.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a47f2b12-f9a7-48ee-ae81-b0d306f3e59a&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should expect 3 series in study because of delete with instance&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should expect 3 series in study because of delete with instance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;series\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7ad20ef-f538-4217-926b-e837a17d53d7&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should expect 4 studies because of delete with instance&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should expect 4 studies because of delete with instance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {},\n    params: {},\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;study\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca6551a1-333c-4a01-8cc4-93a461672bad&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 400 (Bad Request) when using undo delete with param &#x27;deleteStatus&#x27;&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should raise 400 (Bad Request) when using undo delete with param &#x27;deleteStatus&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}/series/${seriesInstanceUid}/instances/${sopInstanceUid}/undoDelete?deleteStatus=1`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    }\n});\nexpect(response.statusCode).to.be.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7dcea79f-7060-4bfd-bf2a-aa8884fa9d3b&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should undo delete instance and expect 5 instances in series&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should undo delete instance and expect 5 instances in series&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await undoDeleteBySopInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7a72894-ecbd-4bf8-ab2a-c0ed97d50710&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should undo delete instance using study level and expect 5 instances in series&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should undo delete instance using study level and expect 5 instances in series&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonBySopInstanceUid();\nawait undoDeleteByStudyInstanceUid({ deleteStatus: 1 });\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6062b256-51d9-4957-9427-afc7c3e7e011&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should undo delete series using series level and expect 5 instances in series&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should undo delete series using series level and expect 5 instances in series&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonBySopInstanceUid();\nawait undoDeleteBySeriesInstanceUid({ deleteStatus: 1 });\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11c3aab2-02a3-40bc-adc7-158af56c17d7&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when instance not exists&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUID Should raise 404 (Not Found) when instance not exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/1/series/2/instances/3/undoDelete`\n});\nexpect(response.statusCode).to.be.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78d75517-e6a0-4b89-b0a6-44b6898d8858&quot;,&quot;parentUUID&quot;:&quot;e9b7ecfa-a573-45e5-9490-71b02e5e7745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;270ad449-57dd-41de-a978-af77434263ed&quot;,&quot;39319dc6-82d2-4b91-9a8c-d271dae9d8bf&quot;,&quot;5ddabab4-edd0-46ed-9c13-b7b0e55ae3d9&quot;,&quot;a69bad0a-0230-43bb-bb5d-7d899b2f1db4&quot;,&quot;57d2f6f2-28eb-4230-9f0c-d28ade91f028&quot;,&quot;a47f2b12-f9a7-48ee-ae81-b0d306f3e59a&quot;,&quot;c7ad20ef-f538-4217-926b-e837a17d53d7&quot;,&quot;ca6551a1-333c-4a01-8cc4-93a461672bad&quot;,&quot;7dcea79f-7060-4bfd-bf2a-aa8884fa9d3b&quot;,&quot;d7a72894-ecbd-4bf8-ab2a-c0ed97d50710&quot;,&quot;6062b256-51d9-4957-9427-afc7c3e7e011&quot;,&quot;11c3aab2-02a3-40bc-adc7-158af56c17d7&quot;,&quot;78d75517-e6a0-4b89-b0a6-44b6898d8858&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:141,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;5b947f0f-2837-4770-ba76-3e5271e28f56&quot;,&quot;title&quot;:&quot;Delete DICOM Instance using specified delete status with study level&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\delete.test.js&quot;,&quot;file&quot;:&quot;\\test\\delete.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Delete DICOM Instance using specified delete status with study level\&quot;&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instance using specified delete status with study level \&quot;after all\&quot; hook in \&quot;Delete DICOM Instance using specified delete status with study level\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await undoDeleteBySopInstanceUid();\nawait undoDeleteBySopInstanceUid();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0b3b73c-a30d-4556-8952-d52ae92fc1db&quot;,&quot;parentUUID&quot;:&quot;5b947f0f-2837-4770-ba76-3e5271e28f56&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should move instance to waiting permanently queue using specified delete status&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instance using specified delete status with study level Should move instance to waiting permanently queue using specified delete status&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonBySopInstanceUid();\nawait deleteByStudyInstanceUid({ deleteStatus: 1 });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48fa6633-436c-470f-9937-b893f9018146&quot;,&quot;parentUUID&quot;:&quot;5b947f0f-2837-4770-ba76-3e5271e28f56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 4 instances when query with delete status = 0 (NONE)&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instance using specified delete status with study level Should return 4 instances when query with delete status = 0 (NONE)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d3612b4-977c-459c-8c41-2c1377987614&quot;,&quot;parentUUID&quot;:&quot;5b947f0f-2837-4770-ba76-3e5271e28f56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 0 instances when query with delete status = 1 (RECYCLE)&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instance using specified delete status with study level Should return 0 instances when query with delete status = 1 (RECYCLE)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.RECYCLE\n    },\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e8d1f90-0148-4190-b577-00306422f018&quot;,&quot;parentUUID&quot;:&quot;5b947f0f-2837-4770-ba76-3e5271e28f56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 1 instance when query with delete status = 2 (PERMANENT_QUEUE)&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instance using specified delete status with study level Should return 1 instance when query with delete status = 2 (PERMANENT_QUEUE)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.PERMANENT_QUEUE\n    },\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecbb536b-535e-4a69-b880-95c876f6d442&quot;,&quot;parentUUID&quot;:&quot;5b947f0f-2837-4770-ba76-3e5271e28f56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;48fa6633-436c-470f-9937-b893f9018146&quot;,&quot;4d3612b4-977c-459c-8c41-2c1377987614&quot;,&quot;0e8d1f90-0148-4190-b577-00306422f018&quot;,&quot;ecbb536b-535e-4a69-b880-95c876f6d442&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:37,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;ca0b2e12-a14e-45d3-9796-675d65a79907&quot;,&quot;title&quot;:&quot;Delete DICOM Instances by SeriesInstanceUID&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\delete.test.js&quot;,&quot;file&quot;:&quot;\\test\\delete.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise error if not using POST &#x27;delete-with-reason&#x27; first&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SeriesInstanceUID Should raise error if not using POST &#x27;delete-with-reason&#x27; first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}/series/${seriesInstanceUid}`\n});\n\nexpect(response.statusCode).to.be.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e7aef4c-2fed-410b-8f8e-fa62c6721aa2&quot;,&quot;parentUUID&quot;:&quot;ca0b2e12-a14e-45d3-9796-675d65a79907&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should delete series with reason and expect 2 series in study&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SeriesInstanceUID Should delete series with reason and expect 2 series in study&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonBySeriesInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;series\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c64aa1f-9bf3-427d-905c-a00c69dff4a0&quot;,&quot;parentUUID&quot;:&quot;ca0b2e12-a14e-45d3-9796-675d65a79907&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should undo delete series and expect 3 series in study&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SeriesInstanceUID Should undo delete series and expect 3 series in study&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await undoDeleteBySeriesInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;series\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f3eec62-e036-407c-9334-734e4e8594a0&quot;,&quot;parentUUID&quot;:&quot;ca0b2e12-a14e-45d3-9796-675d65a79907&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should undo delete instances and expect 3 series in study&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SeriesInstanceUID Should undo delete instances and expect 3 series in study&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonBySeriesInstanceUid();\nawait undoDeleteBySeriesInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;series\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2affc39-d4f9-428f-bc55-7885bbf8e452&quot;,&quot;parentUUID&quot;:&quot;ca0b2e12-a14e-45d3-9796-675d65a79907&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4e7aef4c-2fed-410b-8f8e-fa62c6721aa2&quot;,&quot;1c64aa1f-9bf3-427d-905c-a00c69dff4a0&quot;,&quot;8f3eec62-e036-407c-9334-734e4e8594a0&quot;,&quot;e2affc39-d4f9-428f-bc55-7885bbf8e452&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:45,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a6b33093-2500-4f0e-9e36-f84b846ff253&quot;,&quot;title&quot;:&quot;Delete DICOM Instances by SOPInstanceUIDs&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\delete.test.js&quot;,&quot;file&quot;:&quot;\\test\\delete.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should delete all instances to recycle bin and expect 2 series&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUIDs Should delete all instances to recycle bin and expect 2 series&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:50,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;for (let instanceUid of instanceUidsInSeries) {\n    await deleteWithReasonBySopInstanceUid(instanceUid);\n}\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {\n        studyUID: studyInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;series\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b4f2a90-176a-4c96-91e3-dac4f54a1e0b&quot;,&quot;parentUUID&quot;:&quot;a6b33093-2500-4f0e-9e36-f84b846ff253&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should delete all instances to waiting permanently delete using series level deletion&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by SOPInstanceUIDs Should delete all instances to waiting permanently delete using series level deletion&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteBySeriesInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.PERMANENT_QUEUE\n    },\n    params: {\n        studyUID: studyInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;series\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e978c95-cf6d-4a1c-ba8c-e259f8af3347&quot;,&quot;parentUUID&quot;:&quot;a6b33093-2500-4f0e-9e36-f84b846ff253&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3b4f2a90-176a-4c96-91e3-dac4f54a1e0b&quot;,&quot;5e978c95-cf6d-4a1c-ba8c-e259f8af3347&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:65,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a5cd5156-1129-4e0f-b8dd-27c3d378c3c7&quot;,&quot;title&quot;:&quot;Delete DICOM Instances by StudyInstanceUID&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\delete.test.js&quot;,&quot;file&quot;:&quot;\\test\\delete.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Delete DICOM Instances by StudyInstanceUID\&quot;&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by StudyInstanceUID \&quot;before all\&quot; hook in \&quot;Delete DICOM Instances by StudyInstanceUID\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// revert delete\nawait undoDeleteBySeriesInstanceUid();\nawait undoDeleteBySeriesInstanceUid();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff778794-1ba9-4854-b648-dc68fa2ab711&quot;,&quot;parentUUID&quot;:&quot;a5cd5156-1129-4e0f-b8dd-27c3d378c3c7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should raise error if not using POST &#x27;delete-with-reason&#x27; first&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by StudyInstanceUID Should raise error if not using POST &#x27;delete-with-reason&#x27; first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}`\n});\nexpect(response.statusCode).to.be.equal(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b9fb7ba-4b69-47a2-a567-a3a4848ecf28&quot;,&quot;parentUUID&quot;:&quot;a5cd5156-1129-4e0f-b8dd-27c3d378c3c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should delete study with reason and expect 3 studies&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by StudyInstanceUID Should delete study with reason and expect 3 studies&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonByStudyInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {},\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;study\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(3);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd1ad447-075c-49d6-8bca-94220a48e147&quot;,&quot;parentUUID&quot;:&quot;a5cd5156-1129-4e0f-b8dd-27c3d378c3c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should undo delete study and expect 4 studies&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by StudyInstanceUID Should undo delete study and expect 4 studies&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await undoDeleteByStudyInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {},\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;study\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8dab49f3-08a3-4027-a365-21a0163fdf27&quot;,&quot;parentUUID&quot;:&quot;a5cd5156-1129-4e0f-b8dd-27c3d378c3c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should undo delete instances and expect 4 studies&quot;,&quot;fullTitle&quot;:&quot;Delete DICOM Instances by StudyInstanceUID Should undo delete instances and expect 4 studies&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonByStudyInstanceUid();\nawait undoDeleteBySopInstanceUid();\nlet qidoRsService = new QidoRsService({\n    query: {},\n    params: {},\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;study\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(4);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40b7c1cf-a932-4119-954f-59a299827ae8&quot;,&quot;parentUUID&quot;:&quot;a5cd5156-1129-4e0f-b8dd-27c3d378c3c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b9fb7ba-4b69-47a2-a567-a3a4848ecf28&quot;,&quot;dd1ad447-075c-49d6-8bca-94220a48e147&quot;,&quot;8dab49f3-08a3-4027-a365-21a0163fdf27&quot;,&quot;40b7c1cf-a932-4119-954f-59a299827ae8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:60,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;d49f00f1-b8c9-4002-b05c-1c9ea8d1431f&quot;,&quot;title&quot;:&quot;Delete Study to recycle status&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\delete.test.js&quot;,&quot;file&quot;:&quot;\\test\\delete.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Delete Study to recycle status\&quot;&quot;,&quot;fullTitle&quot;:&quot;Delete Study to recycle status \&quot;before all\&quot; hook in \&quot;Delete Study to recycle status\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await undoDeleteByStudyInstanceUid({ deleteStatus: 1 });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3ed54a2-0dc9-42dc-a3de-dc7342d85186&quot;,&quot;parentUUID&quot;:&quot;d49f00f1-b8c9-4002-b05c-1c9ea8d1431f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should delete with reason successfully&quot;,&quot;fullTitle&quot;:&quot;Delete Study to recycle status Should delete with reason successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteWithReasonByStudyInstanceUid();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;809d5980-8a02-46c2-849d-ef7a2011cbc4&quot;,&quot;parentUUID&quot;:&quot;d49f00f1-b8c9-4002-b05c-1c9ea8d1431f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return 1 study when search with recycle status&quot;,&quot;fullTitle&quot;:&quot;Delete Study to recycle status Should return 1 study when search with recycle status&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.RECYCLE\n    },\n    params: {},\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;study\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b784c385-dfb7-4821-8888-65f4275d393c&quot;,&quot;parentUUID&quot;:&quot;d49f00f1-b8c9-4002-b05c-1c9ea8d1431f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should automatically move 1 study to waiting delete status after 5 seconds&quot;,&quot;fullTitle&quot;:&quot;Delete Study to recycle status Should automatically move 1 study to waiting delete status after 5 seconds&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6004,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await sleep(6000);\nlet qidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.PERMANENT_QUEUE\n    },\n    params: {},\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;study\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f85fc8c2-a0a0-4628-a7ee-fe670f9057da&quot;,&quot;parentUUID&quot;:&quot;d49f00f1-b8c9-4002-b05c-1c9ea8d1431f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;809d5980-8a02-46c2-849d-ef7a2011cbc4&quot;,&quot;b784c385-dfb7-4821-8888-65f4275d393c&quot;,&quot;f85fc8c2-a0a0-4628-a7ee-fe670f9057da&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6017,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;99e1d77f-5410-4f1a-85b6-21583c7e0fb0&quot;,&quot;title&quot;:&quot;Delete Permanently&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\delete.test.js&quot;,&quot;file&quot;:&quot;\\test\\delete.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should have files in disk before delete&quot;,&quot;fullTitle&quot;:&quot;Delete Permanently Should have files in disk before delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;for (let i = 0 ; i &lt; instanceUidsInSeries.length ; i++) {\n    let instancePath = path.join(\n        raccoonConfig.dicomWebConfig.storeRootPath,\n        `files/2010/02/${shortHash(studyInstanceUid)}/${shortHash(seriesInstanceUid)}/${instanceUidsInSeries[i]}.dcm`\n    );\n    expect(fs.existsSync(instancePath)).to.be.true;\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16e3b31e-4424-4132-836f-e6d44101ee32&quot;,&quot;parentUUID&quot;:&quot;99e1d77f-5410-4f1a-85b6-21583c7e0fb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should have 5 instances when query before delete&quot;,&quot;fullTitle&quot;:&quot;Delete Permanently Should have 5 instances when query before delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.PERMANENT_QUEUE\n    },\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42ae4d06-bde2-4f23-9bfe-83599452e61d&quot;,&quot;parentUUID&quot;:&quot;99e1d77f-5410-4f1a-85b6-21583c7e0fb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should raise 404 (Not Found) when instance not found&quot;,&quot;fullTitle&quot;:&quot;Delete Permanently Should raise 404 (Not Found) when instance not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;DELETE\&quot;,\n    url: `/dicom-web/studies/${studyInstanceUid}/series/${seriesInstanceUid}/instances/2486`\n});\nexpect(response.statusCode).to.be.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec94cf28-38cc-4f26-9897-a9f0657bbf5e&quot;,&quot;parentUUID&quot;:&quot;99e1d77f-5410-4f1a-85b6-21583c7e0fb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should delete 4 instances permanently (total: 5)&quot;,&quot;fullTitle&quot;:&quot;Delete Permanently Should delete 4 instances permanently (total: 5)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;for (let i = 0 ; i &lt; instanceUidsInSeries.length - 1 ; i++) {\n    await deleteBySopInstanceUid(instanceUidsInSeries[i]);\n    let instancePath = path.join(\n        raccoonConfig.dicomWebConfig.storeRootPath,\n        `files/2010/02/${shortHash(studyInstanceUid)}/${shortHash(seriesInstanceUid)}/${instanceUidsInSeries[i]}.dcm`\n    );\n    expect(fs.existsSync(instancePath)).to.be.false;\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59dc3ae2-c65b-4885-9491-f2e8f64f32d9&quot;,&quot;parentUUID&quot;:&quot;99e1d77f-5410-4f1a-85b6-21583c7e0fb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should have one instance when query&quot;,&quot;fullTitle&quot;:&quot;Delete Permanently Should have one instance when query&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.PERMANENT_QUEUE\n    },\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2819177e-0deb-4aee-be82-c57c59d416ba&quot;,&quot;parentUUID&quot;:&quot;99e1d77f-5410-4f1a-85b6-21583c7e0fb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should delete 1 instance permanently and remove series because it is empty&quot;,&quot;fullTitle&quot;:&quot;Delete Permanently Should delete 1 instance permanently and remove series because it is empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await deleteBySopInstanceUid(instanceUidsInSeries[instanceUidsInSeries.length - 1]);\nlet instancePath = path.join(\n    raccoonConfig.dicomWebConfig.storeRootPath,\n    `files/2010/02/${shortHash(studyInstanceUid)}/${shortHash(seriesInstanceUid)}/${instanceUidsInSeries[instanceUidsInSeries.length - 1]}.dcm`\n);\nlet seriesPath = path.join(\n    raccoonConfig.dicomWebConfig.storeRootPath,\n    `files/2010/02/${shortHash(studyInstanceUid)}/${shortHash(seriesInstanceUid)}`\n);\nexpect(fs.existsSync(instancePath)).to.be.false;\nexpect(fs.existsSync(seriesPath)).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59c64351-11a0-4761-bbd5-e61e3d601115&quot;,&quot;parentUUID&quot;:&quot;99e1d77f-5410-4f1a-85b6-21583c7e0fb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should return empty when query after delete&quot;,&quot;fullTitle&quot;:&quot;Delete Permanently Should return empty when query after delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let qidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.NONE\n    },\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\nlet dicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(0);\nqidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.RECYCLE\n    },\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\ndicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(0);\nqidoRsService = new QidoRsService({\n    query: {\n        deleteStatus: DICOM_INSTANCE_DELETE_STATUS.PERMANENT_QUEUE\n    },\n    params: {\n        studyUID: studyInstanceUid,\n        seriesUID: seriesInstanceUid\n    },\n    headers: {\n        host: \&quot;test-host\&quot;\n    }\n}, {}, \&quot;instance\&quot;);\ndicomJson = await qidoRsService.getDicomJson();\nexpect(dicomJson).have.lengthOf(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7a45bd6-2019-418e-8291-f814b8225fe6&quot;,&quot;parentUUID&quot;:&quot;99e1d77f-5410-4f1a-85b6-21583c7e0fb0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;16e3b31e-4424-4132-836f-e6d44101ee32&quot;,&quot;42ae4d06-bde2-4f23-9bfe-83599452e61d&quot;,&quot;ec94cf28-38cc-4f26-9897-a9f0657bbf5e&quot;,&quot;59dc3ae2-c65b-4885-9491-f2e8f64f32d9&quot;,&quot;2819177e-0deb-4aee-be82-c57c59d416ba&quot;,&quot;59c64351-11a0-4761-bbd5-e61e3d601115&quot;,&quot;a7a45bd6-2019-418e-8291-f814b8225fe6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;112461cb-41d3-4021-9bb4-6c956be28974&quot;,&quot;title&quot;:&quot;Series A, B, C: Delete A, Delete B, Recover A, Delete B Again&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\delete002.test.js&quot;,&quot;file&quot;:&quot;\\test\\delete002.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Series A, B, C: Delete A, Delete B, Recover A, Delete B Again\&quot;&quot;,&quot;fullTitle&quot;:&quot;Series A, B, C: Delete A, Delete B, Recover A, Delete B Again \&quot;before all\&quot; hook in \&quot;Series A, B, C: Delete A, Delete B, Recover A, Delete B Again\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:896,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;343211da-2f88-45ba-a350-ddd28dd51a90&quot;,&quot;parentUUID&quot;:&quot;112461cb-41d3-4021-9bb4-6c956be28974&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Delete Series A&quot;,&quot;fullTitle&quot;:&quot;Series A, B, C: Delete A, Delete B, Recover A, Delete B Again Delete Series A&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await TestDeleteUtils.deleteWithReasonBySeriesInstanceUid(app, STUDY_INSTANCE_UID, SERIES_INSTANCE_UIDS[0]);\nlet deleteReason = await DicomInstanceDeleteReasonModel.findOne({\n    where: {\n        uid: SERIES_INSTANCE_UIDS[0]\n    }\n});\nexpect(deleteReason).not.to.be.null;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;596c023c-8237-48e5-bad4-b65bfca03f15&quot;,&quot;parentUUID&quot;:&quot;112461cb-41d3-4021-9bb4-6c956be28974&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Delete Series B&quot;,&quot;fullTitle&quot;:&quot;Series A, B, C: Delete A, Delete B, Recover A, Delete B Again Delete Series B&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await TestDeleteUtils.deleteWithReasonBySeriesInstanceUid(app, STUDY_INSTANCE_UID, SERIES_INSTANCE_UIDS[1]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;967f6483-6d12-4b5f-92e8-83919f062104&quot;,&quot;parentUUID&quot;:&quot;112461cb-41d3-4021-9bb4-6c956be28974&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Recover Series A&quot;,&quot;fullTitle&quot;:&quot;Series A, B, C: Delete A, Delete B, Recover A, Delete B Again Recover Series A&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await TestDeleteUtils.undoDeleteBySeriesInstanceUid(app, STUDY_INSTANCE_UID, SERIES_INSTANCE_UIDS[0]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8358a1f7-b707-4821-97e6-36262babdf28&quot;,&quot;parentUUID&quot;:&quot;112461cb-41d3-4021-9bb4-6c956be28974&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Delete Series B Again&quot;,&quot;fullTitle&quot;:&quot;Series A, B, C: Delete A, Delete B, Recover A, Delete B Again Delete Series B Again&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await TestDeleteUtils.deleteBySeriesInstanceUid(app, STUDY_INSTANCE_UID, SERIES_INSTANCE_UIDS[1]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aedcf8d3-6261-4842-abca-35a9484d8f90&quot;,&quot;parentUUID&quot;:&quot;112461cb-41d3-4021-9bb4-6c956be28974&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;596c023c-8237-48e5-bad4-b65bfca03f15&quot;,&quot;967f6483-6d12-4b5f-92e8-83919f062104&quot;,&quot;8358a1f7-b707-4821-97e6-36262babdf28&quot;,&quot;aedcf8d3-6261-4842-abca-35a9484d8f90&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;cb1fc058-39bd-41de-886d-73d82569eee2&quot;,&quot;title&quot;:&quot;DIMSE C-FIND Study-Series-Instance&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE C-FIND Study-Series-Instance\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance \&quot;before all\&quot; hook in \&quot;DIMSE C-FIND Study-Series-Instance\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:157,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await GlobalQrScpForTest.createQrScp();\nawait dbInstance.destroyAll();\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../testData/dicomFiles/1-01-mod-vo\&quot;)\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bec5d967-11e3-4423-a424-872a206977ff&quot;,&quot;parentUUID&quot;:&quot;cb1fc058-39bd-41de-886d-73d82569eee2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;DIMSE C-FIND Study-Series-Instance\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance \&quot;after all\&quot; hook in \&quot;DIMSE C-FIND Study-Series-Instance\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ad63081-c787-4fe7-a682-ba881dd553ec&quot;,&quot;parentUUID&quot;:&quot;cb1fc058-39bd-41de-886d-73d82569eee2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find 1 instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance Should find 1 instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nexpect(message).have.string(\&quot;Find Response: 1 (Pending)\&quot;);\nexpect(message).not.have.string(\&quot;Find Response: 2 (Pending)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0d52c4c-e20b-4a38-b31d-290e9a96b959&quot;,&quot;parentUUID&quot;:&quot;cb1fc058-39bd-41de-886d-73d82569eee2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3d7260b3-3989-4e23-a60d-554f176102e6&quot;,&quot;title&quot;:&quot;find with a filter&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1fafc64d-c2c3-44a9-b37d-86bbed647e44&quot;,&quot;title&quot;:&quot;query instances with &#x27;SOPClassUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series-Instance with SOPClassUID=1.2.840.10008.5.1.4.1.1.4 and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;SOPClassUID&#x27; Should find Study-Series-Instance with SOPClassUID=1.2.840.10008.5.1.4.1.1.4 and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:75,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0784f746-ffb9-45f1-b45f-a46b0564e4e1&quot;,&quot;parentUUID&quot;:&quot;1fafc64d-c2c3-44a9-b37d-86bbed647e44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series-Instance with SOPClassUID=foobar and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;SOPClassUID&#x27; Should find Study-Series-Instance with SOPClassUID=foobar and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd43e26b-f1e5-4a6e-983c-4e29fc87e079&quot;,&quot;parentUUID&quot;:&quot;1fafc64d-c2c3-44a9-b37d-86bbed647e44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0784f746-ffb9-45f1-b45f-a46b0564e4e1&quot;,&quot;bd43e26b-f1e5-4a6e-983c-4e29fc87e079&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:146,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;458e124f-08c1-4a1f-9156-5bb3b09ddd0a&quot;,&quot;title&quot;:&quot;query instances with &#x27;SOPInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series-Instance with SOPInstanceUID=1.2.276.0.7230010.3.1.4.2304755699.3648.1691733220.920 and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;SOPInstanceUID&#x27; Should find Study-Series-Instance with SOPInstanceUID=1.2.276.0.7230010.3.1.4.2304755699.3648.1691733220.920 and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd7d5db6-51e6-4626-a089-322c7ccde974&quot;,&quot;parentUUID&quot;:&quot;458e124f-08c1-4a1f-9156-5bb3b09ddd0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series-Instance with SOPInstanceUID=foobar and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;SOPInstanceUID&#x27; Should find Study-Series-Instance with SOPInstanceUID=foobar and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;893d167b-c983-47dd-b42d-ff386ba18aac&quot;,&quot;parentUUID&quot;:&quot;458e124f-08c1-4a1f-9156-5bb3b09ddd0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fd7d5db6-51e6-4626-a089-322c7ccde974&quot;,&quot;893d167b-c983-47dd-b42d-ff386ba18aac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:157,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;e6920ed4-3145-4a2a-b43b-6e6919f22072&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentDate&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series-Instance with ContentDate=20090721 and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;ContentDate Should find Study-Series-Instance with ContentDate=20090721 and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:80,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b21a82a-af99-402e-9ccd-ae55add0f114&quot;,&quot;parentUUID&quot;:&quot;e6920ed4-3145-4a2a-b43b-6e6919f22072&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series-Instance with ContentDate=20090101 and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;ContentDate Should find Study-Series-Instance with ContentDate=20090101 and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:75,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;baa89622-f566-409c-ab3b-f415a5beef28&quot;,&quot;parentUUID&quot;:&quot;e6920ed4-3145-4a2a-b43b-6e6919f22072&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b21a82a-af99-402e-9ccd-ae55add0f114&quot;,&quot;baa89622-f566-409c-ab3b-f415a5beef28&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:155,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;81645f73-fd9d-43d3-b40a-53969773a81e&quot;,&quot;title&quot;:&quot;query instances with &#x27;ContentTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series-Instance with ContentTime=115519.159000 and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;ContentTime&#x27; Should find Study-Series-Instance with ContentTime=115519.159000 and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:79,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;214838cd-d840-42f6-9373-bae2e4bb99b7&quot;,&quot;parentUUID&quot;:&quot;81645f73-fd9d-43d3-b40a-53969773a81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series-Instance with ContentTime=115518 and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;ContentTime&#x27; Should find Study-Series-Instance with ContentTime=115518 and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:79,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3d71c32-e27d-4353-a3c6-d57d2e11392e&quot;,&quot;parentUUID&quot;:&quot;81645f73-fd9d-43d3-b40a-53969773a81e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;214838cd-d840-42f6-9373-bae2e4bb99b7&quot;,&quot;a3d71c32-e27d-4353-a3c6-d57d2e11392e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:158,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;e398118c-e0f2-4395-88cf-79ef84867b54&quot;,&quot;title&quot;:&quot;query instances with &#x27;InstanceNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindInstance.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series-Instance with InstanceNumber=224 and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;InstanceNumber&#x27; Should find Study-Series-Instance with InstanceNumber=224 and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:82,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18f9c491-7654-42ba-b56e-84a310285072&quot;,&quot;parentUUID&quot;:&quot;e398118c-e0f2-4395-88cf-79ef84867b54&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series-Instance with InstanceNumber=1 and get instance successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series-Instance find with a filter query instances with &#x27;InstanceNumber&#x27; Should find Study-Series-Instance with InstanceNumber=1 and get instance successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToInstanceLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(\&quot;SeriesInstanceUID\&quot;, SERIES_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd.join(\&quot; \&quot;));\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3660aa4-7253-4ba8-871c-e790f079d5b8&quot;,&quot;parentUUID&quot;:&quot;e398118c-e0f2-4395-88cf-79ef84867b54&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;18f9c491-7654-42ba-b56e-84a310285072&quot;,&quot;f3660aa4-7253-4ba8-871c-e790f079d5b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:156,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;a0d52c4c-e20b-4a38-b31d-290e9a96b959&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:107,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;1130efc1-c725-4125-acc6-629b607c0d77&quot;,&quot;title&quot;:&quot;DIMSE C-FIND MWL&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE C-FIND MWL\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL \&quot;before all\&quot; hook in \&quot;DIMSE C-FIND MWL\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:973,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await GlobalQrScpForTest.createQrScp();\nawait dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/mwlitems\&quot;,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    body: JSON.stringify([testMwlItem])\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc1314f8-5696-40a8-81b8-332731239eab&quot;,&quot;parentUUID&quot;:&quot;1130efc1-c725-4125-acc6-629b607c0d77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;DIMSE C-FIND MWL\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL \&quot;after all\&quot; hook in \&quot;DIMSE C-FIND MWL\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1768738b-a56e-4c17-997c-f2d5b7a698b0&quot;,&quot;parentUUID&quot;:&quot;1130efc1-c725-4125-acc6-629b607c0d77&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find 1 mwl successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL Should find 1 mwl successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:77,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, \&quot;\&quot;);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nexpect(message).have.string(\&quot;Find Response: 1 (Pending)\&quot;);\nexpect(message).not.have.string(\&quot;Find Response: 2 (Pending)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;189f8ab0-ca90-4263-9fbd-4ad7b904e5e8&quot;,&quot;parentUUID&quot;:&quot;1130efc1-c725-4125-acc6-629b607c0d77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1f3d5e70-3667-4fb1-8a66-50c599a8e08c&quot;,&quot;title&quot;:&quot;find with a filter&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9fc582fe-aa42-4421-b460-f60d865e54c5&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;StudyInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with StudyInstanceUID=1.2.276.0.7230010.3.2.102 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;StudyInstanceUID&#x27; Should find modality worklist with StudyInstanceUID=1.2.276.0.7230010.3.2.102 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4f47df9-86dc-4aa2-aa18-57a01f7d5fab&quot;,&quot;parentUUID&quot;:&quot;9fc582fe-aa42-4421-b460-f60d865e54c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with StudyInstanceUID=1.2.3.4 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;StudyInstanceUID&#x27; Should find modality worklist with StudyInstanceUID=1.2.3.4 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe9cabe4-1256-456b-8b26-a96afbd8bbf9&quot;,&quot;parentUUID&quot;:&quot;9fc582fe-aa42-4421-b460-f60d865e54c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c4f47df9-86dc-4aa2-aa18-57a01f7d5fab&quot;,&quot;fe9cabe4-1256-456b-8b26-a96afbd8bbf9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:128,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;79ecc42d-25c2-445b-b4b6-50f4ed28284c&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;AccessionNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with AccessionNumber=acc-123456 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;AccessionNumber&#x27; Should find modality worklist with AccessionNumber=acc-123456 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:64,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d2c69cd-b2cd-49f8-a569-cec92fcf5744&quot;,&quot;parentUUID&quot;:&quot;79ecc42d-25c2-445b-b4b6-50f4ed28284c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with AccessionNumber=foobar and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;AccessionNumber&#x27; Should find modality worklist with AccessionNumber=foobar and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:56,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;163a8e66-5b5e-4936-8e0c-5f574ef92071&quot;,&quot;parentUUID&quot;:&quot;79ecc42d-25c2-445b-b4b6-50f4ed28284c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d2c69cd-b2cd-49f8-a569-cec92fcf5744&quot;,&quot;163a8e66-5b5e-4936-8e0c-5f574ef92071&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:120,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;2de084e3-ce77-45de-bbd5-0616a98a0de8&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;RequestedProcedureID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with RequestedProcedureID=RP488M9439 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;RequestedProcedureID&#x27; Should find modality worklist with RequestedProcedureID=RP488M9439 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7842e8c0-dcc5-4701-89a6-dc506e7f628a&quot;,&quot;parentUUID&quot;:&quot;2de084e3-ce77-45de-bbd5-0616a98a0de8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with RequestedProcedureID=foobar and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;RequestedProcedureID&#x27; Should find modality worklist with RequestedProcedureID=foobar and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7531cc55-9dba-4478-9cd6-c2ed007998d3&quot;,&quot;parentUUID&quot;:&quot;2de084e3-ce77-45de-bbd5-0616a98a0de8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7842e8c0-dcc5-4701-89a6-dc506e7f628a&quot;,&quot;7531cc55-9dba-4478-9cd6-c2ed007998d3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:115,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;c71a056b-5fa4-4dd8-8266-b889b75a7c5e&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;AdmissionID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with AdmissionID=A-987 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;AdmissionID&#x27; Should find modality worklist with AdmissionID=A-987 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fa3f535-12e4-4bba-945c-fdf6894e8353&quot;,&quot;parentUUID&quot;:&quot;c71a056b-5fa4-4dd8-8266-b889b75a7c5e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with AdmissionID=foobar and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;AdmissionID&#x27; Should find modality worklist with AdmissionID=foobar and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:59,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;053aeb4a-f180-4825-9253-38d1a01cd65c&quot;,&quot;parentUUID&quot;:&quot;c71a056b-5fa4-4dd8-8266-b889b75a7c5e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2fa3f535-12e4-4bba-945c-fdf6894e8353&quot;,&quot;053aeb4a-f180-4825-9253-38d1a01cd65c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:126,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;db9bdf15-5073-4cef-b7fe-5f38a7890f8e&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;InstitutionName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with InstitutionName=HELL and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;InstitutionName&#x27; Should find modality worklist with InstitutionName=HELL and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:62,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28bedabd-0ee0-4e73-a092-72c172eb27e5&quot;,&quot;parentUUID&quot;:&quot;db9bdf15-5073-4cef-b7fe-5f38a7890f8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with InstitutionName=foobar and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;InstitutionName&#x27; Should find modality worklist with InstitutionName=foobar and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13e894ba-d946-426d-8d30-d12e2bd7adb3&quot;,&quot;parentUUID&quot;:&quot;db9bdf15-5073-4cef-b7fe-5f38a7890f8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28bedabd-0ee0-4e73-a092-72c172eb27e5&quot;,&quot;13e894ba-d946-426d-8d30-d12e2bd7adb3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:119,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;84b5408e-e131-4b53-a478-70fc18f6b686&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;InstitutionalDepartmentName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with InstitutionalDepartmentName=FLOOR18 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;InstitutionalDepartmentName&#x27; Should find modality worklist with InstitutionalDepartmentName=FLOOR18 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f148a178-b378-4a79-9985-8748d66794a6&quot;,&quot;parentUUID&quot;:&quot;84b5408e-e131-4b53-a478-70fc18f6b686&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with InstitutionalDepartmentName=foobar and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;InstitutionalDepartmentName&#x27; Should find modality worklist with InstitutionalDepartmentName=foobar and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:59,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c32a8420-2c70-4894-9f96-3aca96bc62c0&quot;,&quot;parentUUID&quot;:&quot;84b5408e-e131-4b53-a478-70fc18f6b686&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f148a178-b378-4a79-9985-8748d66794a6&quot;,&quot;c32a8420-2c70-4894-9f96-3aca96bc62c0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:122,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3b32e972-d5ba-47f9-822f-f9d72caf440d&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledStationAETitle&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledStationAETitle=WORKLIST and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledStationAETitle&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledStationAETitle=WORKLIST and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:62,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6cce945-44ad-45e4-90f2-c616ea504a85&quot;,&quot;parentUUID&quot;:&quot;3b32e972-d5ba-47f9-822f-f9d72caf440d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledStationAETitle=foobar and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledStationAETitle&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledStationAETitle=foobar and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;baf31008-5312-4844-9862-f51f9366e859&quot;,&quot;parentUUID&quot;:&quot;3b32e972-d5ba-47f9-822f-f9d72caf440d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d6cce945-44ad-45e4-90f2-c616ea504a85&quot;,&quot;baf31008-5312-4844-9862-f51f9366e859&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:122,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;97fc3987-2324-4722-ade0-5d1d58d042e8&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledStationName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledStationName=GG and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledStationName&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledStationName=GG and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df762ac9-aec2-4898-9299-a93754bf48b4&quot;,&quot;parentUUID&quot;:&quot;97fc3987-2324-4722-ade0-5d1d58d042e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledStationName=foobar and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledStationName&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledStationName=foobar and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:59,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e804cfe-02cd-4365-8459-5b833e870c5d&quot;,&quot;parentUUID&quot;:&quot;97fc3987-2324-4722-ade0-5d1d58d042e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;df762ac9-aec2-4898-9299-a93754bf48b4&quot;,&quot;6e804cfe-02cd-4365-8459-5b833e870c5d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:122,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;cc6f9ad8-21ef-414b-90c1-9fd76f0ef165&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartDate=20231021 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartDate&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartDate=20231021 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60377b45-ce4d-4f6b-a54c-36409cf646e2&quot;,&quot;parentUUID&quot;:&quot;cc6f9ad8-21ef-414b-90c1-9fd76f0ef165&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartDate=19990101 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartDate&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartDate=19990101 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83e29f21-4781-44b7-a830-179f978c07c5&quot;,&quot;parentUUID&quot;:&quot;cc6f9ad8-21ef-414b-90c1-9fd76f0ef165&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;60377b45-ce4d-4f6b-a54c-36409cf646e2&quot;,&quot;83e29f21-4781-44b7-a830-179f978c07c5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:236,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;c9544c44-6653-4a2d-890a-762e04f85bec&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndDate=20231212 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndDate&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndDate=20231212 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48d7dd3e-e226-43b1-a9c9-aff0993fce71&quot;,&quot;parentUUID&quot;:&quot;c9544c44-6653-4a2d-890a-762e04f85bec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndDate=19990101 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndDate&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndDate=19990101 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:60,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ea0e475-e2fc-42d7-a1ff-55ec67918737&quot;,&quot;parentUUID&quot;:&quot;c9544c44-6653-4a2d-890a-762e04f85bec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;48d7dd3e-e226-43b1-a9c9-aff0993fce71&quot;,&quot;9ea0e475-e2fc-42d7-a1ff-55ec67918737&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:120,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;0fb3750a-1ef7-443d-8fa1-864c9f8bec5d&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartTime=003525.475 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartTime&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartTime=003525.475 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc000499-a2b0-473b-b3d6-2e817497e518&quot;,&quot;parentUUID&quot;:&quot;0fb3750a-1ef7-443d-8fa1-864c9f8bec5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartTime=003525 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartTime&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStartTime=003525 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:59,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a5077e0-3e4f-4a6e-8908-cdb62525e059&quot;,&quot;parentUUID&quot;:&quot;0fb3750a-1ef7-443d-8fa1-864c9f8bec5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cc000499-a2b0-473b-b3d6-2e817497e518&quot;,&quot;5a5077e0-3e4f-4a6e-8908-cdb62525e059&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:125,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;1124e055-7b15-4415-b116-74e251caebaa&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndTime=123525.475 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndTime&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndTime=123525.475 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cec12ed0-3be7-428e-b7ce-edcb2a041bf1&quot;,&quot;parentUUID&quot;:&quot;1124e055-7b15-4415-b116-74e251caebaa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndTime=003525 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndTime&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepEndTime=003525 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afa4e768-a13f-44ca-a6fc-55228caaf412&quot;,&quot;parentUUID&quot;:&quot;1124e055-7b15-4415-b116-74e251caebaa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cec12ed0-3be7-428e-b7ce-edcb2a041bf1&quot;,&quot;afa4e768-a13f-44ca-a6fc-55228caaf412&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:130,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;d73017b1-e185-4f70-b422-9eb1271c38b0&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledPerformingPhysicianName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledPerformingPhysicianName=ENT00373 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledPerformingPhysicianName&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledPerformingPhysicianName=ENT00373 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d95da902-6409-4750-b0bc-dfed34386a98&quot;,&quot;parentUUID&quot;:&quot;d73017b1-e185-4f70-b422-9eb1271c38b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledPerformingPhysicianName=ENT123 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledPerformingPhysicianName&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledPerformingPhysicianName=ENT123 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fd92527-eda7-49c2-8b63-961b1b39d012&quot;,&quot;parentUUID&quot;:&quot;d73017b1-e185-4f70-b422-9eb1271c38b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d95da902-6409-4750-b0bc-dfed34386a98&quot;,&quot;1fd92527-eda7-49c2-8b63-961b1b39d012&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:119,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;e4162c9a-f62f-4c5f-a1b1-f5c78f3c73f1&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepDescription&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepDescription=EXAM-DESC and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepDescription&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepDescription=EXAM-DESC and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:187,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c5bfa00-18c8-48b0-b854-a3bd2360a2b2&quot;,&quot;parentUUID&quot;:&quot;e4162c9a-f62f-4c5f-a1b1-f5c78f3c73f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepDescription=ENT123 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepDescription&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepDescription=ENT123 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80951142-f901-4582-94de-d037a133a139&quot;,&quot;parentUUID&quot;:&quot;e4162c9a-f62f-4c5f-a1b1-f5c78f3c73f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8c5bfa00-18c8-48b0-b854-a3bd2360a2b2&quot;,&quot;80951142-f901-4582-94de-d037a133a139&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:250,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;76667426-a97c-449d-a9fc-7dc97339111b&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepID=SPS-00000002 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepID&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepID=SPS-00000002 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;984cdf32-da67-4fb2-aac1-2677bc7e7fe7&quot;,&quot;parentUUID&quot;:&quot;76667426-a97c-449d-a9fc-7dc97339111b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepID=ENT123 and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepID&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepID=ENT123 and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea068a25-19e8-4d36-87a0-480dfb5e648f&quot;,&quot;parentUUID&quot;:&quot;76667426-a97c-449d-a9fc-7dc97339111b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;984cdf32-da67-4fb2-aac1-2677bc7e7fe7&quot;,&quot;ea068a25-19e8-4d36-87a0-480dfb5e648f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:243,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3c54ae5a-ad96-49b1-a2db-693be2daf713&quot;,&quot;title&quot;:&quot;query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStatus&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindMWL.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStatus=SCHEDULED and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStatus&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStatus=SCHEDULED and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:64,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00d4c8f8-ee97-486b-a82a-122e36868159&quot;,&quot;parentUUID&quot;:&quot;3c54ae5a-ad96-49b1-a2db-693be2daf713&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStatus=COMPLETED and get modality workitem successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND MWL find with a filter query modality worklist with param &#x27;ScheduledProcedureStepSequence[0].ScheduledProcedureStepStatus&#x27; Should find modality worklist with ScheduledProcedureStepSequence[0].ScheduledProcedureStepStatus=COMPLETED and get modality workitem successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToMwlLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nconsole.log(cmd);\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cd87cba-c7f3-4704-bd51-bea05afbaeb1&quot;,&quot;parentUUID&quot;:&quot;3c54ae5a-ad96-49b1-a2db-693be2daf713&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;00d4c8f8-ee97-486b-a82a-122e36868159&quot;,&quot;4cd87cba-c7f3-4704-bd51-bea05afbaeb1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:122,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;189f8ab0-ca90-4263-9fbd-4ad7b904e5e8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:77,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;db6db208-8569-49b6-93b0-2d75757aeeb6&quot;,&quot;title&quot;:&quot;DIMSE C-FIND Patient&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE C-FIND Patient\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient \&quot;before all\&quot; hook in \&quot;DIMSE C-FIND Patient\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await GlobalQrScpForTest.createQrScp();\nawait dbInstance.destroyAll();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: \&quot;/dicom-web/patients\&quot;,\n    body: testPatient\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00a364da-dbd1-4baa-a42c-05c65302e0fd&quot;,&quot;parentUUID&quot;:&quot;db6db208-8569-49b6-93b0-2d75757aeeb6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find patients&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient Should find patients&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToPatientLevel();\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nexpect(message).have.string(\&quot;Find Response: 1 (Pending)\&quot;);\nexpect(message).not.have.string(\&quot;Find Response: 2 (Pending)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3dbbe63f-ccbf-46f9-a581-6cb1006b1589&quot;,&quot;parentUUID&quot;:&quot;db6db208-8569-49b6-93b0-2d75757aeeb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5592b9f9-e0a8-4f11-854c-bf508988a3a3&quot;,&quot;title&quot;:&quot;find with a filter&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fdb53296-f6b4-45fd-98c3-975ba1a85d88&quot;,&quot;title&quot;:&quot;find with filter &#x27;PatientName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find patient with PatientName=\&quot;John^Doe\&quot; and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient find with a filter find with filter &#x27;PatientName&#x27; Should find patient with PatientName=\&quot;John^Doe\&quot; and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToPatientLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a699899-3407-4787-9664-d04326d3e26d&quot;,&quot;parentUUID&quot;:&quot;fdb53296-f6b4-45fd-98c3-975ba1a85d88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find patient with PatientName=foo and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient find with a filter find with filter &#x27;PatientName&#x27; Should find patient with PatientName=foo and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToPatientLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19edba13-9393-4036-8259-e09698ba4e4d&quot;,&quot;parentUUID&quot;:&quot;fdb53296-f6b4-45fd-98c3-975ba1a85d88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find patients with filter &#x27;PatientName=John*&amp;PatientName=*Doe&#x27; and get 1 patient successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient find with a filter find with filter &#x27;PatientName&#x27; Should find patients with filter &#x27;PatientName=John*&amp;PatientName=*Doe&#x27; and get 1 patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:65,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToPatientLevel()\n    .addKeyAndValue(\&quot;PatientName\&quot;, \&quot;John*\&quot;)\n    .addKeyAndValue(\&quot;PatientName\&quot;, \&quot;*Doe\&quot;);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nexpect(message).have.string(\&quot;Find Response: 1 (Pending)\&quot;);\nexpect(message).not.have.string(\&quot;Find Response: 2 (Pending)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df6ddddd-9b5e-4b54-bbbc-dcc01be891aa&quot;,&quot;parentUUID&quot;:&quot;fdb53296-f6b4-45fd-98c3-975ba1a85d88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1a699899-3407-4787-9664-d04326d3e26d&quot;,&quot;19edba13-9393-4036-8259-e09698ba4e4d&quot;,&quot;df6ddddd-9b5e-4b54-bbbc-dcc01be891aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:180,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;bbac6fcc-6a85-4a75-a8e6-d8ad7a4fce52&quot;,&quot;title&quot;:&quot;find with filter &#x27;PatientID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find patient with PatientID=12345 and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient find with a filter find with filter &#x27;PatientID&#x27; Should find patient with PatientID=12345 and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:159,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToPatientLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b3a04e6-93b8-4822-8b0a-d38654130fb4&quot;,&quot;parentUUID&quot;:&quot;bbac6fcc-6a85-4a75-a8e6-d8ad7a4fce52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find patient with PatientID=foo and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient find with a filter find with filter &#x27;PatientID&#x27; Should find patient with PatientID=foo and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToPatientLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0eaa3daf-8643-43b2-a975-68ddac8bd155&quot;,&quot;parentUUID&quot;:&quot;bbac6fcc-6a85-4a75-a8e6-d8ad7a4fce52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3b3a04e6-93b8-4822-8b0a-d38654130fb4&quot;,&quot;0eaa3daf-8643-43b2-a975-68ddac8bd155&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:213,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;4a0b9969-8a22-4afe-89d4-6eab94926c34&quot;,&quot;title&quot;:&quot;find with filter &#x27;PatientBirthDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindPatient.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find patient with PatientBirthDate=19800101 and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient find with a filter find with filter &#x27;PatientBirthDate&#x27; Should find patient with PatientBirthDate=19800101 and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:164,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToPatientLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13eaa623-0a8f-43d3-b660-5c28209204b0&quot;,&quot;parentUUID&quot;:&quot;4a0b9969-8a22-4afe-89d4-6eab94926c34&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find patient with PatientBirthDate=19800102 and get patient successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Patient find with a filter find with filter &#x27;PatientBirthDate&#x27; Should find patient with PatientBirthDate=19800102 and get patient successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:59,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToPatientLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60bbf48d-aa99-48b8-b663-b814a5b8415f&quot;,&quot;parentUUID&quot;:&quot;4a0b9969-8a22-4afe-89d4-6eab94926c34&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;13eaa623-0a8f-43d3-b660-5c28209204b0&quot;,&quot;60bbf48d-aa99-48b8-b663-b814a5b8415f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:223,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;3dbbe63f-ccbf-46f9-a581-6cb1006b1589&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:58,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;4285160a-d752-4e50-b855-24ba59729af6&quot;,&quot;title&quot;:&quot;DIMSE C-FIND Study-Series&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE C-FIND Study-Series\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series \&quot;before all\&quot; hook in \&quot;DIMSE C-FIND Study-Series\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await GlobalQrScpForTest.createQrScp();\nawait dbInstance.destroyAll();\nawait storeInstanceForTest(\n    resolve(__dirname, \&quot;../../testData/dicomFiles/1-01-mod-vo\&quot;)\n);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aed0d77e-36c6-4a4b-af06-004d5da1e435&quot;,&quot;parentUUID&quot;:&quot;4285160a-d752-4e50-b855-24ba59729af6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;DIMSE C-FIND Study-Series\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series \&quot;after all\&quot; hook in \&quot;DIMSE C-FIND Study-Series\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f43ab05c-efb4-4beb-8cc6-047ae98d1af7&quot;,&quot;parentUUID&quot;:&quot;4285160a-d752-4e50-b855-24ba59729af6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find 1 series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series Should find 1 series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nexpect(message).have.string(\&quot;Find Response: 1 (Pending)\&quot;);\nexpect(message).not.have.string(\&quot;Find Response: 2 (Pending)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4426b366-009d-40cd-ba5c-c5bd664878fa&quot;,&quot;parentUUID&quot;:&quot;4285160a-d752-4e50-b855-24ba59729af6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9d8fe8a3-5f82-423e-9b87-580ead3c43fd&quot;,&quot;title&quot;:&quot;find with a filter&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9e144094-f5de-42ea-9163-f01432708afd&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;Modality&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series with Modality=MR and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;Modality&#x27; Should find Study-Series with Modality=MR and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:77,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fff321c-0918-4943-8d34-839129e1001c&quot;,&quot;parentUUID&quot;:&quot;9e144094-f5de-42ea-9163-f01432708afd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with Modality=DOC and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;Modality&#x27; Should find Study-Series with Modality=DOC and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b17d580-bb5a-442e-b54b-f3b42605fc54&quot;,&quot;parentUUID&quot;:&quot;9e144094-f5de-42ea-9163-f01432708afd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1fff321c-0918-4943-8d34-839129e1001c&quot;,&quot;7b17d580-bb5a-442e-b54b-f3b42605fc54&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:140,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;7f741b3b-d1eb-434f-b5c4-a43f61d15bf5&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;SeriesInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series with SeriesInstanceUID=1.3.6.1.4.1.14519.5.2.1.62266640231940987006694557463549207147 and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;SeriesInstanceUID&#x27; Should find Study-Series with SeriesInstanceUID=1.3.6.1.4.1.14519.5.2.1.62266640231940987006694557463549207147 and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:70,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c781c963-00ce-46cb-b7e3-01188bfa1056&quot;,&quot;parentUUID&quot;:&quot;7f741b3b-d1eb-434f-b5c4-a43f61d15bf5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with SeriesInstanceUID=123456 and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;SeriesInstanceUID&#x27; Should find Study-Series with SeriesInstanceUID=123456 and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e43d7ad-3131-4a0f-ba3c-77731d6d10e9&quot;,&quot;parentUUID&quot;:&quot;7f741b3b-d1eb-434f-b5c4-a43f61d15bf5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c781c963-00ce-46cb-b7e3-01188bfa1056&quot;,&quot;9e43d7ad-3131-4a0f-ba3c-77731d6d10e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:138,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;04d0d5c9-783a-43da-8acc-845cb914c7f2&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;SeriesNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series with SeriesNumber=13 and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;SeriesNumber&#x27; Should find Study-Series with SeriesNumber=13 and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:65,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d62899d-8b6e-45f2-b8b9-be9a69d00c8d&quot;,&quot;parentUUID&quot;:&quot;04d0d5c9-783a-43da-8acc-845cb914c7f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with SeriesNumber=1 and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;SeriesNumber&#x27; Should find Study-Series with SeriesNumber=1 and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8cec0cf-ae47-4a3f-9bda-4ef6bc888d8a&quot;,&quot;parentUUID&quot;:&quot;04d0d5c9-783a-43da-8acc-845cb914c7f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4d62899d-8b6e-45f2-b8b9-be9a69d00c8d&quot;,&quot;d8cec0cf-ae47-4a3f-9bda-4ef6bc888d8a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:136,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;bc29f62d-53fe-4e47-9c23-eebad024b97f&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;SeriesDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series with SeriesDate=20090721 and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;SeriesDate&#x27; Should find Study-Series with SeriesDate=20090721 and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f1baec0-33a7-44fd-b928-2fa634e18514&quot;,&quot;parentUUID&quot;:&quot;bc29f62d-53fe-4e47-9c23-eebad024b97f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with SeriesDate=19990101 and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;SeriesDate&#x27; Should find Study-Series with SeriesDate=19990101 and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eaa93f62-b309-49d6-83c7-f9a431416806&quot;,&quot;parentUUID&quot;:&quot;bc29f62d-53fe-4e47-9c23-eebad024b97f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5f1baec0-33a7-44fd-b928-2fa634e18514&quot;,&quot;eaa93f62-b309-49d6-83c7-f9a431416806&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:255,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;9f248323-ff99-4a27-967d-ec159479f4f5&quot;,&quot;title&quot;:&quot;query study-series with param &#x27;SeriesDescription&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series with SeriesDescription=*BRAIN* and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;SeriesDescription&#x27; Should find Study-Series with SeriesDescription=*BRAIN* and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14efc21a-ffe3-48e3-ae27-bedb83f0215d&quot;,&quot;parentUUID&quot;:&quot;9f248323-ff99-4a27-967d-ec159479f4f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with SeriesDescription=*Capture* and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query study-series with param &#x27;SeriesDescription&#x27; Should find Study-Series with SeriesDescription=*Capture* and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61353f85-446d-4a16-9629-4f8ceef4f8ad&quot;,&quot;parentUUID&quot;:&quot;9f248323-ff99-4a27-967d-ec159479f4f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;14efc21a-ffe3-48e3-ae27-bedb83f0215d&quot;,&quot;61353f85-446d-4a16-9629-4f8ceef4f8ad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:129,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;83643ec3-6085-4dd9-89c5-1c7ff41a78d2&quot;,&quot;title&quot;:&quot;query series with param &#x27;PerformingPhysicianName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series with PerformingPhysicianName=cName and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query series with param &#x27;PerformingPhysicianName&#x27; Should find Study-Series with PerformingPhysicianName=cName and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;999fcc07-5f4a-4247-9a99-dd9d675564f8&quot;,&quot;parentUUID&quot;:&quot;83643ec3-6085-4dd9-89c5-1c7ff41a78d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with PerformingPhysicianName=dName and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query series with param &#x27;PerformingPhysicianName&#x27; Should find Study-Series with PerformingPhysicianName=dName and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73ce9bb2-02c5-433e-bebf-d5b25e6181e8&quot;,&quot;parentUUID&quot;:&quot;83643ec3-6085-4dd9-89c5-1c7ff41a78d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with PerformingPhysicianName=foobar and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query series with param &#x27;PerformingPhysicianName&#x27; Should find Study-Series with PerformingPhysicianName=foobar and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b39c097-70ab-4cf6-aff4-f7840cdd5182&quot;,&quot;parentUUID&quot;:&quot;83643ec3-6085-4dd9-89c5-1c7ff41a78d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;999fcc07-5f4a-4247-9a99-dd9d675564f8&quot;,&quot;73ce9bb2-02c5-433e-bebf-d5b25e6181e8&quot;,&quot;3b39c097-70ab-4cf6-aff4-f7840cdd5182&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:311,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;6e7aefee-846c-4fe6-962a-86ba32090e40&quot;,&quot;title&quot;:&quot;query series with param &#x27;OperatorsName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindSeries.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study-Series with OperatorsName=pyName and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query series with param &#x27;OperatorsName&#x27; Should find Study-Series with OperatorsName=pyName and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb6cc50c-6fe0-47dc-82fa-80e0e1c23a78&quot;,&quot;parentUUID&quot;:&quot;6e7aefee-846c-4fe6-962a-86ba32090e40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with OperatorsName=py and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query series with param &#x27;OperatorsName&#x27; Should find Study-Series with OperatorsName=py and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb14c686-4675-4839-923f-cdcb4cea6174&quot;,&quot;parentUUID&quot;:&quot;6e7aefee-846c-4fe6-962a-86ba32090e40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study-Series with OperatorsName=foobar and get series successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study-Series find with a filter query series with param &#x27;OperatorsName&#x27; Should find Study-Series with OperatorsName=foobar and get series successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToSeriesLevel();\nfindScuCmdBuilder.addKeyAndValue(\&quot;StudyInstanceUID\&quot;, STUDY_UID);\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6d7f634-77b3-4f14-92cc-0c8fb5867dbf&quot;,&quot;parentUUID&quot;:&quot;6e7aefee-846c-4fe6-962a-86ba32090e40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eb6cc50c-6fe0-47dc-82fa-80e0e1c23a78&quot;,&quot;eb14c686-4675-4839-923f-cdcb4cea6174&quot;,&quot;e6d7f634-77b3-4f14-92cc-0c8fb5867dbf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:313,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;4426b366-009d-40cd-ba5c-c5bd664878fa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:66,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;91560698-a1b0-4381-a0f1-0a65fb6dabc7&quot;,&quot;title&quot;:&quot;DIMSE C-FIND Study&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE C-FIND Study\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study \&quot;before all\&quot; hook in \&quot;DIMSE C-FIND Study\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:887,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await GlobalQrScpForTest.createQrScp();\nawait dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8cd873f-4363-4895-9540-4dd8011fde26&quot;,&quot;parentUUID&quot;:&quot;91560698-a1b0-4381-a0f1-0a65fb6dabc7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;DIMSE C-FIND Study\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study \&quot;after all\&quot; hook in \&quot;DIMSE C-FIND Study\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8d1973c-f8fc-4891-a99e-21193f65d034&quot;,&quot;parentUUID&quot;:&quot;91560698-a1b0-4381-a0f1-0a65fb6dabc7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find 4 studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study Should find 4 studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nexpect(message).have.string(\&quot;Find Response: 4 (Pending)\&quot;);\nexpect(message).not.have.string(\&quot;Find Response: 5 (Pending)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;035dc9c6-4856-420b-939f-980df599c53d&quot;,&quot;parentUUID&quot;:&quot;91560698-a1b0-4381-a0f1-0a65fb6dabc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0418f005-d5de-4140-94ba-c11b23718136&quot;,&quot;title&quot;:&quot;find with a filter&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2db358d3-c464-4218-bc62-228646d865e7&quot;,&quot;title&quot;:&quot;find with filter &#x27;StudyDate&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with StudyDate=20100213 and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;StudyDate&#x27; Should find Study with StudyDate=20100213 and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:76,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c6e3cba-728e-4f72-9cc1-515cfa710a27&quot;,&quot;parentUUID&quot;:&quot;2db358d3-c464-4218-bc62-228646d865e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with StudyDate=-20100213 and get studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;StudyDate&#x27; Should find Study with StudyDate=-20100213 and get studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:95,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a02b0292-ad00-4e66-9463-78a199da5d8f&quot;,&quot;parentUUID&quot;:&quot;2db358d3-c464-4218-bc62-228646d865e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with StudyDate=20100101- and get studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;StudyDate&#x27; Should find Study with StudyDate=20100101- and get studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:194,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d37983f7-43e3-425c-ae4d-eae9c9fa4785&quot;,&quot;parentUUID&quot;:&quot;2db358d3-c464-4218-bc62-228646d865e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with StudyDate=20100212-20181031 and get studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;StudyDate&#x27; Should find Study with StudyDate=20100212-20181031 and get studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:99,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afd70141-6707-473a-99a0-13f04205fd05&quot;,&quot;parentUUID&quot;:&quot;2db358d3-c464-4218-bc62-228646d865e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c6e3cba-728e-4f72-9cc1-515cfa710a27&quot;,&quot;a02b0292-ad00-4e66-9463-78a199da5d8f&quot;,&quot;d37983f7-43e3-425c-ae4d-eae9c9fa4785&quot;,&quot;afd70141-6707-473a-99a0-13f04205fd05&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:464,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;d7390dae-cc2c-4b47-86d0-44db35fe98de&quot;,&quot;title&quot;:&quot;find with filter &#x27;StudyTime&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with StudyTime=170922 and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;StudyTime&#x27; Should find Study with StudyTime=170922 and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:82,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d4def4e-f5e9-4316-bfb9-8bc0e1c7fe4a&quot;,&quot;parentUUID&quot;:&quot;d7390dae-cc2c-4b47-86d0-44db35fe98de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with StudyTime=-170922 and get studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;StudyTime&#x27; Should find Study with StudyTime=-170922 and get studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e853693-2ae3-4538-bcfa-c5f82417546e&quot;,&quot;parentUUID&quot;:&quot;d7390dae-cc2c-4b47-86d0-44db35fe98de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with StudyTime=150000- and get studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;StudyTime&#x27; Should find Study with StudyTime=150000- and get studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d32a0bf3-b81d-49eb-81a0-134e0adadf9a&quot;,&quot;parentUUID&quot;:&quot;d7390dae-cc2c-4b47-86d0-44db35fe98de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with StudyTime=130000-160000 and get studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;StudyTime&#x27; Should find Study with StudyTime=130000-160000 and get studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:80,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ead625d-4f94-4605-9126-fbe3fd9393f7&quot;,&quot;parentUUID&quot;:&quot;d7390dae-cc2c-4b47-86d0-44db35fe98de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d4def4e-f5e9-4316-bfb9-8bc0e1c7fe4a&quot;,&quot;3e853693-2ae3-4538-bcfa-c5f82417546e&quot;,&quot;d32a0bf3-b81d-49eb-81a0-134e0adadf9a&quot;,&quot;3ead625d-4f94-4605-9126-fbe3fd9393f7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:333,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;cc3d8ddf-be1d-4cd8-8f26-5a9c1bf734c9&quot;,&quot;title&quot;:&quot;find with filter &#x27;AccessionNumber&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with AccessionNumber=3266660953883852 and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;AccessionNumber&#x27; Should find Study with AccessionNumber=3266660953883852 and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:94,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fef1b0ab-17f7-4f43-9535-91bd6f60bdc0&quot;,&quot;parentUUID&quot;:&quot;cc3d8ddf-be1d-4cd8-8f26-5a9c1bf734c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with AccessionNumber=123456 and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;AccessionNumber&#x27; Should find Study with AccessionNumber=123456 and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:74,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b1e712c-43d5-4f91-a9f7-791900b6525c&quot;,&quot;parentUUID&quot;:&quot;cc3d8ddf-be1d-4cd8-8f26-5a9c1bf734c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fef1b0ab-17f7-4f43-9535-91bd6f60bdc0&quot;,&quot;0b1e712c-43d5-4f91-a9f7-791900b6525c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:168,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;26acb822-a8b6-4e7d-8086-0a83d9eef154&quot;,&quot;title&quot;:&quot;find with filter &#x27;ModalitiesInStudy&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with ModalitiesInStudy=CT and get studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;ModalitiesInStudy&#x27; Should find Study with ModalitiesInStudy=CT and get studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6377489-0206-4d12-8c26-c116af2bec9e&quot;,&quot;parentUUID&quot;:&quot;26acb822-a8b6-4e7d-8086-0a83d9eef154&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with ModalitiesInStudy=DOC and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter find with filter &#x27;ModalitiesInStudy&#x27; Should find Study with ModalitiesInStudy=DOC and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:77,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79bc0e52-a4fa-47a9-a79a-751a41bc5aba&quot;,&quot;parentUUID&quot;:&quot;26acb822-a8b6-4e7d-8086-0a83d9eef154&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b6377489-0206-4d12-8c26-c116af2bec9e&quot;,&quot;79bc0e52-a4fa-47a9-a79a-751a41bc5aba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:169,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;a8ca001e-de59-4f53-ad38-df916a64beba&quot;,&quot;title&quot;:&quot;query studies with param &#x27;PatientName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with PatientName=\&quot;Philips^Amy\&quot; and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;PatientName&#x27; Should find Study with PatientName=\&quot;Philips^Amy\&quot; and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;310acad4-4371-41e6-b3f1-a2f8b24e1b5e&quot;,&quot;parentUUID&quot;:&quot;a8ca001e-de59-4f53-ad38-df916a64beba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with PatientName=\&quot;Philips*\&quot; and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;PatientName&#x27; Should find Study with PatientName=\&quot;Philips*\&quot; and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:70,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11165958-18dd-4d54-8b6c-dd05a92f5712&quot;,&quot;parentUUID&quot;:&quot;a8ca001e-de59-4f53-ad38-df916a64beba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with PatientName=\&quot;foobar\&quot; and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;PatientName&#x27; Should find Study with PatientName=\&quot;foobar\&quot; and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;397eb573-d832-4399-a0a0-7d7da97fc2a6&quot;,&quot;parentUUID&quot;:&quot;a8ca001e-de59-4f53-ad38-df916a64beba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find studies with filter &#x27;PatientName=Philips*&amp;PatientName=*Amy&#x27; and get 1 study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;PatientName&#x27; Should find studies with filter &#x27;PatientName=Philips*&amp;PatientName=*Amy&#x27; and get 1 study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:67,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel()\n    .addKeyAndValue(\&quot;PatientName\&quot;, `\&quot;Philips*\&quot;`)\n    .addKeyAndValue(\&quot;PatientName\&quot;, `\&quot;*Amy\&quot;`);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nexpect(message).have.string(\&quot;Find Response: 1 (Pending)\&quot;);\nexpect(message).not.have.string(\&quot;Find Response: 2 (Pending)\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46d2a90f-fd8b-47bc-9a38-b30ec03d6307&quot;,&quot;parentUUID&quot;:&quot;a8ca001e-de59-4f53-ad38-df916a64beba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;310acad4-4371-41e6-b3f1-a2f8b24e1b5e&quot;,&quot;11165958-18dd-4d54-8b6c-dd05a92f5712&quot;,&quot;397eb573-d832-4399-a0a0-7d7da97fc2a6&quot;,&quot;46d2a90f-fd8b-47bc-9a38-b30ec03d6307&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:258,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;544f3436-4b2a-4ca8-bcfe-e548e651b699&quot;,&quot;title&quot;:&quot;query studies with param &#x27;PatientID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with PatientID=123456 and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;PatientID&#x27; Should find Study with PatientID=123456 and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a3398a6-8d19-43a8-87bf-725bbde6ab9c&quot;,&quot;parentUUID&quot;:&quot;544f3436-4b2a-4ca8-bcfe-e548e651b699&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with PatientID=C3* and get studies successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;PatientID&#x27; Should find Study with PatientID=C3* and get studies successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:77,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72cfb08a-7b8a-48ac-bee0-cd02392a00f8&quot;,&quot;parentUUID&quot;:&quot;544f3436-4b2a-4ca8-bcfe-e548e651b699&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with PatientID=foobar and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;PatientID&#x27; Should find Study with PatientID=foobar and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:50,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1412fe44-00ef-4f76-bd5f-2603a22e4406&quot;,&quot;parentUUID&quot;:&quot;544f3436-4b2a-4ca8-bcfe-e548e651b699&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9a3398a6-8d19-43a8-87bf-725bbde6ab9c&quot;,&quot;72cfb08a-7b8a-48ac-bee0-cd02392a00f8&quot;,&quot;1412fe44-00ef-4f76-bd5f-2603a22e4406&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:205,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;de7be39f-2735-4540-91e4-c6505dbf1636&quot;,&quot;title&quot;:&quot;query studies with param &#x27;StudyInstanceUID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with StudyInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.246199836259881483055596634768 and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;StudyInstanceUID&#x27; Should find Study with StudyInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.246199836259881483055596634768 and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:75,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2a07ddf-ef49-4a4b-a0f2-db1898b8e386&quot;,&quot;parentUUID&quot;:&quot;de7be39f-2735-4540-91e4-c6505dbf1636&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with StudyInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.246199836259881483055596123456 and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;StudyInstanceUID&#x27; Should find Study with StudyInstanceUID=1.3.6.1.4.1.14519.5.2.1.3023.4017.246199836259881483055596123456 and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:70,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a596dc35-d19a-4901-8813-daecc1ad67d1&quot;,&quot;parentUUID&quot;:&quot;de7be39f-2735-4540-91e4-c6505dbf1636&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c2a07ddf-ef49-4a4b-a0f2-db1898b8e386&quot;,&quot;a596dc35-d19a-4901-8813-daecc1ad67d1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:145,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;432ab6d8-d46d-4c47-8cce-67271ee1a4d2&quot;,&quot;title&quot;:&quot;query studies with param &#x27;StudyID&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with StudyID=D18-1001 and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;StudyID&#x27; Should find Study with StudyID=D18-1001 and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:191,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c59e7d80-fa43-4804-836a-18049273af1c&quot;,&quot;parentUUID&quot;:&quot;432ab6d8-d46d-4c47-8cce-67271ee1a4d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with StudyID=foo and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;StudyID&#x27; Should find Study with StudyID=foo and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:79,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;118f4d88-7d1c-4a9e-a066-65a3c676309f&quot;,&quot;parentUUID&quot;:&quot;432ab6d8-d46d-4c47-8cce-67271ee1a4d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c59e7d80-fa43-4804-836a-18049273af1c&quot;,&quot;118f4d88-7d1c-4a9e-a066-65a3c676309f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;eb558929-6dcc-4795-84d6-8d8fe70d1075&quot;,&quot;title&quot;:&quot;query studies with param &#x27;ReferringPhysicianName&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-find\\cFindStudy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should find Study with ReferringPhysicianName=\&quot;ROBERT^BROWN\&quot; and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;ReferringPhysicianName&#x27; Should find Study with ReferringPhysicianName=\&quot;ROBERT^BROWN\&quot; and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:81,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03ceeaf2-ef55-4531-89e8-3a68f944f3e7&quot;,&quot;parentUUID&quot;:&quot;eb558929-6dcc-4795-84d6-8d8fe70d1075&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should find Study with ReferringPhysicianName=\&quot;foo\&quot; and get study successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-FIND Study find with a filter query studies with param &#x27;ReferringPhysicianName&#x27; Should find Study with ReferringPhysicianName=\&quot;foo\&quot; and get study successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:69,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let findScuCmdBuilder = new FindScuCmdBuilder(GlobalQrScpForTest.ip, GlobalQrScpForTest.port, \&quot;RACCOON_TEST\&quot;);\nfindScuCmdBuilder.setToStudyLevel();\nfindScuCmdBuilder.addKeyAndValue(param, value);\nlet cmd = findScuCmdBuilder.getCmd();\nlet { code, message } = await doCFind(cmd);\nexpect(code).to.be.equal(0);\nif (expectedCount === 0) {\n    expect(message).have.string(\&quot;I: Received Final Find Response (Success)\&quot;);\n    expect(message).not.have.string(\&quot;Find Response: 1 (Pending)\&quot;);\n    return;\n}\nexpect(message).have.string(`Find Response: ${expectedCount} (Pending)`);\nexpect(message).not.have.string(`Find Response: ${expectedCount + 1} (Pending)`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0aafbfd0-ebf4-443c-85ef-c68ae6e65a4d&quot;,&quot;parentUUID&quot;:&quot;eb558929-6dcc-4795-84d6-8d8fe70d1075&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;03ceeaf2-ef55-4531-89e8-3a68f944f3e7&quot;,&quot;0aafbfd0-ebf4-443c-85ef-c68ae6e65a4d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:150,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[&quot;035dc9c6-4856-420b-939f-980df599c53d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:97,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;e7eecca2-38d5-439f-961a-c95661ae1cc6&quot;,&quot;title&quot;:&quot;DIMSE C-MOVE&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\c-move\\c-move.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\c-move\\c-move.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE C-MOVE\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-MOVE \&quot;before all\&quot; hook in \&quot;DIMSE C-MOVE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1983,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await GlobalQrScpForTest.createQrScp();\nawait dbInstance.destroyAll();\nawait storeTestDicomFiles();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78751f7e-47e2-42fe-8d14-cd50ff7633a3&quot;,&quot;parentUUID&quot;:&quot;e7eecca2-38d5-439f-961a-c95661ae1cc6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should download 11 instances with patient level&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-MOVE Should download 11 instances with patient level&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1202,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let moveResult = await doCMove([\n    \&quot;-k\&quot;,\n    \&quot;0008,0052=PATIENT\&quot;,\n    \&quot;-k\&quot;,\n    `0010,0020=${PATIENT_ID}`\n]);\nexpect(moveResult.code).to.equal(0);\nexpect(moveResult.message).have.string(\&quot;I: Received Store Request (MsgID 11\&quot;);\nexpect(moveResult.message).have.string(\&quot;I: Received Final Move Response (Success)\&quot;);\nexpect(moveResult.message).not.have.string(\&quot;I: Received Store Request (MsgID 12\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;258962d1-c151-49f6-897e-4a4aae9a5f6a&quot;,&quot;parentUUID&quot;:&quot;e7eecca2-38d5-439f-961a-c95661ae1cc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should download 11 instances with patient-study level&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-MOVE Should download 11 instances with patient-study level&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1207,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let moveResult = await doCMove([\n    \&quot;-k\&quot;,\n    \&quot;0008,0052=STUDY\&quot;,\n    \&quot;-k\&quot;,\n    `0010,0020=${PATIENT_ID}`,\n    \&quot;-k\&quot;,\n    `0020,000d=${STUDY_UID}`\n]);\nexpect(moveResult.code).to.equal(0);\nexpect(moveResult.message).have.string(\&quot;I: Received Store Request (MsgID 11\&quot;);\nexpect(moveResult.message).have.string(\&quot;I: Received Final Move Response (Success)\&quot;);\nexpect(moveResult.message).not.have.string(\&quot;I: Received Store Request (MsgID 12\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb6f25d4-75cf-48ce-ab8c-d9ec1b75059e&quot;,&quot;parentUUID&quot;:&quot;e7eecca2-38d5-439f-961a-c95661ae1cc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should download 5 instances with patient-study-series level&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-MOVE Should download 5 instances with patient-study-series level&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1123,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let moveResult = await doCMove([\n    \&quot;-k\&quot;,\n    \&quot;0008,0052=SERIES\&quot;,\n    \&quot;-k\&quot;,\n    `0010,0020=${PATIENT_ID}`,\n    \&quot;-k\&quot;,\n    `0020,000d=${STUDY_UID}`,\n    \&quot;-k\&quot;,\n    `0020,000e=${SERIES_UID}`\n]);\nexpect(moveResult.code).to.equal(0);\nexpect(moveResult.message).have.string(\&quot;I: Received Store Request (MsgID 5\&quot;);\nexpect(moveResult.message).have.string(\&quot;I: Received Final Move Response (Success)\&quot;);\nexpect(moveResult.message).not.have.string(\&quot;I: Received Store Request (MsgID 6\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbf6fb34-eaf7-4765-a498-828edb3226f0&quot;,&quot;parentUUID&quot;:&quot;e7eecca2-38d5-439f-961a-c95661ae1cc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should download 1 instance with patient-study-series-instance level&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-MOVE Should download 1 instance with patient-study-series-instance level&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1060,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let moveResult = await doCMove([\n    \&quot;-k\&quot;,\n    \&quot;0008,0052=IMAGE\&quot;,\n    \&quot;-k\&quot;,\n    `0010,0020=${PATIENT_ID}`,\n    \&quot;-k\&quot;,\n    `0020,000d=${STUDY_UID}`,\n    \&quot;-k\&quot;,\n    `0020,000e=${SERIES_UID}`,\n    \&quot;-k\&quot;,\n    `0008,0018=${INSTANCE_UID}`\n]);\nexpect(moveResult.code).to.equal(0);\nexpect(moveResult.message).have.string(\&quot;I: Received Store Request (MsgID 1\&quot;);\nexpect(moveResult.message).have.string(\&quot;I: Received Final Move Response (Success)\&quot;);\nexpect(moveResult.message).not.have.string(\&quot;I: Received Store Request (MsgID 2\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63c58721-63ac-4a19-ac9a-52d1c09ea1d2&quot;,&quot;parentUUID&quot;:&quot;e7eecca2-38d5-439f-961a-c95661ae1cc6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;258962d1-c151-49f6-897e-4a4aae9a5f6a&quot;,&quot;fb6f25d4-75cf-48ce-ab8c-d9ec1b75059e&quot;,&quot;cbf6fb34-eaf7-4765-a498-828edb3226f0&quot;,&quot;63c58721-63ac-4a19-ac9a-52d1c09ea1d2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4592,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;title&quot;:&quot;DIMSE Check Source AE&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\checktSourceAE.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\checktSourceAE.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE Check Source AE\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE Check Source AE \&quot;before all\&quot; hook in \&quot;DIMSE Check Source AE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;process.env.DIMSE_CHECK_STORE_SCU_AE = true;\nprocess.env.DIMSE_CHECK_FIND_SCU_AE = true;\nprocess.env.DIMSE_CHECK_MOVE_SCU_AE = true;\nip = getLocalIp();\nport = await getPorts();\nscp = new DcmQrScp(ip, port, \&quot;RACCOON_TEST\&quot;, TEST_ALLOW_AEs);\nawait scp.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bdd61d2-4b11-4fc6-ac30-1356802c7cb6&quot;,&quot;parentUUID&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;DIMSE Check Source AE\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE Check Source AE \&quot;after all\&quot; hook in \&quot;DIMSE Check Source AE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;process.env.DIMSE_CHECK_STORE_SCU_AE = false;\nprocess.env.DIMSE_CHECK_FIND_SCU_AE = false;\nprocess.env.DIMSE_CHECK_MOVE_SCU_AE = false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c5b88d9-7ccf-4cfb-a652-25f69e8472e6&quot;,&quot;parentUUID&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;C-FIND: Should raise error when using invalid AE&quot;,&quot;fullTitle&quot;:&quot;DIMSE Check Source AE C-FIND: Should raise error when using invalid AE&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let { message } = await doCFind([\n    \&quot;-aet\&quot;,\n    \&quot;INVALID\&quot;,\n    \&quot;-aec\&quot;,\n    \&quot;RACCOON_TEST\&quot;,\n    \&quot;-v\&quot;,\n    ip,\n    port,\n    \&quot;-P\&quot;,\n    \&quot;-k\&quot;,\n    \&quot;0008,0052=PATIENT\&quot;\n]);\nexpect(message).have.string(Status.NotAuthorized.toString(16));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5bf874ac-15d0-4482-aeb0-73bacce37637&quot;,&quot;parentUUID&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;C-FIND: Should work properly when using valid AE&quot;,&quot;fullTitle&quot;:&quot;DIMSE Check Source AE C-FIND: Should work properly when using valid AE&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let { message } = await doCFind([\n    \&quot;-aet\&quot;,\n    TEST_ALLOW_AEs.sources.find[0].aeTitle,\n    \&quot;-aec\&quot;,\n    \&quot;RACCOON_TEST\&quot;,\n    \&quot;-v\&quot;,\n    ip,\n    port,\n    \&quot;-P\&quot;,\n    \&quot;-k\&quot;,\n    \&quot;0008,0052=PATIENT\&quot;\n]);\nexpect(message).not.have.string(Status.NotAuthorized.toString(16));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0519c495-de67-4928-9ea5-aa290e731613&quot;,&quot;parentUUID&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;C-MOVE: Should raise error when using invalid AE&quot;,&quot;fullTitle&quot;:&quot;DIMSE Check Source AE C-MOVE: Should raise error when using invalid AE&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let { message } = await doCMove(\&quot;INVALID\&quot;, [\n    \&quot;-k\&quot;,\n    \&quot;0008,0052=PATIENT\&quot;,\n    \&quot;-k\&quot;,\n    `0010,0020=${\&quot;1234567890\&quot;}`\n]);\nexpect(message).have.string(Status.NotAuthorized.toString(16));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;891997d2-df31-4afe-a266-2e308cb3245b&quot;,&quot;parentUUID&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;C-MOVE: Should work properly when using valid AE&quot;,&quot;fullTitle&quot;:&quot;DIMSE Check Source AE C-MOVE: Should work properly when using valid AE&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let { message } = await doCMove(TEST_ALLOW_AEs.sources.move[0].aeTitle, [\n    \&quot;-k\&quot;,\n    \&quot;0008,0052=PATIENT\&quot;,\n    \&quot;-k\&quot;,\n    `0010,0020=${\&quot;1234567890\&quot;}`\n]);\nexpect(message).not.have.string(Status.NotAuthorized.toString(16));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b8f5cf4-e955-4bce-a43b-2b28024c3d20&quot;,&quot;parentUUID&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;C-STORE: Should raise error when using invalid AE&quot;,&quot;fullTitle&quot;:&quot;DIMSE Check Source AE C-STORE: Should raise error when using invalid AE&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let { message } = await doCStore(\&quot;INVALID\&quot;, pathResolve(__dirname, \&quot;../testData/dicomFiles/1-01-mod-vo\&quot;));\nexpect(message).have.string(Status.NotAuthorized.toString(16));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b9829d2-21e9-4ebe-b1fe-b94e0dd517c6&quot;,&quot;parentUUID&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;C-STORE: Should work properly when using valid AE&quot;,&quot;fullTitle&quot;:&quot;DIMSE Check Source AE C-STORE: Should work properly when using valid AE&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let { message } = await doCStore(TEST_ALLOW_AEs.sources.store[0].aeTitle, pathResolve(__dirname, \&quot;../testData/dicomFiles/1-01-mod-vo\&quot;));\nexpect(message).not.have.string(Status.NotAuthorized.toString(16));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5b1e8a9-55e2-48a1-b68a-16e14cf48013&quot;,&quot;parentUUID&quot;:&quot;ee007964-7580-426d-ba95-43f6f0d8b78c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5bf874ac-15d0-4482-aeb0-73bacce37637&quot;,&quot;0519c495-de67-4928-9ea5-aa290e731613&quot;,&quot;891997d2-df31-4afe-a266-2e308cb3245b&quot;,&quot;1b8f5cf4-e955-4bce-a43b-2b28024c3d20&quot;,&quot;8b9829d2-21e9-4ebe-b1fe-b94e0dd517c6&quot;,&quot;c5b1e8a9-55e2-48a1-b68a-16e14cf48013&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:548,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;2077123e-6c5b-4679-b117-502a2c966c06&quot;,&quot;title&quot;:&quot;DIMSE STGCMT&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\stgcmt.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\stgcmt.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE STGCMT\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE STGCMT \&quot;before all\&quot; hook in \&quot;DIMSE STGCMT\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:907,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await GlobalQrScpForTest.createQrScp();\nawait dbInstance.destroyAll();\nawait storeTestDicomFiles(STUDY_PATH);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63d24794-1810-4509-8d7d-9b4af67a0b02&quot;,&quot;parentUUID&quot;:&quot;2077123e-6c5b-4679-b117-502a2c966c06&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should not have FailureReason when all instances exist&quot;,&quot;fullTitle&quot;:&quot;DIMSE STGCMT Should not have FailureReason when all instances exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:448,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await doStgCmt(STUDY_PATH);\n\nexpect(response.code).to.equal(0);\nexpect(response.message).not.have.string(\&quot;FailureReason\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c86b40bf-0b2d-494e-ac77-0657b99159b5&quot;,&quot;parentUUID&quot;:&quot;2077123e-6c5b-4679-b117-502a2c966c06&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should have FailureReason when instance not exist&quot;,&quot;fullTitle&quot;:&quot;DIMSE STGCMT Should have FailureReason when instance not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:389,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await doStgCmt(NOT_FOUND_PATH);\n\nexpect(response.code).to.equal(0);\nexpect(response.message).have.string(\&quot;FailureReason\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ecebbef-dcc3-43eb-96cc-4f9f0259789c&quot;,&quot;parentUUID&quot;:&quot;2077123e-6c5b-4679-b117-502a2c966c06&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c86b40bf-0b2d-494e-ac77-0657b99159b5&quot;,&quot;3ecebbef-dcc3-43eb-96cc-4f9f0259789c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:837,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;title&quot;:&quot;DIMSE C-STORE&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\dimse\\storescp.test.js&quot;,&quot;file&quot;:&quot;\\test\\dimse\\storescp.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;DIMSE C-STORE\&quot;&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE \&quot;before all\&quot; hook in \&quot;DIMSE C-STORE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await GlobalQrScpForTest.createQrScp();\nawait dbInstance.destroyAll();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;473c81c4-2dea-43b4-8ac0-d90e7a6edcd9&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should store a DICOM instance with complete attributes successfully and have proper attributes&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store a DICOM instance with complete attributes successfully and have proper attributes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:200,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const testDicomFilename = path.resolve(__dirname, \&quot;../testData/dicomFiles/1-01-mod-vo\&quot;);\n        const { code, message } = await doCStore(testDicomFilename);\n        expect(code).to.be.equal(0);\n        expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n        let testFileDicomJson = await JDcm2Json.get(testDicomFilename);\n        await expectInstanceHaveProperAttributes(testFileDicomJson);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8b3dd73-b24c-493d-acf9-59418568b8c7&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should update a DICOM instance&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should update a DICOM instance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:97,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const testDicomFilename = path.resolve(__dirname, \&quot;../testData/forStore/1-01-mod-vo-updated\&quot;);\nconst { code, message } = await doCStore(testDicomFilename);\nexpect(code).to.be.equal(0);\nexpect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\nlet testFileDicomJson = await JDcm2Json.get(testDicomFilename);\nawait expectInstanceHaveProperAttributes(testFileDicomJson);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2119e81f-4806-43ec-b0f2-8a435589ee3b&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.1, CR) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.1, CR) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf102556-c08a-4330-9734-5d6e5ab57874&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.1.1, DX) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.1.1, DX) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:95,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8d643ce-3cad-4e8e-8ae8-81827cf6500f&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.2, CT) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.2, CT) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:86,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fb88feb-98b2-4676-b45e-d7c3f2f78eb6&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.4, MR) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.4, MR) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8a1c9e3-cdda-4740-b25a-551a23bc1de5&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.7, US) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.7, US) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:89,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb6b2fb1-565f-4b89-8e32-4067f1ec335f&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.104.1, US) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.104.1, US) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:87,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;589dfa21-4250-497f-bfed-1d712ff0c2fb&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.7, SC) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.7, SC) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:82,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;978869a2-c199-427c-bbbc-4e88e87bb95d&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.2, OT) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.2, OT) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:82,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7f8a477-a217-4713-ab91-f3e670720613&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.9.1.1, ECG) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.9.1.1, ECG) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:226,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13b31896-8436-4054-9025-4831abc64495&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.12.1, XA) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.12.1, XA) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:93,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a82548c6-ae37-4578-b6fe-751b44bc02c4&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.3.1, Multi-Frame (US)) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.3.1, Multi-Frame (US)) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edf21f2b-18e8-42a3-be5b-81fecbab82a6&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.91.1, ANN) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.91.1, ANN) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:206,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a58fab1c-138f-4163-a493-f0c75f4823d7&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.481.3, RTSTRUCT) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.481.3, RTSTRUCT) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;346a617b-ace7-4aa9-8d81-ff928fd82124&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.66.4, SEG) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.66.4, SEG) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9566a9a-b312-4ab8-9b4c-f07d68f3c300&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.11.1, GSPS) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (SOP Class: 1.2.840.10008.5.1.4.1.1.11.1, GSPS) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5a7185d-5225-4d72-8f49-e0d4642eaa5e&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.91, JPEG 2000) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.91, JPEG 2000) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:203,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dac5b3e-e598-4792-9fea-3d1530518743&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.51, JPEG Lossless) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.51, JPEG Lossless) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:194,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d8479e2-33a3-498d-ae58-a08b207c8fee&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.50, JPEG Baseline) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.4.50, JPEG Baseline) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:96,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72b263b6-236b-4d05-bafa-0cce2ff5fff8&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.1, Explicit VR Little Endian (Uncompressed)) successfully&quot;,&quot;fullTitle&quot;:&quot;DIMSE C-STORE Should store DICOM instance (Transfer Syntax: 1.2.840.10008.1.2.1, Explicit VR Little Endian (Uncompressed)) successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:81,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;doCStore(filename).then(({ code, message }) =&gt; {\n    expect(code).to.be.equal(0);\n    expect(message).contain(\&quot;with status SUCCESS  : 1\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37e80247-a420-4c9b-9215-4828cee4e7bb&quot;,&quot;parentUUID&quot;:&quot;f17efaf4-a65e-4eab-9d7b-e3ac25ab0c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8b3dd73-b24c-493d-acf9-59418568b8c7&quot;,&quot;2119e81f-4806-43ec-b0f2-8a435589ee3b&quot;,&quot;bf102556-c08a-4330-9734-5d6e5ab57874&quot;,&quot;e8d643ce-3cad-4e8e-8ae8-81827cf6500f&quot;,&quot;9fb88feb-98b2-4676-b45e-d7c3f2f78eb6&quot;,&quot;a8a1c9e3-cdda-4740-b25a-551a23bc1de5&quot;,&quot;eb6b2fb1-565f-4b89-8e32-4067f1ec335f&quot;,&quot;589dfa21-4250-497f-bfed-1d712ff0c2fb&quot;,&quot;978869a2-c199-427c-bbbc-4e88e87bb95d&quot;,&quot;d7f8a477-a217-4713-ab91-f3e670720613&quot;,&quot;13b31896-8436-4054-9025-4831abc64495&quot;,&quot;a82548c6-ae37-4578-b6fe-751b44bc02c4&quot;,&quot;edf21f2b-18e8-42a3-be5b-81fecbab82a6&quot;,&quot;a58fab1c-138f-4163-a493-f0c75f4823d7&quot;,&quot;346a617b-ace7-4aa9-8d81-ff928fd82124&quot;,&quot;a9566a9a-b312-4ab8-9b4c-f07d68f3c300&quot;,&quot;c5a7185d-5225-4d72-8f49-e0d4642eaa5e&quot;,&quot;1dac5b3e-e598-4792-9fea-3d1530518743&quot;,&quot;3d8479e2-33a3-498d-ae58-a08b207c8fee&quot;,&quot;72b263b6-236b-4d05-bafa-0cce2ff5fff8&quot;,&quot;37e80247-a420-4c9b-9215-4828cee4e7bb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2492,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;3ee5f81a-a46b-4bc8-bab6-c227bce44e61&quot;,&quot;title&quot;:&quot;WADO-RS get delete reason &#x27;/dicom-web/delete-reason/:uid&#x27;&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\getDeleteReason.test.js&quot;,&quot;file&quot;:&quot;\\test\\getDeleteReason.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;WADO-RS get delete reason &#x27;/dicom-web/delete-reason/:uid&#x27;\&quot;&quot;,&quot;fullTitle&quot;:&quot;WADO-RS get delete reason &#x27;/dicom-web/delete-reason/:uid&#x27; \&quot;before all\&quot; hook in \&quot;WADO-RS get delete reason &#x27;/dicom-web/delete-reason/:uid&#x27;\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:902,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await dbInstance.destroyAll();\nawait storeTestDicomFiles();\nawait inject(app, {\n    method: \&quot;POST\&quot;,\n    url: `/dicom-web/studies/${STUDY_UID}/delete-with-reason`,\n    headers: {\n        \&quot;Content-Type\&quot;: \&quot;application/dicom+json\&quot;\n    },\n    payload: JSON.stringify({ reason: \&quot;test\&quot; })\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3074aef-9853-4148-b880-4e8fb30b2be9&quot;,&quot;parentUUID&quot;:&quot;3ee5f81a-a46b-4bc8-bab6-c227bce44e61&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should get delete reason for study&quot;,&quot;fullTitle&quot;:&quot;WADO-RS get delete reason &#x27;/dicom-web/delete-reason/:uid&#x27; Should get delete reason for study&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let response = await inject(app, {\n    method: \&quot;GET\&quot;,\n    url: `/dicom-web/delete-reason/${STUDY_UID}`\n});\nexpect(response.statusCode).to.equal(200);\nlet deleteReason = await response.json();\nexpect(deleteReason).have.property(\&quot;reason\&quot;).to.be.equal(\&quot;test\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2253f369-dcff-45ef-b3cb-b0183848cf6b&quot;,&quot;parentUUID&quot;:&quot;3ee5f81a-a46b-4bc8-bab6-c227bce44e61&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2253f369-dcff-45ef-b3cb-b0183848cf6b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;20df811a-efe1-4205-9285-58bc7cb21658&quot;,&quot;title&quot;:&quot;HL7 OMI&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\hl7\\hl7-omi-to-dicom-json.test.js&quot;,&quot;file&quot;:&quot;\\test\\hl7\\hl7-omi-to-dicom-json.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9ba32771-f1aa-432a-b314-bd77432f290a&quot;,&quot;title&quot;:&quot;Parse OMI To DICOM Json&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\hl7\\hl7-omi-to-dicom-json.test.js&quot;,&quot;file&quot;:&quot;\\test\\hl7\\hl7-omi-to-dicom-json.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should parse OMI to dicom json and have correct properties&quot;,&quot;fullTitle&quot;:&quot;HL7 OMI Parse OMI To DICOM Json should parse OMI to dicom json and have correct properties&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ormMessage = fs.readFileSync(\n    join(__dirname, \&quot;../testData/hl7/omi-for-adt.hl7\&quot;),\n    \&quot;utf-8\&quot;\n);\nlet ormMessageSplit = ormMessage.split(/(\\r\\n|\\n|$)/m);\normMessage = ormMessageSplit.join(\&quot;\\r\&quot;);\nlet hl7Parser = new Hl7Parser();\nlet dicomJsonParser = new Hl7ToDicomMwlParser(hl7Parser.parse(ormMessage));\nlet mwl = dicomJsonParser.toDicomMwlJson(\&quot;OMI\&quot;);\n    \n// Patient ID\nexpect(mwl).has.property(\&quot;00100020\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;454721\&quot;);\n// Patient Name\nexpect(mwl).has.property(\&quot;00100010\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).has.property(\&quot;Alphabetic\&quot;).to.be.equal(\&quot;DOE^JOHN^^^^\&quot;);\n// Patient Birth Date\nexpect(mwl).has.property(\&quot;00100030\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;19480203\&quot;);\n// Patient Sex\nexpect(mwl).has.property(\&quot;00100040\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;M\&quot;);\n// Scheduled Procedure Step Sequence\nexpect(mwl).has.property(\&quot;00400100\&quot;).has.property(\&quot;Value\&quot;).has.lengthOf(1);\nlet spsSeq = mwl[\&quot;00400100\&quot;][\&quot;Value\&quot;][0];\n// Scheduled Station AE Title\nexpect(spsSeq).has.property(\&quot;00400001\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;ScheduledStationAET1\&quot;);\nexpect(spsSeq).has.property(\&quot;00400001\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;1\&quot;).to.be.equal(\&quot;ScheduledStationAET2\&quot;);\n// Scheduled Procedure Step Start Date\nexpect(spsSeq).has.property(\&quot;00400002\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;20000816\&quot;);\n// Scheduled Procedure Step Start Time\nexpect(spsSeq).has.property(\&quot;00400003\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;151000\&quot;);\n// Modality\nexpect(spsSeq).has.property(\&quot;00080060\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;CT\&quot;);\n// Scheduled Performing Physician&#x27;s Name\nexpect(spsSeq).has.property(\&quot;00400006\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).has.property(\&quot;Alphabetic\&quot;).to.be.equal(\&quot;ScheduledPerformingPhysicianNameFN^ScheduledPerformingPhysicianNameGN^ScheduledPerformingPhysicianNameMN^^DR^Md\&quot;);\n// Scheduled Procedure Step Description\nexpect(spsSeq).has.property(\&quot;00400007\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;Microscopic Observation\&quot;);\n// Scheduled Protocol Code Sequence\nexpect(spsSeq).has.property(\&quot;00400008\&quot;).has.property(\&quot;Value\&quot;).has.lengthOf(1);\nlet spsScheduledProtocolCodeSeq = spsSeq[\&quot;00400008\&quot;][\&quot;Value\&quot;][0];\n// Scheduled Protocol Code Value\nexpect(spsScheduledProtocolCodeSeq).has.property(\&quot;00080100\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;10637-7\&quot;);\n// Scheduled Protocol Code Scheme Designator\nexpect(spsScheduledProtocolCodeSeq).has.property(\&quot;00080102\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;LN\&quot;);\n// Scheduled Protocol Code Meaning\nexpect(spsScheduledProtocolCodeSeq).has.property(\&quot;00080104\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;Microscopic Observation\&quot;);\n// Scheduled Procedure Step ID\nexpect(spsSeq).has.property(\&quot;00400009\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;SPS-johs4U\&quot;);\n// Scheduled Procedure Step Status\nexpect(spsSeq).has.property(\&quot;00400020\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;SCHEDULED\&quot;);\n\n// Requested Procedure ID\nexpect(mwl).has.property(\&quot;00401001\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;RP-chaeF9\&quot;);\n// Accession Number\nexpect(mwl).has.property(\&quot;00080050\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;ACC-shi3Ub\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b41af5ba-f809-4900-a0be-68cefaf3eaa7&quot;,&quot;parentUUID&quot;:&quot;9ba32771-f1aa-432a-b314-bd77432f290a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b41af5ba-f809-4900-a0be-68cefaf3eaa7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;53e85192-38ee-4b0f-98f0-f980248742f9&quot;,&quot;title&quot;:&quot;HL7 ORM&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\hl7\\hl7-orm-to-dicom-json.test.js&quot;,&quot;file&quot;:&quot;\\test\\hl7\\hl7-orm-to-dicom-json.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3093ef3f-3bbb-4ece-ba7f-13e442adf43c&quot;,&quot;title&quot;:&quot;Parse ORM To DICOM Json&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\hl7\\hl7-orm-to-dicom-json.test.js&quot;,&quot;file&quot;:&quot;\\test\\hl7\\hl7-orm-to-dicom-json.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should parse orm to dicom json and have correct properties&quot;,&quot;fullTitle&quot;:&quot;HL7 ORM Parse ORM To DICOM Json should parse orm to dicom json and have correct properties&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ormMessage = fs.readFileSync(\n    join(__dirname, \&quot;../testData/hl7/orm-for-adt.hl7\&quot;),\n    \&quot;utf-8\&quot;\n);\nlet ormMessageSplit = ormMessage.split(/(\\r\\n|\\n|$)/m);\normMessage = ormMessageSplit.join(\&quot;\\r\&quot;);\nlet hl7Parser = new Hl7Parser();\nlet dicomJsonParser = new Hl7ToDicomMwlParser(hl7Parser.parse(ormMessage));\nlet mwl = dicomJsonParser.toDicomMwlJson(\&quot;ORM\&quot;);\n    \n// Patient ID\nexpect(mwl).has.property(\&quot;00100020\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;454721\&quot;);\n// Patient Name\nexpect(mwl).has.property(\&quot;00100010\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).has.property(\&quot;Alphabetic\&quot;).to.be.equal(\&quot;DOE^JOHN^^^^\&quot;);\n// Patient Birth Date\nexpect(mwl).has.property(\&quot;00100030\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;19480203\&quot;);\n// Patient Sex\nexpect(mwl).has.property(\&quot;00100040\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;M\&quot;);\n// Scheduled Procedure Step Sequence\nexpect(mwl).has.property(\&quot;00400100\&quot;).has.property(\&quot;Value\&quot;).has.lengthOf(1);\nlet spsSeq = mwl[\&quot;00400100\&quot;][\&quot;Value\&quot;][0];\n// Scheduled Procedure Step Start Date\nexpect(spsSeq).has.property(\&quot;00400002\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;20150325\&quot;);\n// Scheduled Procedure Step Start Time\nexpect(spsSeq).has.property(\&quot;00400003\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;160228\&quot;);\n// Modality\nexpect(spsSeq).has.property(\&quot;00080060\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;CT\&quot;);\n// Scheduled Performing Physician&#x27;s Name\nexpect(spsSeq).has.property(\&quot;00400006\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).has.property(\&quot;Alphabetic\&quot;).to.be.equal(\&quot;^AMY^JANE^^^^\&quot;);\n// Scheduled Procedure Step Description\nexpect(spsSeq).has.property(\&quot;00400007\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;Description\&quot;);\n// Scheduled Protocol Code Sequence\nexpect(spsSeq).has.property(\&quot;00400008\&quot;).has.property(\&quot;Value\&quot;).has.lengthOf(1);\nlet spsScheduledProtocolCodeSeq = spsSeq[\&quot;00400008\&quot;][\&quot;Value\&quot;][0];\n// Scheduled Protocol Code Value\nexpect(spsScheduledProtocolCodeSeq).has.property(\&quot;00080100\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;CodeValue\&quot;);\n// Scheduled Protocol Code Scheme Designator\nexpect(spsScheduledProtocolCodeSeq).has.property(\&quot;00080102\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;99Designator\&quot;);\n// Scheduled Protocol Code Meaning\nexpect(spsScheduledProtocolCodeSeq).has.property(\&quot;00080104\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;Description\&quot;);\n// Scheduled Procedure Step ID\nexpect(spsSeq).has.property(\&quot;00400009\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;SPS-ohgh3W\&quot;);\n// Scheduled Procedure Step Status\nexpect(spsSeq).has.property(\&quot;00400020\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;SCHEDULED\&quot;);\n// Requested Procedure ID\nexpect(mwl).has.property(\&quot;00401001\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;RP-aeW9ee\&quot;);\n// Accession Number\nexpect(mwl).has.property(\&quot;00080050\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;ACC-bei3AP\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8697fba7-00ab-4341-8885-b3e17246f390&quot;,&quot;parentUUID&quot;:&quot;3093ef3f-3bbb-4ece-ba7f-13e442adf43c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8697fba7-00ab-4341-8885-b3e17246f390&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;46663e8e-e984-411a-9ca3-ba52f42badeb&quot;,&quot;title&quot;:&quot;HL7 Patient&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\hl7\\hl7-patient-to-dicom-json.test.js&quot;,&quot;file&quot;:&quot;\\test\\hl7\\hl7-patient-to-dicom-json.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3a0ddc71-57f3-42b5-8d77-edbe4a10ccb9&quot;,&quot;title&quot;:&quot;Parse Patient To DICOM Json&quot;,&quot;fullFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\test\\hl7\\hl7-patient-to-dicom-json.test.js&quot;,&quot;file&quot;:&quot;\\test\\hl7\\hl7-patient-to-dicom-json.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should parse patient to dicom json and have correct properties&quot;,&quot;fullTitle&quot;:&quot;HL7 Patient Parse Patient To DICOM Json should parse patient to dicom json and have correct properties&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let adtMessage = fs.readFileSync(\n    join(__dirname, \&quot;../testData/hl7/adt.hl7\&quot;),\n    \&quot;utf-8\&quot;\n);\nlet adtMessageSplit = adtMessage.split(/(\\r\\n|\\n|$)/m);\nadtMessage = adtMessageSplit.join(\&quot;\\r\&quot;);\nlet hl7Parser = new Hl7Parser();\nlet dicomJsonParser = new Hl7ToDicomPatientParser(hl7Parser.parse(adtMessage));\nlet patient = dicomJsonParser.toDicomPatientJson();\n    \n// Patient ID\nexpect(patient).has.property(\&quot;00100020\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;454721\&quot;);\n// Patient Name\nexpect(patient).has.property(\&quot;00100010\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).has.property(\&quot;Alphabetic\&quot;).to.be.equal(\&quot;DOE^JOHN^^^^\&quot;);\n// Patient Birth Date\nexpect(patient).has.property(\&quot;00100030\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;19480203\&quot;);\n// Patient Sex\nexpect(patient).has.property(\&quot;00100040\&quot;).has.property(\&quot;Value\&quot;).has.property(\&quot;0\&quot;).to.be.equal(\&quot;M\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b2a2c07-0e82-483a-8f1e-996585ae1919&quot;,&quot;parentUUID&quot;:&quot;3a0ddc71-57f3-42b5-8d77-edbe4a10ccb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1b2a2c07-0e82-483a-8f1e-996585ae1919&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:300000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.6.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;raccoon-dicom-sql-business&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\work-space\\code\\raccoon-space\\raccoon-dicom-sql-business\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>